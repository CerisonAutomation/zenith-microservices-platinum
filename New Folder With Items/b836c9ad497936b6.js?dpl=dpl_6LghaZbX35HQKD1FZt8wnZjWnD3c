(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,11294,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.regexpCode=r.getEsmExportName=r.getProperty=r.safeStringify=r.stringify=r.strConcat=r.addCodeArg=r.str=r._=r.nil=r._Code=r.Name=r.IDENTIFIER=r._CodeOrName=void 0;class a{}r._CodeOrName=a,r.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends a{constructor(e){if(super(),!r.IDENTIFIER.test(e))throw Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}r.Name=n;class l extends a{constructor(e){super(),this._items="string"==typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return""===e||'""'===e}get str(){var e;return null!=(e=this._str)?e:this._str=this._items.reduce((e,t)=>`${e}${t}`,"")}get names(){var e;return null!=(e=this._names)?e:this._names=this._items.reduce((e,t)=>(t instanceof n&&(e[t.str]=(e[t.str]||0)+1),e),{})}}function i(e,...t){let r=[e[0]],a=0;for(;a<t.length;)c(r,t[a]),r.push(e[++a]);return new l(r)}r._Code=l,r.nil=new l(""),r._=i;let o=new l("+");function s(e,...t){let r=[u(e[0])],a=0;for(;a<t.length;)r.push(o),c(r,t[a]),r.push(o,u(e[++a]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===o){var r,a;let l=(r=e[t-1],'""'===(a=e[t+1])?r:'""'===r?a:"string"==typeof r?a instanceof n||'"'!==r[r.length-1]?void 0:"string"!=typeof a?`${r.slice(0,-1)}${a}"`:'"'===a[0]?r.slice(0,-1)+a.slice(1):void 0:"string"!=typeof a||'"'!==a[0]||r instanceof n?void 0:`"${r}${a.slice(1)}`);if(void 0!==l){e.splice(t-1,3,l);continue}e[t++]="+"}t++}}(r),new l(r)}function c(e,t){var r;t instanceof l?e.push(...t._items):t instanceof n?e.push(t):e.push("number"==typeof(r=t)||"boolean"==typeof r||null===r?r:u(Array.isArray(r)?r.join(","):r))}function u(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}r.str=s,r.addCodeArg=c,r.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:s`${e}${t}`},r.stringify=function(e){return new l(u(e))},r.safeStringify=u,r.getProperty=function(e){return"string"==typeof e&&r.IDENTIFIER.test(e)?new l(`.${e}`):i`[${e}]`},r.getEsmExportName=function(e){if("string"==typeof e&&r.IDENTIFIER.test(e))return new l(`${e}`);throw Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)},r.regexpCode=function(e){return new l(e.toString())}},683074,(e,t,r)=>{"use strict";var a,n;Object.defineProperty(r,"__esModule",{value:!0}),r.ValueScope=r.ValueScopeName=r.Scope=r.varKinds=r.UsedValueState=void 0;let l=e.r(11294);class i extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}(n=a||(r.UsedValueState=a={}))[n.Started=0]="Started",n[n.Completed=1]="Completed",r.varKinds={const:new l.Name("const"),let:new l.Name("let"),var:new l.Name("var")};class o{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof l.Name?e:this.name(e)}name(e){return new l.Name(this._newName(e))}_newName(e){let t=this._names[e]||this._nameGroup(e);return`${e}${t.index++}`}_nameGroup(e){var t,r;if((null==(r=null==(t=this._parent)?void 0:t._prefixes)?void 0:r.has(e))||this._prefixes&&!this._prefixes.has(e))throw Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}r.Scope=o;class s extends l.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:r}){this.value=e,this.scopePath=(0,l._)`.${new l.Name(t)}[${r}]`}}r.ValueScopeName=s;let c=(0,l._)`\n`;r.ValueScope=class extends o{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?c:l.nil}}get(){return this._scope}name(e){return new s(e,this._newName(e))}value(e,t){var r;if(void 0===t.ref)throw Error("CodeGen: ref must be passed in value");let a=this.toName(e),{prefix:n}=a,l=null!=(r=t.key)?r:t.ref,i=this._values[n];if(i){let e=i.get(l);if(e)return e}else i=this._values[n]=new Map;i.set(l,a);let o=this._scope[n]||(this._scope[n]=[]),s=o.length;return o[s]=t.ref,a.setValue(t,{property:n,itemIndex:s}),a}getValue(e,t){let r=this._values[e];if(r)return r.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,t=>{if(void 0===t.scopePath)throw Error(`CodeGen: name "${t}" has no value`);return(0,l._)`${e}${t.scopePath}`})}scopeCode(e=this._values,t,r){return this._reduceValues(e,e=>{if(void 0===e.value)throw Error(`CodeGen: name "${e}" has no value`);return e.value.code},t,r)}_reduceValues(e,t,n={},o){let s=l.nil;for(let c in e){let u=e[c];if(!u)continue;let d=n[c]=n[c]||new Map;u.forEach(e=>{if(d.has(e))return;d.set(e,a.Started);let n=t(e);if(n){let t=this.opts.es5?r.varKinds.var:r.varKinds.const;s=(0,l._)`${s}${t} ${e} = ${n};${this.opts._n}`}else if(n=null==o?void 0:o(e))s=(0,l._)`${s}${n}${this.opts._n}`;else throw new i(e);d.set(e,a.Completed)})}return s}}},100145,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.or=r.and=r.not=r.CodeGen=r.operators=r.varKinds=r.ValueScopeName=r.ValueScope=r.Scope=r.Name=r.regexpCode=r.stringify=r.getProperty=r.nil=r.strConcat=r.str=r._=void 0;let a=e.r(11294),n=e.r(683074);var l=e.r(11294);Object.defineProperty(r,"_",{enumerable:!0,get:function(){return l._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return l.str}}),Object.defineProperty(r,"strConcat",{enumerable:!0,get:function(){return l.strConcat}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return l.nil}}),Object.defineProperty(r,"getProperty",{enumerable:!0,get:function(){return l.getProperty}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(r,"regexpCode",{enumerable:!0,get:function(){return l.regexpCode}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return l.Name}});var i=e.r(683074);Object.defineProperty(r,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(r,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(r,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(r,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),r.operators={GT:new a._Code(">"),GTE:new a._Code(">="),LT:new a._Code("<"),LTE:new a._Code("<="),EQ:new a._Code("==="),NEQ:new a._Code("!=="),NOT:new a._Code("!"),OR:new a._Code("||"),AND:new a._Code("&&"),ADD:new a._Code("+")};class o{optimizeNodes(){return this}optimizeNames(e,t){return this}}class s extends o{constructor(e,t,r){super(),this.varKind=e,this.name=t,this.rhs=r}render({es5:e,_n:t}){let r=e?n.varKinds.var:this.varKind,a=void 0===this.rhs?"":` = ${this.rhs}`;return`${r} ${this.name}${a};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=D(this.rhs,e,t)),this}get names(){return this.rhs instanceof a._CodeOrName?this.rhs.names:{}}}class c extends o{constructor(e,t,r){super(),this.lhs=e,this.rhs=t,this.sideEffects=r}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof a.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=D(this.rhs,e,t),this}get names(){return P(this.lhs instanceof a.Name?{}:{...this.lhs.names},this.rhs)}}class u extends c{constructor(e,t,r,a){super(e,r,a),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class d extends o{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class f extends o{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){let t=this.label?` ${this.label}`:"";return`break${t};`+e}}class p extends o{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class h extends o{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=D(this.code,e,t),this}get names(){return this.code instanceof a._CodeOrName?this.code.names:{}}}class m extends o{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((t,r)=>t+r.render(e),"")}optimizeNodes(){let{nodes:e}=this,t=e.length;for(;t--;){let r=e[t].optimizeNodes();Array.isArray(r)?e.splice(t,1,...r):r?e[t]=r:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){let{nodes:r}=this,a=r.length;for(;a--;){let n=r[a];n.optimizeNames(e,t)||(function(e,t){for(let r in t)e[r]=(e[r]||0)-(t[r]||0)}(e,n.names),r.splice(a,1))}return r.length>0?this:void 0}get names(){return this.nodes.reduce((e,t)=>N(e,t.names),{})}}class g extends m{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class b extends m{}class v extends g{}v.kind="else";class y extends g{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){let e=t.optimizeNodes();t=this.else=Array.isArray(e)?new v(e):e}return t?!1===e?t instanceof y?t:t.nodes:this.nodes.length?this:new y(T(e),t instanceof y?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var r;if(this.else=null==(r=this.else)?void 0:r.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=D(this.condition,e,t),this}get names(){let e=super.names;return P(e,this.condition),this.else&&N(e,this.else.names),e}}y.kind="if";class x extends g{}x.kind="for";class w extends x{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=D(this.iteration,e,t),this}get names(){return N(super.names,this.iteration.names)}}class j extends x{constructor(e,t,r,a){super(),this.varKind=e,this.name=t,this.from=r,this.to=a}render(e){let t=e.es5?n.varKinds.var:this.varKind,{name:r,from:a,to:l}=this;return`for(${t} ${r}=${a}; ${r}<${l}; ${r}++)`+super.render(e)}get names(){let e=P(super.names,this.from);return P(e,this.to)}}class C extends x{constructor(e,t,r,a){super(),this.loop=e,this.varKind=t,this.name=r,this.iterable=a}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=D(this.iterable,e,t),this}get names(){return N(super.names,this.iterable.names)}}class S extends g{constructor(e,t,r){super(),this.name=e,this.args=t,this.async=r}render(e){let t=this.async?"async ":"";return`${t}function ${this.name}(${this.args})`+super.render(e)}}S.kind="func";class $ extends m{render(e){return"return "+super.render(e)}}$.kind="return";class _ extends g{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null==(e=this.catch)||e.optimizeNodes(),null==(t=this.finally)||t.optimizeNodes(),this}optimizeNames(e,t){var r,a;return super.optimizeNames(e,t),null==(r=this.catch)||r.optimizeNames(e,t),null==(a=this.finally)||a.optimizeNames(e,t),this}get names(){let e=super.names;return this.catch&&N(e,this.catch.names),this.finally&&N(e,this.finally.names),e}}class k extends g{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}k.kind="catch";class E extends g{render(e){return"finally"+super.render(e)}}function N(e,t){for(let r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function P(e,t){return t instanceof a._CodeOrName?N(e,t.names):e}function D(e,t,r){var n;if(e instanceof a.Name)return l(e);if(!((n=e)instanceof a._Code&&n._items.some(e=>e instanceof a.Name&&1===t[e.str]&&void 0!==r[e.str])))return e;return new a._Code(e._items.reduce((e,t)=>(t instanceof a.Name&&(t=l(t)),t instanceof a._Code?e.push(...t._items):e.push(t),e),[]));function l(e){let a=r[e.str];return void 0===a||1!==t[e.str]?e:(delete t[e.str],a)}}function T(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:(0,a._)`!${I(e)}`}E.kind="finally",r.CodeGen=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new n.Scope({parent:e}),this._nodes=[new b]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){let r=this._extScope.value(e,t);return(this._values[r.prefix]||(this._values[r.prefix]=new Set)).add(r),r}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,r,a){let n=this._scope.toName(t);return void 0!==r&&a&&(this._constants[n.str]=r),this._leafNode(new s(e,n,r)),n}const(e,t,r){return this._def(n.varKinds.const,e,t,r)}let(e,t,r){return this._def(n.varKinds.let,e,t,r)}var(e,t,r){return this._def(n.varKinds.var,e,t,r)}assign(e,t,r){return this._leafNode(new c(e,t,r))}add(e,t){return this._leafNode(new u(e,r.operators.ADD,t))}code(e){return"function"==typeof e?e():e!==a.nil&&this._leafNode(new h(e)),this}object(...e){let t=["{"];for(let[r,n]of e)t.length>1&&t.push(","),t.push(r),(r!==n||this.opts.es5)&&(t.push(":"),(0,a.addCodeArg)(t,n));return t.push("}"),new a._Code(t)}if(e,t,r){if(this._blockNode(new y(e)),t&&r)this.code(t).else().code(r).endIf();else if(t)this.code(t).endIf();else if(r)throw Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new y(e))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(y,v)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new w(e),t)}forRange(e,t,r,a,l=this.opts.es5?n.varKinds.var:n.varKinds.let){let i=this._scope.toName(e);return this._for(new j(l,i,t,r),()=>a(i))}forOf(e,t,r,l=n.varKinds.const){let i=this._scope.toName(e);if(this.opts.es5){let e=t instanceof a.Name?t:this.var("_arr",t);return this.forRange("_i",0,(0,a._)`${e}.length`,t=>{this.var(i,(0,a._)`${e}[${t}]`),r(i)})}return this._for(new C("of",l,i,t),()=>r(i))}forIn(e,t,r,l=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,a._)`Object.keys(${t})`,r);let i=this._scope.toName(e);return this._for(new C("in",l,i,t),()=>r(i))}endFor(){return this._endBlockNode(x)}label(e){return this._leafNode(new d(e))}break(e){return this._leafNode(new f(e))}return(e){let t=new $;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw Error('CodeGen: "return" should have one node');return this._endBlockNode($)}try(e,t,r){if(!t&&!r)throw Error('CodeGen: "try" without "catch" and "finally"');let a=new _;if(this._blockNode(a),this.code(e),t){let e=this.name("e");this._currNode=a.catch=new k(e),t(e)}return r&&(this._currNode=a.finally=new E,this.code(r)),this._endBlockNode(k,E)}throw(e){return this._leafNode(new p(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){let t=this._blockStarts.pop();if(void 0===t)throw Error("CodeGen: not in self-balancing block");let r=this._nodes.length-t;if(r<0||void 0!==e&&r!==e)throw Error(`CodeGen: wrong number of nodes: ${r} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=a.nil,r,n){return this._blockNode(new S(e,t,r)),n&&this.code(n).endFunc(),this}endFunc(){return this._endBlockNode(S)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){let r=this._currNode;if(r instanceof e||t&&r instanceof t)return this._nodes.pop(),this;throw Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){let t=this._currNode;if(!(t instanceof y))throw Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let t=this._nodes;t[t.length-1]=e}},r.not=T;let O=A(r.operators.AND);r.and=function(...e){return e.reduce(O)};let R=A(r.operators.OR);function A(e){return(t,r)=>t===a.nil?r:r===a.nil?t:(0,a._)`${I(t)} ${e} ${I(r)}`}function I(e){return e instanceof a.Name?e:(0,a._)`(${e})`}r.or=function(...e){return e.reduce(R)}},803026,(e,t,r)=>{"use strict";var a,n;Object.defineProperty(r,"__esModule",{value:!0}),r.checkStrictMode=r.getErrorPath=r.Type=r.useFunc=r.setEvaluated=r.evaluatedPropsToName=r.mergeEvaluated=r.eachItem=r.unescapeJsonPointer=r.escapeJsonPointer=r.escapeFragment=r.unescapeFragment=r.schemaRefOrVal=r.schemaHasRulesButRef=r.schemaHasRules=r.checkUnknownRules=r.alwaysValidSchema=r.toHash=void 0;let l=e.r(100145),i=e.r(11294);function o(e,t=e.schema){let{opts:r,self:a}=e;if(!r.strictSchema||"boolean"==typeof t)return;let n=a.RULES.keywords;for(let r in t)n[r]||m(e,`unknown keyword: "${r}"`)}function s(e,t){if("boolean"==typeof e)return!e;for(let r in e)if(t[r])return!0;return!1}function c(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function u(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function d({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:a}){return(n,i,o,s)=>{let c=void 0===o?i:o instanceof l.Name?(i instanceof l.Name?e(n,i,o):t(n,i,o),o):i instanceof l.Name?(t(n,o,i),i):r(i,o);return s!==l.Name||c instanceof l.Name?c:a(n,c)}}function f(e,t){if(!0===t)return e.var("props",!0);let r=e.var("props",(0,l._)`{}`);return void 0!==t&&p(e,r,t),r}function p(e,t,r){Object.keys(r).forEach(r=>e.assign((0,l._)`${t}${(0,l.getProperty)(r)}`,!0))}r.toHash=function(e){let t={};for(let r of e)t[r]=!0;return t},r.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(o(e,t),!s(t,e.self.RULES.all))},r.checkUnknownRules=o,r.schemaHasRules=s,r.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(let r in e)if("$ref"!==r&&t.all[r])return!0;return!1},r.schemaRefOrVal=function({topSchemaRef:e,schemaPath:t},r,a,n){if(!n){if("number"==typeof r||"boolean"==typeof r)return r;if("string"==typeof r)return(0,l._)`${r}`}return(0,l._)`${e}${t}${(0,l.getProperty)(a)}`},r.unescapeFragment=function(e){return u(decodeURIComponent(e))},r.escapeFragment=function(e){return encodeURIComponent(c(e))},r.escapeJsonPointer=c,r.unescapeJsonPointer=u,r.eachItem=function(e,t){if(Array.isArray(e))for(let r of e)t(r);else t(e)},r.mergeEvaluated={props:d({mergeNames:(e,t,r)=>e.if((0,l._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,l._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,l._)`${r} || {}`).code((0,l._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,l._)`${r} !== true`,()=>{!0===t?e.assign(r,!0):(e.assign(r,(0,l._)`${r} || {}`),p(e,r,t))}),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:f}),items:d({mergeNames:(e,t,r)=>e.if((0,l._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,l._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,l._)`${r} !== true`,()=>e.assign(r,!0===t||(0,l._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},r.evaluatedPropsToName=f,r.setEvaluated=p;let h={};function m(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,!0===r)throw Error(t);e.self.logger.warn(t)}}r.useFunc=function(e,t){return e.scopeValue("func",{ref:t,code:h[t.code]||(h[t.code]=new i._Code(t.code))})},(n=a||(r.Type=a={}))[n.Num=0]="Num",n[n.Str=1]="Str",r.getErrorPath=function(e,t,r){if(e instanceof l.Name){let n=t===a.Num;return r?n?(0,l._)`"[" + ${e} + "]"`:(0,l._)`"['" + ${e} + "']"`:n?(0,l._)`"/" + ${e}`:(0,l._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,l.getProperty)(e).toString():"/"+c(e)},r.checkStrictMode=m},864130,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(100145);r.default={data:new a.Name("data"),valCxt:new a.Name("valCxt"),instancePath:new a.Name("instancePath"),parentData:new a.Name("parentData"),parentDataProperty:new a.Name("parentDataProperty"),rootData:new a.Name("rootData"),dynamicAnchors:new a.Name("dynamicAnchors"),vErrors:new a.Name("vErrors"),errors:new a.Name("errors"),this:new a.Name("this"),self:new a.Name("self"),scope:new a.Name("scope"),json:new a.Name("json"),jsonPos:new a.Name("jsonPos"),jsonLen:new a.Name("jsonLen"),jsonPart:new a.Name("jsonPart")}},904,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.extendErrors=r.resetErrorsCount=r.reportExtraError=r.reportError=r.keyword$DataError=r.keywordError=void 0;let a=e.r(100145),n=e.r(803026),l=e.r(864130);function i(e,t){let r=e.const("err",t);e.if((0,a._)`${l.default.vErrors} === null`,()=>e.assign(l.default.vErrors,(0,a._)`[${r}]`),(0,a._)`${l.default.vErrors}.push(${r})`),e.code((0,a._)`${l.default.errors}++`)}function o(e,t){let{gen:r,validateName:n,schemaEnv:l}=e;l.$async?r.throw((0,a._)`new ${e.ValidationError}(${t})`):(r.assign((0,a._)`${n}.errors`,t),r.return(!1))}r.keywordError={message:({keyword:e})=>(0,a.str)`must pass "${e}" keyword validation`},r.keyword$DataError={message:({keyword:e,schemaType:t})=>t?(0,a.str)`"${e}" keyword must be ${t} ($data)`:(0,a.str)`"${e}" keyword is invalid ($data)`},r.reportError=function(e,t=r.keywordError,n,l){let{it:s}=e,{gen:u,compositeRule:d,allErrors:f}=s,p=c(e,t,n);(null!=l?l:d||f)?i(u,p):o(s,(0,a._)`[${p}]`)},r.reportExtraError=function(e,t=r.keywordError,a){let{it:n}=e,{gen:s,compositeRule:u,allErrors:d}=n;i(s,c(e,t,a)),u||d||o(n,l.default.vErrors)},r.resetErrorsCount=function(e,t){e.assign(l.default.errors,t),e.if((0,a._)`${l.default.vErrors} !== null`,()=>e.if(t,()=>e.assign((0,a._)`${l.default.vErrors}.length`,t),()=>e.assign(l.default.vErrors,null)))},r.extendErrors=function({gen:e,keyword:t,schemaValue:r,data:n,errsCount:i,it:o}){if(void 0===i)throw Error("ajv implementation error");let s=e.name("err");e.forRange("i",i,l.default.errors,i=>{e.const(s,(0,a._)`${l.default.vErrors}[${i}]`),e.if((0,a._)`${s}.instancePath === undefined`,()=>e.assign((0,a._)`${s}.instancePath`,(0,a.strConcat)(l.default.instancePath,o.errorPath))),e.assign((0,a._)`${s}.schemaPath`,(0,a.str)`${o.errSchemaPath}/${t}`),o.opts.verbose&&(e.assign((0,a._)`${s}.schema`,r),e.assign((0,a._)`${s}.data`,n))})};let s={keyword:new a.Name("keyword"),schemaPath:new a.Name("schemaPath"),params:new a.Name("params"),propertyName:new a.Name("propertyName"),message:new a.Name("message"),schema:new a.Name("schema"),parentSchema:new a.Name("parentSchema")};function c(e,t,r){let{createErrors:i}=e.it;return!1===i?(0,a._)`{}`:function(e,t,r={}){let{gen:i,it:o}=e,c=[function({errorPath:e},{instancePath:t}){let r=t?(0,a.str)`${e}${(0,n.getErrorPath)(t,n.Type.Str)}`:e;return[l.default.instancePath,(0,a.strConcat)(l.default.instancePath,r)]}(o,r),function({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:l}){let i=l?t:(0,a.str)`${t}/${e}`;return r&&(i=(0,a.str)`${i}${(0,n.getErrorPath)(r,n.Type.Str)}`),[s.schemaPath,i]}(e,r)];return function(e,{params:t,message:r},n){let{keyword:i,data:o,schemaValue:c,it:u}=e,{opts:d,propertyName:f,topSchemaRef:p,schemaPath:h}=u;n.push([s.keyword,i],[s.params,"function"==typeof t?t(e):t||(0,a._)`{}`]),d.messages&&n.push([s.message,"function"==typeof r?r(e):r]),d.verbose&&n.push([s.schema,c],[s.parentSchema,(0,a._)`${p}${h}`],[l.default.data,o]),f&&n.push([s.propertyName,f])}(e,t,c),i.object(...c)}(e,t,r)}},170584,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.boolOrEmptySchema=r.topBoolOrEmptySchema=void 0;let a=e.r(904),n=e.r(100145),l=e.r(864130),i={message:"boolean schema is false"};function o(e,t){let{gen:r,data:n}=e;(0,a.reportError)({gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e},i,void 0,t)}r.topBoolOrEmptySchema=function(e){let{gen:t,schema:r,validateName:a}=e;!1===r?o(e,!1):"object"==typeof r&&!0===r.$async?t.return(l.default.data):(t.assign((0,n._)`${a}.errors`,null),t.return(!0))},r.boolOrEmptySchema=function(e,t){let{gen:r,schema:a}=e;!1===a?(r.var(t,!1),o(e)):r.var(t,!0)}},388660,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getRules=r.isJSONType=void 0;let a=new Set(["string","number","integer","boolean","null","object","array"]);r.isJSONType=function(e){return"string"==typeof e&&a.has(e)},r.getRules=function(){let e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},571342,(e,t,r)=>{"use strict";function a(e,t){return t.rules.some(t=>n(e,t))}function n(e,t){var r;return void 0!==e[t.keyword]||(null==(r=t.definition.implements)?void 0:r.some(t=>void 0!==e[t]))}Object.defineProperty(r,"__esModule",{value:!0}),r.shouldUseRule=r.shouldUseGroup=r.schemaHasRulesForType=void 0,r.schemaHasRulesForType=function({schema:e,self:t},r){let n=t.RULES.types[r];return n&&!0!==n&&a(e,n)},r.shouldUseGroup=a,r.shouldUseRule=n},795401,(e,t,r)=>{"use strict";var a,n;Object.defineProperty(r,"__esModule",{value:!0}),r.reportTypeError=r.checkDataTypes=r.checkDataType=r.coerceAndCheckDataType=r.getJSONTypes=r.getSchemaTypes=r.DataType=void 0;let l=e.r(388660),i=e.r(571342),o=e.r(904),s=e.r(100145),c=e.r(803026);function u(e){let t=Array.isArray(e)?e:e?[e]:[];if(t.every(l.isJSONType))return t;throw Error("type must be JSONType or JSONType[]: "+t.join(","))}(n=a||(r.DataType=a={}))[n.Correct=0]="Correct",n[n.Wrong=1]="Wrong",r.getSchemaTypes=function(e){let t=u(e.type);if(t.includes("null")){if(!1===e.nullable)throw Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},r.getJSONTypes=u,r.coerceAndCheckDataType=function(e,t){var r,n;let{gen:l,data:o,opts:c}=e,u=(r=t,(n=c.coerceTypes)?r.filter(e=>d.has(e)||"array"===n&&"array"===e):[]),f=t.length>0&&!(0===u.length&&1===t.length&&(0,i.schemaHasRulesForType)(e,t[0]));if(f){let r=p(t,o,c.strictNumbers,a.Wrong);l.if(r,()=>{u.length?function(e,t,r){let{gen:a,data:n,opts:l}=e,i=a.let("dataType",(0,s._)`typeof ${n}`),o=a.let("coerced",(0,s._)`undefined`);for(let e of("array"===l.coerceTypes&&a.if((0,s._)`${i} == 'object' && Array.isArray(${n}) && ${n}.length == 1`,()=>a.assign(n,(0,s._)`${n}[0]`).assign(i,(0,s._)`typeof ${n}`).if(p(t,n,l.strictNumbers),()=>a.assign(o,n))),a.if((0,s._)`${o} !== undefined`),r))(d.has(e)||"array"===e&&"array"===l.coerceTypes)&&function(e){switch(e){case"string":a.elseIf((0,s._)`${i} == "number" || ${i} == "boolean"`).assign(o,(0,s._)`"" + ${n}`).elseIf((0,s._)`${n} === null`).assign(o,(0,s._)`""`);return;case"number":a.elseIf((0,s._)`${i} == "boolean" || ${n} === null
              || (${i} == "string" && ${n} && ${n} == +${n})`).assign(o,(0,s._)`+${n}`);return;case"integer":a.elseIf((0,s._)`${i} === "boolean" || ${n} === null
              || (${i} === "string" && ${n} && ${n} == +${n} && !(${n} % 1))`).assign(o,(0,s._)`+${n}`);return;case"boolean":a.elseIf((0,s._)`${n} === "false" || ${n} === 0 || ${n} === null`).assign(o,!1).elseIf((0,s._)`${n} === "true" || ${n} === 1`).assign(o,!0);return;case"null":a.elseIf((0,s._)`${n} === "" || ${n} === 0 || ${n} === false`),a.assign(o,null);return;case"array":a.elseIf((0,s._)`${i} === "string" || ${i} === "number"
              || ${i} === "boolean" || ${n} === null`).assign(o,(0,s._)`[${n}]`)}}(e);a.else(),m(e),a.endIf(),a.if((0,s._)`${o} !== undefined`,()=>{a.assign(n,o),function({gen:e,parentData:t,parentDataProperty:r},a){e.if((0,s._)`${t} !== undefined`,()=>e.assign((0,s._)`${t}[${r}]`,a))}(e,o)})}(e,t,u):m(e)})}return f};let d=new Set(["string","number","integer","boolean","null"]);function f(e,t,r,n=a.Correct){let l,i=n===a.Correct?s.operators.EQ:s.operators.NEQ;switch(e){case"null":return(0,s._)`${t} ${i} null`;case"array":l=(0,s._)`Array.isArray(${t})`;break;case"object":l=(0,s._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":l=o((0,s._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":l=o();break;default:return(0,s._)`typeof ${t} ${i} ${e}`}return n===a.Correct?l:(0,s.not)(l);function o(e=s.nil){return(0,s.and)((0,s._)`typeof ${t} == "number"`,e,r?(0,s._)`isFinite(${t})`:s.nil)}}function p(e,t,r,a){let n;if(1===e.length)return f(e[0],t,r,a);let l=(0,c.toHash)(e);if(l.array&&l.object){let e=(0,s._)`typeof ${t} != "object"`;n=l.null?e:(0,s._)`!${t} || ${e}`,delete l.null,delete l.array,delete l.object}else n=s.nil;for(let e in l.number&&delete l.integer,l)n=(0,s.and)(n,f(e,t,r,a));return n}r.checkDataType=f,r.checkDataTypes=p;let h={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>"string"==typeof e?(0,s._)`{type: ${e}}`:(0,s._)`{type: ${t}}`};function m(e){let t=function(e){let{gen:t,data:r,schema:a}=e,n=(0,c.schemaRefOrVal)(e,a,"type");return{gen:t,keyword:"type",data:r,schema:a.type,schemaCode:n,schemaValue:n,parentSchema:a,params:{},it:e}}(e);(0,o.reportError)(t,h)}r.reportTypeError=m},630096,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.assignDefaults=void 0;let a=e.r(100145),n=e.r(803026);function l(e,t,r){let{gen:l,compositeRule:i,data:o,opts:s}=e;if(void 0===r)return;let c=(0,a._)`${o}${(0,a.getProperty)(t)}`;if(i)return void(0,n.checkStrictMode)(e,`default is ignored for: ${c}`);let u=(0,a._)`${c} === undefined`;"empty"===s.useDefaults&&(u=(0,a._)`${u} || ${c} === null || ${c} === ""`),l.if(u,(0,a._)`${c} = ${(0,a.stringify)(r)}`)}r.assignDefaults=function(e,t){let{properties:r,items:a}=e.schema;if("object"===t&&r)for(let t in r)l(e,t,r[t].default);else"array"===t&&Array.isArray(a)&&a.forEach((t,r)=>l(e,r,t.default))}},966992,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateUnion=r.validateArray=r.usePattern=r.callValidateCode=r.schemaProperties=r.allSchemaProperties=r.noPropertyInData=r.propertyInData=r.isOwnProperty=r.hasPropFunc=r.reportMissingProp=r.checkMissingProp=r.checkReportMissingProp=void 0;let a=e.r(100145),n=e.r(803026),l=e.r(864130),i=e.r(803026);function o(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,a._)`Object.prototype.hasOwnProperty`})}function s(e,t,r){return(0,a._)`${o(e)}.call(${t}, ${r})`}function c(e,t,r,n){let l=(0,a._)`${t}${(0,a.getProperty)(r)} === undefined`;return n?(0,a.or)(l,(0,a.not)(s(e,t,r))):l}function u(e){return e?Object.keys(e).filter(e=>"__proto__"!==e):[]}r.checkReportMissingProp=function(e,t){let{gen:r,data:n,it:l}=e;r.if(c(r,n,t,l.opts.ownProperties),()=>{e.setParams({missingProperty:(0,a._)`${t}`},!0),e.error()})},r.checkMissingProp=function({gen:e,data:t,it:{opts:r}},n,l){return(0,a.or)(...n.map(n=>(0,a.and)(c(e,t,n,r.ownProperties),(0,a._)`${l} = ${n}`)))},r.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},r.hasPropFunc=o,r.isOwnProperty=s,r.propertyInData=function(e,t,r,n){let l=(0,a._)`${t}${(0,a.getProperty)(r)} !== undefined`;return n?(0,a._)`${l} && ${s(e,t,r)}`:l},r.noPropertyInData=c,r.allSchemaProperties=u,r.schemaProperties=function(e,t){return u(t).filter(r=>!(0,n.alwaysValidSchema)(e,t[r]))},r.callValidateCode=function({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:i,errorPath:o},it:s},c,u,d){let f=d?(0,a._)`${e}, ${t}, ${n}${i}`:t,p=[[l.default.instancePath,(0,a.strConcat)(l.default.instancePath,o)],[l.default.parentData,s.parentData],[l.default.parentDataProperty,s.parentDataProperty],[l.default.rootData,l.default.rootData]];s.opts.dynamicRef&&p.push([l.default.dynamicAnchors,l.default.dynamicAnchors]);let h=(0,a._)`${f}, ${r.object(...p)}`;return u!==a.nil?(0,a._)`${c}.call(${u}, ${h})`:(0,a._)`${c}(${h})`};let d=(0,a._)`new RegExp`;r.usePattern=function({gen:e,it:{opts:t}},r){let n=t.unicodeRegExp?"u":"",{regExp:l}=t.code,o=l(r,n);return e.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,a._)`${"new RegExp"===l.code?d:(0,i.useFunc)(e,l)}(${r}, ${n})`})},r.validateArray=function(e){let{gen:t,data:r,keyword:l,it:i}=e,o=t.name("valid");if(i.allErrors){let e=t.let("valid",!0);return s(()=>t.assign(e,!1)),e}return t.var(o,!0),s(()=>t.break()),o;function s(i){let s=t.const("len",(0,a._)`${r}.length`);t.forRange("i",0,s,r=>{e.subschema({keyword:l,dataProp:r,dataPropType:n.Type.Num},o),t.if((0,a.not)(o),i)})}},r.validateUnion=function(e){let{gen:t,schema:r,keyword:l,it:i}=e;if(!Array.isArray(r))throw Error("ajv implementation error");if(r.some(e=>(0,n.alwaysValidSchema)(i,e))&&!i.opts.unevaluated)return;let o=t.let("valid",!1),s=t.name("_valid");t.block(()=>r.forEach((r,n)=>{let i=e.subschema({keyword:l,schemaProp:n,compositeRule:!0},s);t.assign(o,(0,a._)`${o} || ${s}`),e.mergeValidEvaluated(i,s)||t.if((0,a.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}},525952,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateKeywordUsage=r.validSchemaType=r.funcKeywordCode=r.macroKeywordCode=void 0;let a=e.r(100145),n=e.r(864130),l=e.r(966992),i=e.r(904);function o(e){let{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,a._)`${n.parentData}[${n.parentDataProperty}]`))}function s(e,t,r){if(void 0===r)throw Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof r?{ref:r}:{ref:r,code:(0,a.stringify)(r)})}r.macroKeywordCode=function(e,t){let{gen:r,keyword:n,schema:l,parentSchema:i,it:o}=e,c=t.macro.call(o.self,l,i,o),u=s(r,n,c);!1!==o.opts.validateSchema&&o.self.validateSchema(c,!0);let d=r.name("valid");e.subschema({schema:c,schemaPath:a.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:u,compositeRule:!0},d),e.pass(d,()=>e.error(!0))},r.funcKeywordCode=function(e,t){var r;let{gen:c,keyword:u,schema:d,parentSchema:f,$data:p,it:h}=e;!function({schemaEnv:e},t){if(t.async&&!e.$async)throw Error("async keyword in sync schema")}(h,t);let m=s(c,u,!p&&t.compile?t.compile.call(h.self,d,f,h):t.validate),g=c.let("valid");function b(r=t.async?(0,a._)`await `:a.nil){let i=h.opts.passContext?n.default.this:n.default.self,o=!("compile"in t&&!p||!1===t.schema);c.assign(g,(0,a._)`${r}${(0,l.callValidateCode)(e,m,i,o)}`,t.modifying)}function v(e){var r;c.if((0,a.not)(null!=(r=t.valid)?r:g),e)}e.block$data(g,function(){if(!1===t.errors)b(),t.modifying&&o(e),v(()=>e.error());else{let r,l,s=t.async?(r=c.let("ruleErrs",null),c.try(()=>b((0,a._)`await `),e=>c.assign(g,!1).if((0,a._)`${e} instanceof ${h.ValidationError}`,()=>c.assign(r,(0,a._)`${e}.errors`),()=>c.throw(e))),r):(l=(0,a._)`${m}.errors`,c.assign(l,null),b(a.nil),l);t.modifying&&o(e),v(()=>(function(e,t){let{gen:r}=e;r.if((0,a._)`Array.isArray(${t})`,()=>{r.assign(n.default.vErrors,(0,a._)`${n.default.vErrors} === null ? ${t} : ${n.default.vErrors}.concat(${t})`).assign(n.default.errors,(0,a._)`${n.default.vErrors}.length`),(0,i.extendErrors)(e)},()=>e.error())})(e,s))}}),e.ok(null!=(r=t.valid)?r:g)},r.validSchemaType=function(e,t,r=!1){return!t.length||t.some(t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||r&&void 0===e)},r.validateKeywordUsage=function({schema:e,opts:t,self:r,errSchemaPath:a},n,l){if(Array.isArray(n.keyword)?!n.keyword.includes(l):n.keyword!==l)throw Error("ajv implementation error");let i=n.dependencies;if(null==i?void 0:i.some(t=>!Object.prototype.hasOwnProperty.call(e,t)))throw Error(`parent schema must have dependencies of ${l}: ${i.join(",")}`);if(n.validateSchema&&!n.validateSchema(e[l])){let e=`keyword "${l}" value is invalid at path "${a}": `+r.errorsText(n.validateSchema.errors);if("log"===t.validateSchema)r.logger.error(e);else throw Error(e)}}},991565,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.extendSubschemaMode=r.extendSubschemaData=r.getSubschema=void 0;let a=e.r(100145),n=e.r(803026);r.getSubschema=function(e,{keyword:t,schemaProp:r,schema:l,schemaPath:i,errSchemaPath:o,topSchemaRef:s}){if(void 0!==t&&void 0!==l)throw Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==t){let l=e.schema[t];return void 0===r?{schema:l,schemaPath:(0,a._)`${e.schemaPath}${(0,a.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:l[r],schemaPath:(0,a._)`${e.schemaPath}${(0,a.getProperty)(t)}${(0,a.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,n.escapeFragment)(r)}`}}if(void 0!==l){if(void 0===i||void 0===o||void 0===s)throw Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:i,topSchemaRef:s,errSchemaPath:o}}throw Error('either "keyword" or "schema" must be passed')},r.extendSubschemaData=function(e,t,{dataProp:r,dataPropType:l,data:i,dataTypes:o,propertyName:s}){if(void 0!==i&&void 0!==r)throw Error('both "data" and "dataProp" passed, only one allowed');let{gen:c}=t;if(void 0!==r){let{errorPath:i,dataPathArr:o,opts:s}=t;u(c.let("data",(0,a._)`${t.data}${(0,a.getProperty)(r)}`,!0)),e.errorPath=(0,a.str)`${i}${(0,n.getErrorPath)(r,l,s.jsPropertySyntax)}`,e.parentDataProperty=(0,a._)`${r}`,e.dataPathArr=[...o,e.parentDataProperty]}function u(r){e.data=r,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,r]}void 0!==i&&(u(i instanceof a.Name?i:c.let("data",i,!0)),void 0!==s&&(e.propertyName=s)),o&&(e.dataTypes=o)},r.extendSubschemaMode=function(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:a,createErrors:n,allErrors:l}){void 0!==a&&(e.compositeRule=a),void 0!==n&&(e.createErrors=n),void 0!==l&&(e.allErrors=l),e.jtdDiscriminator=t,e.jtdMetadata=r}},65932,(e,t,r)=>{"use strict";t.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;if(Array.isArray(t)){if((a=t.length)!=r.length)return!1;for(n=a;0!=n--;)if(!e(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((a=(l=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(n=a;0!=n--;)if(!Object.prototype.hasOwnProperty.call(r,l[n]))return!1;for(n=a;0!=n--;){var a,n,l,i=l[n];if(!e(t[i],r[i]))return!1}return!0}return t!=t&&r!=r}},725028,(e,t,r)=>{"use strict";var a=t.exports=function(e,t,r){"function"==typeof t&&(r=t,t={});var n="function"==typeof(r=t.cb||r)?r:r.pre||function(){};!function e(t,r,n,l,i,o,s,c,u,d){if(l&&"object"==typeof l&&!Array.isArray(l)){for(var f in r(l,i,o,s,c,u,d),l){var p=l[f];if(Array.isArray(p)){if(f in a.arrayKeywords)for(var h=0;h<p.length;h++)e(t,r,n,p[h],i+"/"+f+"/"+h,o,i,f,l,h)}else if(f in a.propsKeywords){if(p&&"object"==typeof p)for(var m in p)e(t,r,n,p[m],i+"/"+f+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),o,i,f,l,m)}else(f in a.keywords||t.allKeys&&!(f in a.skipKeywords))&&e(t,r,n,p,i+"/"+f,o,i,f,l)}n(l,i,o,s,c,u,d)}}(t,n,r.post||function(){},e,"",e)};a.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},a.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},a.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},a.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},336370,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getSchemaRefs=r.resolveUrl=r.normalizeId=r._getFullPath=r.getFullPath=r.inlineRef=void 0;let a=e.r(803026),n=e.r(65932),l=e.r(725028),i=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);r.inlineRef=function(e,t=!0){return"boolean"==typeof e||(!0===t?!function e(t){for(let r in t){if(o.has(r))return!0;let a=t[r];if(Array.isArray(a)&&a.some(e)||"object"==typeof a&&e(a))return!0}return!1}(e):!!t&&function e(t){let r=0;for(let n in t)if("$ref"===n||(r++,!i.has(n)&&("object"==typeof t[n]&&(0,a.eachItem)(t[n],t=>r+=e(t)),r===1/0)))return 1/0;return r}(e)<=t)};let o=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function s(e,t="",r){!1!==r&&(t=d(t));let a=e.parse(t);return c(e,a)}function c(e,t){return e.serialize(t).split("#")[0]+"#"}r.getFullPath=s,r._getFullPath=c;let u=/#\/?$/;function d(e){return e?e.replace(u,""):""}r.normalizeId=d,r.resolveUrl=function(e,t,r){return r=d(r),e.resolve(t,r)};let f=/^[a-z_][-a-z0-9._]*$/i;r.getSchemaRefs=function(e,t){if("boolean"==typeof e)return{};let{schemaId:r,uriResolver:a}=this.opts,i=d(e[r]||t),o={"":i},c=s(a,i,!1),u={},p=new Set;return l(e,{allKeys:!0},(e,t,a,n)=>{if(void 0===n)return;let l=c+t,i=o[n];function s(t){let r=this.opts.uriResolver.resolve;if(t=d(i?r(i,t):t),p.has(t))throw m(t);p.add(t);let a=this.refs[t];return"string"==typeof a&&(a=this.refs[a]),"object"==typeof a?h(e,a.schema,t):t!==d(l)&&("#"===t[0]?(h(e,u[t],t),u[t]=e):this.refs[t]=l),t}function g(e){if("string"==typeof e){if(!f.test(e))throw Error(`invalid anchor "${e}"`);s.call(this,`#${e}`)}}"string"==typeof e[r]&&(i=s.call(this,e[r])),g.call(this,e.$anchor),g.call(this,e.$dynamicAnchor),o[t]=i}),u;function h(e,t,r){if(void 0!==t&&!n(e,t))throw m(r)}function m(e){return Error(`reference "${e}" resolves to more than one schema`)}}},341770,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getData=r.KeywordCxt=r.validateFunctionCode=void 0;let a=e.r(170584),n=e.r(795401),l=e.r(571342),i=e.r(795401),o=e.r(630096),s=e.r(525952),c=e.r(991565),u=e.r(100145),d=e.r(864130),f=e.r(336370),p=e.r(803026),h=e.r(904);function m({gen:e,validateName:t,schema:r,schemaEnv:a,opts:n},l){var i;n.code.es5?e.func(t,(0,u._)`${d.default.data}, ${d.default.valCxt}`,a.$async,()=>{var t,a;e.code((0,u._)`"use strict"; ${g(r,n)}`),t=e,a=n,t.if(d.default.valCxt,()=>{t.var(d.default.instancePath,(0,u._)`${d.default.valCxt}.${d.default.instancePath}`),t.var(d.default.parentData,(0,u._)`${d.default.valCxt}.${d.default.parentData}`),t.var(d.default.parentDataProperty,(0,u._)`${d.default.valCxt}.${d.default.parentDataProperty}`),t.var(d.default.rootData,(0,u._)`${d.default.valCxt}.${d.default.rootData}`),a.dynamicRef&&t.var(d.default.dynamicAnchors,(0,u._)`${d.default.valCxt}.${d.default.dynamicAnchors}`)},()=>{t.var(d.default.instancePath,(0,u._)`""`),t.var(d.default.parentData,(0,u._)`undefined`),t.var(d.default.parentDataProperty,(0,u._)`undefined`),t.var(d.default.rootData,d.default.data),a.dynamicRef&&t.var(d.default.dynamicAnchors,(0,u._)`{}`)}),e.code(l)}):e.func(t,(0,u._)`${d.default.data}, ${(i=n,(0,u._)`{${d.default.instancePath}="", ${d.default.parentData}, ${d.default.parentDataProperty}, ${d.default.rootData}=${d.default.data}${i.dynamicRef?(0,u._)`, ${d.default.dynamicAnchors}={}`:u.nil}}={}`)}`,a.$async,()=>e.code(g(r,n)).code(l))}function g(e,t){let r="object"==typeof e&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,u._)`/*# sourceURL=${r} */`:u.nil}function b({schema:e,self:t}){if("boolean"==typeof e)return!e;for(let r in e)if(t.RULES.all[r])return!0;return!1}function v(e){return"boolean"!=typeof e.schema}function y(e){(0,p.checkUnknownRules)(e),function(e){let{schema:t,errSchemaPath:r,opts:a,self:n}=e;t.$ref&&a.ignoreKeywordsWithRef&&(0,p.schemaHasRulesButRef)(t,n.RULES)&&n.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}(e)}function x(e,t){if(e.opts.jtd)return j(e,[],!1,t);let r=(0,n.getSchemaTypes)(e.schema),a=(0,n.coerceAndCheckDataType)(e,r);j(e,r,!a,t)}function w({gen:e,schemaEnv:t,schema:r,errSchemaPath:a,opts:n}){let l=r.$comment;if(!0===n.$comment)e.code((0,u._)`${d.default.self}.logger.log(${l})`);else if("function"==typeof n.$comment){let r=(0,u.str)`${a}/$comment`,n=e.scopeValue("root",{ref:t.root});e.code((0,u._)`${d.default.self}.opts.$comment(${l}, ${r}, ${n}.schema)`)}}function j(e,t,r,a){var n,o,s,c;let{gen:f,schema:h,data:m,allErrors:g,opts:b,self:v}=e,{RULES:y}=v;if(h.$ref&&(b.ignoreKeywordsWithRef||!(0,p.schemaHasRulesButRef)(h,y)))return void f.block(()=>k(e,"$ref",y.all.$ref.definition));function x(n){(0,l.shouldUseGroup)(h,n)&&(n.type?(f.if((0,i.checkDataType)(n.type,m,b.strictNumbers)),C(e,n),1===t.length&&t[0]===n.type&&r&&(f.else(),(0,i.reportTypeError)(e)),f.endIf()):C(e,n),g||f.if((0,u._)`${d.default.errors} === ${a||0}`))}b.jtd||(n=e,o=t,!n.schemaEnv.meta&&n.opts.strictTypes&&(function(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(t=>{S(e.dataTypes,t)||$(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)}),function(e,t){let r=[];for(let a of e.dataTypes)S(t,a)?r.push(a):t.includes("integer")&&"number"===a&&r.push("integer");e.dataTypes=r}(e,t)}}(n,o),n.opts.allowUnionTypes||(s=n,(c=o).length>1&&!(2===c.length&&c.includes("null"))&&$(s,"use allowUnionTypes to allow union type keyword")),function(e,t){let r=e.self.RULES.all;for(let a in r){let n=r[a];if("object"==typeof n&&(0,l.shouldUseRule)(e.schema,n)){let{type:r}=n.definition;r.length&&!r.some(e=>{var r,a;return r=t,a=e,r.includes(a)||"number"===a&&r.includes("integer")})&&$(e,`missing type "${r.join(",")}" for keyword "${a}"`)}}}(n,n.dataTypes))),f.block(()=>{for(let e of y.rules)x(e);x(y.post)})}function C(e,t){let{gen:r,schema:a,opts:{useDefaults:n}}=e;n&&(0,o.assignDefaults)(e,t.type),r.block(()=>{for(let r of t.rules)(0,l.shouldUseRule)(a,r)&&k(e,r.keyword,r.definition,t.type)})}function S(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function $(e,t){let r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,p.checkStrictMode)(e,t,e.opts.strictTypes)}r.validateFunctionCode=function(e){v(e)&&(y(e),b(e))?function(e){let{schema:t,opts:r,gen:a}=e;m(e,()=>{r.$comment&&t.$comment&&w(e),function(e){let{schema:t,opts:r}=e;void 0!==t.default&&r.useDefaults&&r.strictSchema&&(0,p.checkStrictMode)(e,"default is ignored in the schema root")}(e),a.let(d.default.vErrors,null),a.let(d.default.errors,0),r.unevaluated&&function(e){let{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,u._)`${r}.evaluated`),t.if((0,u._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,u._)`${e.evaluated}.props`,(0,u._)`undefined`)),t.if((0,u._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,u._)`${e.evaluated}.items`,(0,u._)`undefined`))}(e),x(e),function(e){let{gen:t,schemaEnv:r,validateName:a,ValidationError:n,opts:l}=e;r.$async?t.if((0,u._)`${d.default.errors} === 0`,()=>t.return(d.default.data),()=>t.throw((0,u._)`new ${n}(${d.default.vErrors})`)):(t.assign((0,u._)`${a}.errors`,d.default.vErrors),l.unevaluated&&function({gen:e,evaluated:t,props:r,items:a}){r instanceof u.Name&&e.assign((0,u._)`${t}.props`,r),a instanceof u.Name&&e.assign((0,u._)`${t}.items`,a)}(e),t.return((0,u._)`${d.default.errors} === 0`))}(e)})}(e):m(e,()=>(0,a.topBoolOrEmptySchema)(e))};class _{constructor(e,t,r){if((0,s.validateKeywordUsage)(e,t,r),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=r,this.data=e.data,this.schema=e.schema[r],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,p.schemaRefOrVal)(e,this.schema,r,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",P(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw Error(`${r} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",d.default.errors))}result(e,t,r){this.failResult((0,u.not)(e),t,r)}failResult(e,t,r){this.gen.if(e),r?r():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,u.not)(e),void 0,t)}fail(e){if(void 0===e){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:t}=this;this.fail((0,u._)`${t} !== undefined && (${(0,u.or)(this.invalid$data(),e)})`)}error(e,t,r){if(t){this.setParams(t),this._error(e,r),this.setParams({});return}this._error(e,r)}_error(e,t){(e?h.reportExtraError:h.reportError)(this,this.def.error,t)}$dataError(){(0,h.reportError)(this,this.def.$dataError||h.keyword$DataError)}reset(){if(void 0===this.errsCount)throw Error('add "trackErrors" to keyword definition');(0,h.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,r=u.nil){this.gen.block(()=>{this.check$data(e,r),t()})}check$data(e=u.nil,t=u.nil){if(!this.$data)return;let{gen:r,schemaCode:a,schemaType:n,def:l}=this;r.if((0,u.or)((0,u._)`${a} === undefined`,t)),e!==u.nil&&r.assign(e,!0),(n.length||l.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),e!==u.nil&&r.assign(e,!1)),r.else()}invalid$data(){let{gen:e,schemaCode:t,schemaType:r,def:a,it:n}=this;return(0,u.or)(function(){if(r.length){if(!(t instanceof u.Name))throw Error("ajv implementation error");let e=Array.isArray(r)?r:[r];return(0,u._)`${(0,i.checkDataTypes)(e,t,n.opts.strictNumbers,i.DataType.Wrong)}`}return u.nil}(),function(){if(a.validateSchema){let r=e.scopeValue("validate$data",{ref:a.validateSchema});return(0,u._)`!${r}(${t})`}return u.nil}())}subschema(e,t){let r=(0,c.getSubschema)(this.it,e);(0,c.extendSubschemaData)(r,this.it,e),(0,c.extendSubschemaMode)(r,e);let n={...this.it,...r,items:void 0,props:void 0};return!function(e,t){if(v(e)&&(y(e),b(e)))return function(e,t){var r;let a,{schema:n,gen:l,opts:i}=e;i.$comment&&n.$comment&&w(e),(a=(r=e).schema[r.opts.schemaId])&&(r.baseId=(0,f.resolveUrl)(r.opts.uriResolver,r.baseId,a)),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw Error("async schema in sync schema")}(e);let o=l.const("_errs",d.default.errors);x(e,o),l.var(t,(0,u._)`${o} === ${d.default.errors}`)}(e,t);(0,a.boolOrEmptySchema)(e,t)}(n,t),n}mergeEvaluated(e,t){let{it:r,gen:a}=this;r.opts.unevaluated&&(!0!==r.props&&void 0!==e.props&&(r.props=p.mergeEvaluated.props(a,e.props,r.props,t)),!0!==r.items&&void 0!==e.items&&(r.items=p.mergeEvaluated.items(a,e.items,r.items,t)))}mergeValidEvaluated(e,t){let{it:r,gen:a}=this;if(r.opts.unevaluated&&(!0!==r.props||!0!==r.items))return a.if(t,()=>this.mergeEvaluated(e,u.Name)),!0}}function k(e,t,r,a){let n=new _(e,r,t);"code"in r?r.code(n,a):n.$data&&r.validate?(0,s.funcKeywordCode)(n,r):"macro"in r?(0,s.macroKeywordCode)(n,r):(r.compile||r.validate)&&(0,s.funcKeywordCode)(n,r)}r.KeywordCxt=_;let E=/^\/(?:[^~]|~0|~1)*$/,N=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function P(e,{dataLevel:t,dataNames:r,dataPathArr:a}){let n,l;if(""===e)return d.default.rootData;if("/"===e[0]){if(!E.test(e))throw Error(`Invalid JSON-pointer: ${e}`);n=e,l=d.default.rootData}else{let i=N.exec(e);if(!i)throw Error(`Invalid JSON-pointer: ${e}`);let s=+i[1];if("#"===(n=i[2])){if(s>=t)throw Error(o("property/index",s));return a[t-s]}if(s>t)throw Error(o("data",s));if(l=r[t-s],!n)return l}let i=l;for(let e of n.split("/"))e&&(l=(0,u._)`${l}${(0,u.getProperty)((0,p.unescapeJsonPointer)(e))}`,i=(0,u._)`${i} && ${l}`);return i;function o(e,r){return`Cannot access ${e} ${r} levels up, current level is ${t}`}}r.getData=P},227230,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}},743002,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(336370);r.default=class extends Error{constructor(e,t,r,n){super(n||`can't resolve reference ${r} from id ${t}`),this.missingRef=(0,a.resolveUrl)(e,t,r),this.missingSchema=(0,a.normalizeId)((0,a.getFullPath)(e,this.missingRef))}}},893066,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.resolveSchema=r.getCompilingSchema=r.resolveRef=r.compileSchema=r.SchemaEnv=void 0;let a=e.r(100145),n=e.r(227230),l=e.r(864130),i=e.r(336370),o=e.r(803026),s=e.r(341770);class c{constructor(e){var t;let r;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(r=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!=(t=e.baseId)?t:(0,i.normalizeId)(null==r?void 0:r[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null==r?void 0:r.$async,this.refs={}}}function u(e){let t,r,o=f.call(this,e);if(o)return o;let c=(0,i.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:u,lines:d}=this.opts.code,{ownProperties:p}=this.opts,h=new a.CodeGen(this.scope,{es5:u,lines:d,ownProperties:p});e.$async&&(t=h.scopeValue("Error",{ref:n.default,code:(0,a._)`require("ajv/dist/runtime/validation_error").default`}));let m=h.scopeName("validate");e.validateName=m;let g={gen:h,allErrors:this.opts.allErrors,data:l.default.data,parentData:l.default.parentData,parentDataProperty:l.default.parentDataProperty,dataNames:[l.default.data],dataPathArr:[a.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:h.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:(0,a.stringify)(e.schema)}:{ref:e.schema}),validateName:m,ValidationError:t,schema:e.schema,schemaEnv:e,rootId:c,baseId:e.baseId||c,schemaPath:a.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,a._)`""`,opts:this.opts,self:this};try{this._compilations.add(e),(0,s.validateFunctionCode)(g),h.optimize(this.opts.code.optimize);let t=h.toString();r=`${h.scopeRefs(l.default.scope)}return ${t}`,this.opts.code.process&&(r=this.opts.code.process(r,e));let n=Function(`${l.default.self}`,`${l.default.scope}`,r)(this,this.scope.get());if(this.scope.value(m,{ref:n}),n.errors=null,n.schema=e.schema,n.schemaEnv=e,e.$async&&(n.$async=!0),!0===this.opts.code.source&&(n.source={validateName:m,validateCode:t,scopeValues:h._values}),this.opts.unevaluated){let{props:e,items:t}=g;n.evaluated={props:e instanceof a.Name?void 0:e,items:t instanceof a.Name?void 0:t,dynamicProps:e instanceof a.Name,dynamicItems:t instanceof a.Name},n.source&&(n.source.evaluated=(0,a.stringify)(n.evaluated))}return e.validate=n,e}catch(t){throw delete e.validate,delete e.validateName,r&&this.logger.error("Error compiling schema, function code:",r),t}finally{this._compilations.delete(e)}}function d(e){return(0,i.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:u.call(this,e)}function f(e){for(let a of this._compilations){var t,r;if(t=a,r=e,t.schema===r.schema&&t.root===r.root&&t.baseId===r.baseId)return a}}function p(e,t){let r;for(;"string"==typeof(r=this.refs[t]);)t=r;return r||this.schemas[t]||h.call(this,e,t)}function h(e,t){let r=this.opts.uriResolver.parse(t),a=(0,i._getFullPath)(this.opts.uriResolver,r),n=(0,i.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&a===n)return g.call(this,r,e);let l=(0,i.normalizeId)(a),o=this.refs[l]||this.schemas[l];if("string"==typeof o){let t=h.call(this,e,o);if("object"!=typeof(null==t?void 0:t.schema))return;return g.call(this,r,t)}if("object"==typeof(null==o?void 0:o.schema)){if(o.validate||u.call(this,o),l===(0,i.normalizeId)(t)){let{schema:t}=o,{schemaId:r}=this.opts,a=t[r];return a&&(n=(0,i.resolveUrl)(this.opts.uriResolver,n,a)),new c({schema:t,schemaId:r,root:e,baseId:n})}return g.call(this,r,o)}}r.SchemaEnv=c,r.compileSchema=u,r.resolveRef=function(e,t,r){var a;r=(0,i.resolveUrl)(this.opts.uriResolver,t,r);let n=e.refs[r];if(n)return n;let l=p.call(this,e,r);if(void 0===l){let n=null==(a=e.localRefs)?void 0:a[r],{schemaId:i}=this.opts;n&&(l=new c({schema:n,schemaId:i,root:e,baseId:t}))}if(void 0!==l)return e.refs[r]=d.call(this,l)},r.getCompilingSchema=f,r.resolveSchema=h;let m=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function g(e,{baseId:t,schema:r,root:a}){var n;let l;if((null==(n=e.fragment)?void 0:n[0])!=="/")return;for(let a of e.fragment.slice(1).split("/")){if("boolean"==typeof r)return;let e=r[(0,o.unescapeFragment)(a)];if(void 0===e)return;let n="object"==typeof(r=e)&&r[this.opts.schemaId];!m.has(a)&&n&&(t=(0,i.resolveUrl)(this.opts.uriResolver,t,n))}if("boolean"!=typeof r&&r.$ref&&!(0,o.schemaHasRulesButRef)(r,this.RULES)){let e=(0,i.resolveUrl)(this.opts.uriResolver,t,r.$ref);l=h.call(this,a,e)}let{schemaId:s}=this.opts;if((l=l||new c({schema:r,schemaId:s,root:a,baseId:t})).schema!==l.root.schema)return l}},976274,(e,t,r)=>{"use strict";t.exports={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}},683740,(e,t,r)=>{"use strict";let{HEX:a}=e.r(976274);function n(e){if(3>o(e,"."))return{host:e,isIPV4:!1};let[t]=e.match(/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/u)||[];return t?{host:function(e,t){let r="",a=!0,n=e.length;for(let t=0;t<n;t++){let l=e[t];"0"===l&&a?(t+1<=n&&"."===e[t+1]||t+1===n)&&(r+=l,a=!1):(a="."===l,r+=l)}return r}(t,"."),isIPV4:!0}:{host:e,isIPV4:!1}}function l(e,t=!1){let r="",n=!0;for(let t of e){if(void 0===a[t])return;"0"!==t&&!0===n&&(n=!1),n||(r+=t)}return t&&0===r.length&&(r="0"),r}function i(e,t={}){if(2>o(e,":"))return{host:e,isIPV6:!1};let r=function(e){let t=0,r={error:!1,address:"",zone:""},a=[],n=[],i=!1,o=!1,s=!1;function c(){if(n.length){if(!1===i){let e=l(n);if(void 0===e)return r.error=!0,!1;a.push(e)}n.length=0}return!0}for(let l=0;l<e.length;l++){let u=e[l];if("["!==u&&"]"!==u)if(":"===u){if(!0===o&&(s=!0),!c())break;if(t++,a.push(":"),t>7){r.error=!0;break}l-1>=0&&":"===e[l-1]&&(o=!0);continue}else if("%"===u){if(!c())break;i=!0}else{n.push(u);continue}}return n.length&&(i?r.zone=n.join(""):s?a.push(n.join("")):a.push(l(n))),r.address=a.join(""),r}(e);if(r.error)return{host:e,isIPV6:!1};{let e=r.address,t=r.address;return r.zone&&(e+="%"+r.zone,t+="%25"+r.zone),{host:e,escapedHost:t,isIPV6:!0}}}function o(e,t){let r=0;for(let a=0;a<e.length;a++)e[a]===t&&r++;return r}let s=/^\.\.?\//u,c=/^\/\.(?:\/|$)/u,u=/^\/\.\.(?:\/|$)/u,d=/^\/?(?:.|\n)*?(?=\/|$)/u;t.exports={recomposeAuthority:function(e,t){let r=[];if(void 0!==e.userinfo&&(r.push(e.userinfo),r.push("@")),void 0!==e.host){let t=unescape(e.host),a=n(t);if(a.isIPV4)t=a.host;else{let r=i(a.host,{isIPV4:!1});t=!0===r.isIPV6?`[${r.escapedHost}]`:e.host}r.push(t)}return("number"==typeof e.port||"string"==typeof e.port)&&(r.push(":"),r.push(String(e.port))),r.length?r.join(""):void 0},normalizeComponentEncoding:function(e,t){let r=!0!==t?escape:unescape;return void 0!==e.scheme&&(e.scheme=r(e.scheme)),void 0!==e.userinfo&&(e.userinfo=r(e.userinfo)),void 0!==e.host&&(e.host=r(e.host)),void 0!==e.path&&(e.path=r(e.path)),void 0!==e.query&&(e.query=r(e.query)),void 0!==e.fragment&&(e.fragment=r(e.fragment)),e},removeDotSegments:function(e){let t=[];for(;e.length;)if(e.match(s))e=e.replace(s,"");else if(e.match(c))e=e.replace(c,"/");else if(e.match(u))e=e.replace(u,"/"),t.pop();else if("."===e||".."===e)e="";else{let r=e.match(d);if(r){let a=r[0];e=e.slice(a.length),t.push(a)}else throw Error("Unexpected dot segment condition")}return t.join("")},normalizeIPv4:n,normalizeIPv6:i,stringArrayToHexStripped:l}},30413,(e,t,r)=>{"use strict";let a=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,n=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function l(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}function i(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function o(e){let t="https"===String(e.scheme).toLowerCase();return(e.port===(t?443:80)||""===e.port)&&(e.port=void 0),e.path||(e.path="/"),e}let s={scheme:"http",domainHost:!0,parse:i,serialize:o},c={scheme:"https",domainHost:s.domainHost,parse:i,serialize:o},u={scheme:"ws",domainHost:!0,parse:function(e){return e.secure=l(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e},serialize:function(e){if((e.port===(l(e)?443:80)||""===e.port)&&(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){let[t,r]=e.resourceName.split("?");e.path=t&&"/"!==t?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}},d={scheme:"wss",domainHost:u.domainHost,parse:u.parse,serialize:u.serialize},f={http:s,https:c,ws:u,wss:d,urn:{scheme:"urn",parse:function(e,t){if(!e.path)return e.error="URN can not be parsed",e;let r=e.path.match(n);if(r){let a=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];let n=f[`${a}:${t.nid||e.nid}`];e.path=void 0,n&&(e=n.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e},serialize:function(e,t){let r=t.scheme||e.scheme||"urn",a=e.nid.toLowerCase(),n=f[`${r}:${t.nid||a}`];n&&(e=n.serialize(e,t));let l=e,i=e.nss;return l.path=`${a||t.nid}:${i}`,t.skipEscape=!0,l},skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:function(e,t){return e.uuid=e.nss,e.nss=void 0,t.tolerant||e.uuid&&a.test(e.uuid)||(e.error=e.error||"UUID is not valid."),e},serialize:function(e){return e.nss=(e.uuid||"").toLowerCase(),e},skipNormalize:!0}};t.exports=f},816409,(e,t,r)=>{"use strict";let{normalizeIPv6:a,normalizeIPv4:n,removeDotSegments:l,recomposeAuthority:i,normalizeComponentEncoding:o}=e.r(683740),s=e.r(30413);function c(e,t,r,a){let n={};return a||(e=p(u(e,r),r),t=p(u(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(n.scheme=t.scheme,n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=l(t.path||""),n.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=l(t.path||""),n.query=t.query):(t.path?("/"===t.path.charAt(0)?n.path=l(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?n.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:n.path=t.path:n.path="/"+t.path,n.path=l(n.path)),n.query=t.query):(n.path=e.path,void 0!==t.query?n.query=t.query:n.query=e.query),n.userinfo=e.userinfo,n.host=e.host,n.port=e.port),n.scheme=e.scheme),n.fragment=t.fragment,n}function u(e,t){let r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},a=Object.assign({},t),n=[],o=s[(a.scheme||r.scheme||"").toLowerCase()];o&&o.serialize&&o.serialize(r,a),void 0!==r.path&&(a.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),void 0!==r.scheme&&(r.path=r.path.split("%3A").join(":")))),"suffix"!==a.reference&&r.scheme&&(n.push(r.scheme),n.push(":"));let c=i(r,a);if(void 0!==c&&("suffix"!==a.reference&&n.push("//"),n.push(c),r.path&&"/"!==r.path.charAt(0)&&n.push("/")),void 0!==r.path){let e=r.path;a.absolutePath||o&&o.absolutePath||(e=l(e)),void 0===c&&(e=e.replace(/^\/\//u,"/%2F")),n.push(e)}return void 0!==r.query&&(n.push("?"),n.push(r.query)),void 0!==r.fragment&&(n.push("#"),n.push(r.fragment)),n.join("")}let d=Array.from({length:127},(e,t)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(t))),f=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function p(e,t){let r=Object.assign({},t),l={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},i=-1!==e.indexOf("%"),o=!1;"suffix"===r.reference&&(e=(r.scheme?r.scheme+":":"")+"//"+e);let c=e.match(f);if(c){if(l.scheme=c[1],l.userinfo=c[3],l.host=c[4],l.port=parseInt(c[5],10),l.path=c[6]||"",l.query=c[7],l.fragment=c[8],isNaN(l.port)&&(l.port=c[5]),l.host){let e=n(l.host);if(!1===e.isIPV4){let t=a(e.host,{isIPV4:!1});l.host=t.host.toLowerCase(),o=t.isIPV6}else l.host=e.host,o=!0}void 0!==l.scheme||void 0!==l.userinfo||void 0!==l.host||void 0!==l.port||l.path||void 0!==l.query?void 0===l.scheme?l.reference="relative":void 0===l.fragment?l.reference="absolute":l.reference="uri":l.reference="same-document",r.reference&&"suffix"!==r.reference&&r.reference!==l.reference&&(l.error=l.error||"URI is not a "+r.reference+" reference.");let e=s[(r.scheme||l.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!e||!e.unicodeSupport)&&l.host&&(r.domainHost||e&&e.domainHost)&&!1===o&&function(e){let t=0;for(let r=0,a=e.length;r<a;++r)if((t=e.charCodeAt(r))>126||d[t])return!0;return!1}(l.host))try{l.host=URL.domainToASCII(l.host.toLowerCase())}catch(e){l.error=l.error||"Host's domain name can not be converted to ASCII: "+e}(!e||e&&!e.skipNormalize)&&(i&&void 0!==l.scheme&&(l.scheme=unescape(l.scheme)),i&&void 0!==l.userinfo&&(l.userinfo=unescape(l.userinfo)),i&&void 0!==l.host&&(l.host=unescape(l.host)),void 0!==l.path&&l.path.length&&(l.path=escape(unescape(l.path))),void 0!==l.fragment&&l.fragment.length&&(l.fragment=encodeURI(decodeURIComponent(l.fragment)))),e&&e.parse&&e.parse(l,r)}else l.error=l.error||"URI can not be parsed.";return l}let h={SCHEMES:s,normalize:function(e,t){return"string"==typeof e?e=u(p(e,t),t):"object"==typeof e&&(e=p(u(e,t),t)),e},resolve:function(e,t,r){let a=Object.assign({scheme:"null"},r);return u(c(p(e,a),p(t,a),a,!0),{...a,skipEscape:!0})},resolveComponents:c,equal:function(e,t,r){return"string"==typeof e?e=u(o(p(e=unescape(e),r),!0),{...r,skipEscape:!0}):"object"==typeof e&&(e=u(o(e,!0),{...r,skipEscape:!0})),"string"==typeof t?t=u(o(p(t=unescape(t),r),!0),{...r,skipEscape:!0}):"object"==typeof t&&(t=u(o(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()},serialize:u,parse:p};t.exports=h,t.exports.default=h,t.exports.fastUri=h},220536,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(816409);a.code='require("ajv/dist/runtime/uri").default',r.default=a},226924,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=void 0;var a=e.r(341770);Object.defineProperty(r,"KeywordCxt",{enumerable:!0,get:function(){return a.KeywordCxt}});var n=e.r(100145);Object.defineProperty(r,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(r,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});let l=e.r(227230),i=e.r(743002),o=e.r(388660),s=e.r(893066),c=e.r(100145),u=e.r(336370),d=e.r(795401),f=e.r(803026),p=e.r(277259),h=e.r(220536),m=(e,t)=>new RegExp(e,t);m.code="new RegExp";let g=["removeAdditional","useDefaults","coerceTypes"],b=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},y={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};class x{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...function(e){var t,r,a,n,l,i,o,s,c,u,d,f,p,g,b,v,y,x,w,j,C,S,$,_,k;let E=e.strict,N=null==(t=e.code)?void 0:t.optimize,P=!0===N||void 0===N?1:N||0,D=null!=(a=null==(r=e.code)?void 0:r.regExp)?a:m,T=null!=(n=e.uriResolver)?n:h.default;return{strictSchema:null==(i=null!=(l=e.strictSchema)?l:E)||i,strictNumbers:null==(s=null!=(o=e.strictNumbers)?o:E)||s,strictTypes:null!=(u=null!=(c=e.strictTypes)?c:E)?u:"log",strictTuples:null!=(f=null!=(d=e.strictTuples)?d:E)?f:"log",strictRequired:null!=(g=null!=(p=e.strictRequired)?p:E)&&g,code:e.code?{...e.code,optimize:P,regExp:D}:{optimize:P,regExp:D},loopRequired:null!=(b=e.loopRequired)?b:200,loopEnum:null!=(v=e.loopEnum)?v:200,meta:null==(y=e.meta)||y,messages:null==(x=e.messages)||x,inlineRefs:null==(w=e.inlineRefs)||w,schemaId:null!=(j=e.schemaId)?j:"$id",addUsedSchema:null==(C=e.addUsedSchema)||C,validateSchema:null==(S=e.validateSchema)||S,validateFormats:null==($=e.validateFormats)||$,unicodeRegExp:null==(_=e.unicodeRegExp)||_,int32range:null==(k=e.int32range)||k,uriResolver:T}}(e)};const{es5:t,lines:r}=this.opts.code;this.scope=new c.ValueScope({scope:{},prefixes:b,es5:t,lines:r}),this.logger=function(e){if(!1===e)return k;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw Error("logger must implement log, warn and error methods")}(e.logger);const a=e.validateFormats;e.validateFormats=!1,this.RULES=(0,o.getRules)(),w.call(this,v,e,"NOT SUPPORTED"),w.call(this,y,e,"DEPRECATED","warn"),this._metaOpts=_.call(this),e.formats&&S.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&$.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),C.call(this),e.validateFormats=a}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:t,schemaId:r}=this.opts,a=p;"id"===r&&((a={...p}).id=a.$id,delete a.$id),t&&e&&this.addMetaSchema(a,a[r],!1)}defaultMeta(){let{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[t]||e:void 0}validate(e,t){let r;if("string"==typeof e){if(!(r=this.getSchema(e)))throw Error(`no schema with key or ref "${e}"`)}else r=this.compile(e);let a=r(t);return"$async"in r||(this.errors=r.errors),a}compile(e,t){let r=this._addSchema(e,t);return r.validate||this._compileSchemaEnv(r)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw Error("options.loadSchema should be a function");let{loadSchema:r}=this.opts;return a.call(this,e,t);async function a(e,t){await n.call(this,e.$schema);let r=this._addSchema(e,t);return r.validate||l.call(this,r)}async function n(e){e&&!this.getSchema(e)&&await a.call(this,{$ref:e},!0)}async function l(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof i.default))throw t;return o.call(this,t),await s.call(this,t.missingSchema),l.call(this,e)}}function o({missingSchema:e,missingRef:t}){if(this.refs[e])throw Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function s(e){let r=await c.call(this,e);this.refs[e]||await n.call(this,r.$schema),this.refs[e]||this.addSchema(r,e,t)}async function c(e){let t=this._loading[e];if(t)return t;try{return await (this._loading[e]=r(e))}finally{delete this._loading[e]}}}addSchema(e,t,r,a=this.opts.validateSchema){let n;if(Array.isArray(e)){for(let t of e)this.addSchema(t,void 0,r,a);return this}if("object"==typeof e){let{schemaId:t}=this.opts;if(void 0!==(n=e[t])&&"string"!=typeof n)throw Error(`schema ${t} must be string`)}return t=(0,u.normalizeId)(t||n),this._checkUnique(t),this.schemas[t]=this._addSchema(e,r,t,a,!0),this}addMetaSchema(e,t,r=this.opts.validateSchema){return this.addSchema(e,t,!0,r),this}validateSchema(e,t){let r;if("boolean"==typeof e)return!0;if(void 0!==(r=e.$schema)&&"string"!=typeof r)throw Error("$schema must be a string");if(!(r=r||this.opts.defaultMeta||this.defaultMeta()))return this.logger.warn("meta-schema not available"),this.errors=null,!0;let a=this.validate(r,e);if(!a&&t){let e="schema is invalid: "+this.errorsText();if("log"===this.opts.validateSchema)this.logger.error(e);else throw Error(e)}return a}getSchema(e){let t;for(;"string"==typeof(t=j.call(this,e));)e=t;if(void 0===t){let{schemaId:r}=this.opts,a=new s.SchemaEnv({schema:{},schemaId:r});if(!(t=s.resolveSchema.call(this,a,e)))return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let t=j.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{this._cache.delete(e);let t=e[this.opts.schemaId];return t&&(t=(0,u.normalizeId)(t),delete this.schemas[t],delete this.refs[t]),this}default:throw Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let t of e)this.addKeyword(t);return this}addKeyword(e,t){let r;if("string"==typeof e)r=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=r);else if("object"==typeof e&&void 0===t){if(Array.isArray(r=(t=e).keyword)&&!r.length)throw Error("addKeywords: keyword must be string or non-empty array")}else throw Error("invalid addKeywords parameters");if(N.call(this,r,t),!t)return(0,f.eachItem)(r,e=>P.call(this,e)),this;T.call(this,t);let a={...t,type:(0,d.getJSONTypes)(t.type),schemaType:(0,d.getJSONTypes)(t.schemaType)};return(0,f.eachItem)(r,0===a.type.length?e=>P.call(this,e,a):e=>a.type.forEach(t=>P.call(this,e,a,t))),this}getKeyword(e){let t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){let{RULES:t}=this;for(let r of(delete t.keywords[e],delete t.all[e],t.rules)){let t=r.rules.findIndex(t=>t.keyword===e);t>=0&&r.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:r="data"}={}){return e&&0!==e.length?e.map(e=>`${r}${e.instancePath} ${e.message}`).reduce((e,r)=>e+t+r):"No errors"}$dataMetaSchema(e,t){let r=this.RULES.all;for(let a of(e=JSON.parse(JSON.stringify(e)),t)){let t=a.split("/").slice(1),n=e;for(let e of t)n=n[e];for(let e in r){let t=r[e];if("object"!=typeof t)continue;let{$data:a}=t.definition,l=n[e];a&&l&&(n[e]=R(l))}}return e}_removeAllSchemas(e,t){for(let r in e){let a=e[r];(!t||t.test(r))&&("string"==typeof a?delete e[r]:a&&!a.meta&&(this._cache.delete(a.schema),delete e[r]))}}_addSchema(e,t,r,a=this.opts.validateSchema,n=this.opts.addUsedSchema){let l,{schemaId:i}=this.opts;if("object"==typeof e)l=e[i];else if(this.opts.jtd)throw Error("schema must be object");else if("boolean"!=typeof e)throw Error("schema must be object or boolean");let o=this._cache.get(e);if(void 0!==o)return o;r=(0,u.normalizeId)(l||r);let c=u.getSchemaRefs.call(this,e,r);return o=new s.SchemaEnv({schema:e,schemaId:i,meta:t,baseId:r,localRefs:c}),this._cache.set(o.schema,o),n&&!r.startsWith("#")&&(r&&this._checkUnique(r),this.refs[r]=o),a&&this.validateSchema(e,!0),o}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):s.compileSchema.call(this,e),!e.validate)throw Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let t=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,e)}finally{this.opts=t}}}function w(e,t,r,a="error"){for(let n in e)n in t&&this.logger[a](`${r}: option ${n}. ${e[n]}`)}function j(e){return e=(0,u.normalizeId)(e),this.schemas[e]||this.refs[e]}function C(){let e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(let t in e)this.addSchema(e[t],t)}function S(){for(let e in this.opts.formats){let t=this.opts.formats[e];t&&this.addFormat(e,t)}}function $(e){if(Array.isArray(e))return void this.addVocabulary(e);for(let t in this.logger.warn("keywords option as map is deprecated, pass array"),e){let r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}function _(){let e={...this.opts};for(let t of g)delete e[t];return e}x.ValidationError=l.default,x.MissingRefError=i.default,r.default=x;let k={log(){},warn(){},error(){}},E=/^[a-z_$][a-z0-9_$:-]*$/i;function N(e,t){let{RULES:r}=this;if((0,f.eachItem)(e,e=>{if(r.keywords[e])throw Error(`Keyword ${e} is already defined`);if(!E.test(e))throw Error(`Keyword ${e} has invalid name`)}),t&&t.$data&&!("code"in t||"validate"in t))throw Error('$data keyword must have "code" or "validate" function')}function P(e,t,r){var a;let n=null==t?void 0:t.post;if(r&&n)throw Error('keyword with "post" flag cannot have "type"');let{RULES:l}=this,i=n?l.post:l.rules.find(({type:e})=>e===r);if(i||(i={type:r,rules:[]},l.rules.push(i)),l.keywords[e]=!0,!t)return;let o={keyword:e,definition:{...t,type:(0,d.getJSONTypes)(t.type),schemaType:(0,d.getJSONTypes)(t.schemaType)}};t.before?D.call(this,i,o,t.before):i.rules.push(o),l.all[e]=o,null==(a=t.implements)||a.forEach(e=>this.addKeyword(e))}function D(e,t,r){let a=e.rules.findIndex(e=>e.keyword===r);a>=0?e.rules.splice(a,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}function T(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=R(t)),e.validateSchema=this.compile(t,!0))}let O={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function R(e){return{anyOf:[e,O]}}},274028,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={keyword:"id",code(){throw Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},807857,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.callRef=r.getValidate=void 0;let a=e.r(743002),n=e.r(966992),l=e.r(100145),i=e.r(864130),o=e.r(893066),s=e.r(803026);function c(e,t){let{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,l._)`${r.scopeValue("wrapper",{ref:t})}.validate`}function u(e,t,r,a){let{gen:o,it:c}=e,{allErrors:u,schemaEnv:d,opts:f}=c,p=f.passContext?i.default.this:l.nil;function h(e){let t=(0,l._)`${e}.errors`;o.assign(i.default.vErrors,(0,l._)`${i.default.vErrors} === null ? ${t} : ${i.default.vErrors}.concat(${t})`),o.assign(i.default.errors,(0,l._)`${i.default.vErrors}.length`)}function m(e){var t;if(!c.opts.unevaluated)return;let a=null==(t=null==r?void 0:r.validate)?void 0:t.evaluated;if(!0!==c.props)if(a&&!a.dynamicProps)void 0!==a.props&&(c.props=s.mergeEvaluated.props(o,a.props,c.props));else{let t=o.var("props",(0,l._)`${e}.evaluated.props`);c.props=s.mergeEvaluated.props(o,t,c.props,l.Name)}if(!0!==c.items)if(a&&!a.dynamicItems)void 0!==a.items&&(c.items=s.mergeEvaluated.items(o,a.items,c.items));else{let t=o.var("items",(0,l._)`${e}.evaluated.items`);c.items=s.mergeEvaluated.items(o,t,c.items,l.Name)}}a?function(){if(!d.$async)throw Error("async schema referenced by sync schema");let r=o.let("valid");o.try(()=>{o.code((0,l._)`await ${(0,n.callValidateCode)(e,t,p)}`),m(t),u||o.assign(r,!0)},e=>{o.if((0,l._)`!(${e} instanceof ${c.ValidationError})`,()=>o.throw(e)),h(e),u||o.assign(r,!1)}),e.ok(r)}():e.result((0,n.callValidateCode)(e,t,p),()=>m(t),()=>h(t))}r.getValidate=c,r.callRef=u,r.default={keyword:"$ref",schemaType:"string",code(e){var t,r;let n,i,s,d,{gen:f,schema:p,it:h}=e,{baseId:m,schemaEnv:g,validateName:b,opts:v,self:y}=h,{root:x}=g;if(("#"===p||"#/"===p)&&m===x.baseId){if(g===x)return u(e,b,g,g.$async);let t=f.scopeValue("root",{ref:x});return u(e,(0,l._)`${t}.validate`,x,x.$async)}let w=o.resolveRef.call(y,x,m,p);if(void 0===w)throw new a.default(h.opts.uriResolver,m,p);return w instanceof o.SchemaEnv?(n=c(e,t=w),void u(e,n,t,t.$async)):(r=w,i=f.scopeValue("schema",!0===v.code.source?{ref:r,code:(0,l.stringify)(r)}:{ref:r}),s=f.name("valid"),d=e.subschema({schema:r,dataTypes:[],schemaPath:l.nil,topSchemaRef:i,errSchemaPath:p},s),void(e.mergeEvaluated(d),e.ok(s)))}}},28453,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(274028),n=e.r(807857);r.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",a.default,n.default]},100213,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(100145),n=a.operators,l={maximum:{okStr:"<=",ok:n.LTE,fail:n.GT},minimum:{okStr:">=",ok:n.GTE,fail:n.LT},exclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},exclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}};r.default={keyword:Object.keys(l),type:"number",schemaType:"number",$data:!0,error:{message:({keyword:e,schemaCode:t})=>(0,a.str)`must be ${l[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,a._)`{comparison: ${l[e].okStr}, limit: ${t}}`},code(e){let{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,a._)`${r} ${l[t].fail} ${n} || isNaN(${r})`)}}},797966,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(100145);r.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>(0,a.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,a._)`{multipleOf: ${e}}`},code(e){let{gen:t,data:r,schemaCode:n,it:l}=e,i=l.opts.multipleOfPrecision,o=t.let("res"),s=i?(0,a._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${i}`:(0,a._)`${o} !== parseInt(${o})`;e.fail$data((0,a._)`(${n} === 0 || (${o} = ${r}/${n}, ${s}))`)}}},446772,(e,t,r)=>{"use strict";function a(e){let t,r=e.length,a=0,n=0;for(;n<r;)a++,(t=e.charCodeAt(n++))>=55296&&t<=56319&&n<r&&(64512&(t=e.charCodeAt(n)))==56320&&n++;return a}Object.defineProperty(r,"__esModule",{value:!0}),r.default=a,a.code='require("ajv/dist/runtime/ucs2length").default'},631717,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(100145),n=e.r(803026),l=e.r(446772);r.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:({keyword:e,schemaCode:t})=>(0,a.str)`must NOT have ${"maxLength"===e?"more":"fewer"} than ${t} characters`,params:({schemaCode:e})=>(0,a._)`{limit: ${e}}`},code(e){let{keyword:t,data:r,schemaCode:i,it:o}=e,s="maxLength"===t?a.operators.GT:a.operators.LT,c=!1===o.opts.unicode?(0,a._)`${r}.length`:(0,a._)`${(0,n.useFunc)(e.gen,l.default)}(${r})`;e.fail$data((0,a._)`${c} ${s} ${i}`)}}},997782,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(966992),n=e.r(100145);r.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>(0,n.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,n._)`{pattern: ${e}}`},code(e){let{data:t,$data:r,schema:l,schemaCode:i,it:o}=e,s=o.opts.unicodeRegExp?"u":"",c=r?(0,n._)`(new RegExp(${i}, ${s}))`:(0,a.usePattern)(e,l);e.fail$data((0,n._)`!${c}.test(${t})`)}}},385395,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(100145);r.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:({keyword:e,schemaCode:t})=>(0,a.str)`must NOT have ${"maxProperties"===e?"more":"fewer"} than ${t} properties`,params:({schemaCode:e})=>(0,a._)`{limit: ${e}}`},code(e){let{keyword:t,data:r,schemaCode:n}=e,l="maxProperties"===t?a.operators.GT:a.operators.LT;e.fail$data((0,a._)`Object.keys(${r}).length ${l} ${n}`)}}},572568,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(966992),n=e.r(100145),l=e.r(803026);r.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>(0,n.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,n._)`{missingProperty: ${e}}`},code(e){let{gen:t,schema:r,schemaCode:i,data:o,$data:s,it:c}=e,{opts:u}=c;if(!s&&0===r.length)return;let d=r.length>=u.loopRequired;if(c.allErrors?function(){if(d||s)e.block$data(n.nil,f);else for(let t of r)(0,a.checkReportMissingProp)(e,t)}():function(){let l=t.let("missing");if(d||s){let r=t.let("valid",!0);e.block$data(r,()=>{var s,c;return s=l,c=r,void(e.setParams({missingProperty:s}),t.forOf(s,i,()=>{t.assign(c,(0,a.propertyInData)(t,o,s,u.ownProperties)),t.if((0,n.not)(c),()=>{e.error(),t.break()})},n.nil))}),e.ok(r)}else t.if((0,a.checkMissingProp)(e,r,l)),(0,a.reportMissingProp)(e,l),t.else()}(),u.strictRequired){let t=e.parentSchema.properties,{definedProperties:a}=e.it;for(let e of r)if((null==t?void 0:t[e])===void 0&&!a.has(e)){let t=c.schemaEnv.baseId+c.errSchemaPath,r=`required property "${e}" is not defined at "${t}" (strictRequired)`;(0,l.checkStrictMode)(c,r,c.opts.strictRequired)}}function f(){t.forOf("prop",i,r=>{e.setParams({missingProperty:r}),t.if((0,a.noPropertyInData)(t,o,r,u.ownProperties),()=>e.error())})}}}},581573,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(100145);r.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:({keyword:e,schemaCode:t})=>(0,a.str)`must NOT have ${"maxItems"===e?"more":"fewer"} than ${t} items`,params:({schemaCode:e})=>(0,a._)`{limit: ${e}}`},code(e){let{keyword:t,data:r,schemaCode:n}=e,l="maxItems"===t?a.operators.GT:a.operators.LT;e.fail$data((0,a._)`${r}.length ${l} ${n}`)}}},991150,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(65932);a.code='require("ajv/dist/runtime/equal").default',r.default=a},287120,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(795401),n=e.r(100145),l=e.r(803026),i=e.r(991150);r.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>(0,n.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,n._)`{i: ${e}, j: ${t}}`},code(e){let{gen:t,data:r,$data:o,schema:s,parentSchema:c,schemaCode:u,it:d}=e;if(!o&&!s)return;let f=t.let("valid"),p=c.items?(0,a.getSchemaTypes)(c.items):[];e.block$data(f,function(){let o=t.let("i",(0,n._)`${r}.length`),s=t.let("j");e.setParams({i:o,j:s}),t.assign(f,!0),t.if((0,n._)`${o} > 1`,()=>(p.length>0&&!p.some(e=>"object"===e||"array"===e)?function(l,i){let o=t.name("item"),s=(0,a.checkDataTypes)(p,o,d.opts.strictNumbers,a.DataType.Wrong),c=t.const("indices",(0,n._)`{}`);t.for((0,n._)`;${l}--;`,()=>{t.let(o,(0,n._)`${r}[${l}]`),t.if(s,(0,n._)`continue`),p.length>1&&t.if((0,n._)`typeof ${o} == "string"`,(0,n._)`${o} += "_"`),t.if((0,n._)`typeof ${c}[${o}] == "number"`,()=>{t.assign(i,(0,n._)`${c}[${o}]`),e.error(),t.assign(f,!1).break()}).code((0,n._)`${c}[${o}] = ${l}`)})}:function(a,o){let s=(0,l.useFunc)(t,i.default),c=t.name("outer");t.label(c).for((0,n._)`;${a}--;`,()=>t.for((0,n._)`${o} = ${a}; ${o}--;`,()=>t.if((0,n._)`${s}(${r}[${a}], ${r}[${o}])`,()=>{e.error(),t.assign(f,!1).break(c)})))})(o,s))},(0,n._)`${u} === false`),e.ok(f)}}},861707,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(100145),n=e.r(803026),l=e.r(991150);r.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>(0,a._)`{allowedValue: ${e}}`},code(e){let{gen:t,data:r,$data:i,schemaCode:o,schema:s}=e;i||s&&"object"==typeof s?e.fail$data((0,a._)`!${(0,n.useFunc)(t,l.default)}(${r}, ${o})`):e.fail((0,a._)`${s} !== ${r}`)}}},833314,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(100145),n=e.r(803026),l=e.r(991150);r.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,a._)`{allowedValues: ${e}}`},code(e){let t,r,{gen:i,data:o,$data:s,schema:c,schemaCode:u,it:d}=e;if(!s&&0===c.length)throw Error("enum must have non-empty array");let f=c.length>=d.opts.loopEnum,p=()=>null!=t?t:t=(0,n.useFunc)(i,l.default);if(f||s)r=i.let("valid"),e.block$data(r,function(){i.assign(r,!1),i.forOf("v",u,e=>i.if((0,a._)`${p()}(${o}, ${e})`,()=>i.assign(r,!0).break()))});else{if(!Array.isArray(c))throw Error("ajv implementation error");let e=i.const("vSchema",u);r=(0,a.or)(...c.map((t,r)=>{var n,l;let i;return n=e,"object"==typeof(i=c[l=r])&&null!==i?(0,a._)`${p()}(${o}, ${n}[${l}])`:(0,a._)`${o} === ${i}`}))}e.pass(r)}}},838988,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(100213),n=e.r(797966),l=e.r(631717),i=e.r(997782),o=e.r(385395),s=e.r(572568),c=e.r(581573),u=e.r(287120),d=e.r(861707),f=e.r(833314);r.default=[a.default,n.default,l.default,i.default,o.default,s.default,c.default,u.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},d.default,f.default]},894930,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateAdditionalItems=void 0;let a=e.r(100145),n=e.r(803026);function l(e,t){let{gen:r,schema:l,data:i,keyword:o,it:s}=e;s.items=!0;let c=r.const("len",(0,a._)`${i}.length`);if(!1===l)e.setParams({len:t.length}),e.pass((0,a._)`${c} <= ${t.length}`);else if("object"==typeof l&&!(0,n.alwaysValidSchema)(s,l)){let l=r.var("valid",(0,a._)`${c} <= ${t.length}`);r.if((0,a.not)(l),()=>{var i;return i=l,void r.forRange("i",t.length,c,t=>{e.subschema({keyword:o,dataProp:t,dataPropType:n.Type.Num},i),s.allErrors||r.if((0,a.not)(i),()=>r.break())})}),e.ok(l)}}r.validateAdditionalItems=l,r.default={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>(0,a.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,a._)`{limit: ${e}}`},code(e){let{parentSchema:t,it:r}=e,{items:a}=t;Array.isArray(a)?l(e,a):(0,n.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas')}}},344735,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateTuple=void 0;let a=e.r(100145),n=e.r(803026),l=e.r(966992);function i(e,t,r=e.schema){let{gen:l,parentSchema:o,data:s,keyword:c,it:u}=e;(function(e){let{opts:a,errSchemaPath:l}=u,i=r.length,o=i===e.minItems&&(i===e.maxItems||!1===e[t]);if(a.strictTuples&&!o){let e=`"${c}" is ${i}-tuple, but minItems or maxItems/${t} are not specified or different at path "${l}"`;(0,n.checkStrictMode)(u,e,a.strictTuples)}})(o),u.opts.unevaluated&&r.length&&!0!==u.items&&(u.items=n.mergeEvaluated.items(l,r.length,u.items));let d=l.name("valid"),f=l.const("len",(0,a._)`${s}.length`);r.forEach((t,r)=>{(0,n.alwaysValidSchema)(u,t)||(l.if((0,a._)`${f} > ${r}`,()=>e.subschema({keyword:c,schemaProp:r,dataProp:r},d)),e.ok(d))})}r.validateTuple=i,r.default={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){let{schema:t,it:r}=e;if(Array.isArray(t))return i(e,"additionalItems",t);r.items=!0,(0,n.alwaysValidSchema)(r,t)||e.ok((0,l.validateArray)(e))}}},291963,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(344735);r.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,a.validateTuple)(e,"items")}},117350,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(100145),n=e.r(803026),l=e.r(966992),i=e.r(894930);r.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>(0,a.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,a._)`{limit: ${e}}`},code(e){let{schema:t,parentSchema:r,it:a}=e,{prefixItems:o}=r;a.items=!0,(0,n.alwaysValidSchema)(a,t)||(o?(0,i.validateAdditionalItems)(e,o):e.ok((0,l.validateArray)(e)))}}},180339,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(100145),n=e.r(803026);r.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>void 0===t?(0,a.str)`must contain at least ${e} valid item(s)`:(0,a.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?(0,a._)`{minContains: ${e}}`:(0,a._)`{minContains: ${e}, maxContains: ${t}}`},code(e){let t,r,{gen:l,schema:i,parentSchema:o,data:s,it:c}=e,{minContains:u,maxContains:d}=o;c.opts.next?(t=void 0===u?1:u,r=d):t=1;let f=l.const("len",(0,a._)`${s}.length`);if(e.setParams({min:t,max:r}),void 0===r&&0===t)return void(0,n.checkStrictMode)(c,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==r&&t>r){(0,n.checkStrictMode)(c,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,n.alwaysValidSchema)(c,i)){let n=(0,a._)`${f} >= ${t}`;void 0!==r&&(n=(0,a._)`${n} && ${f} <= ${r}`),e.pass(n);return}c.items=!0;let p=l.name("valid");function h(){let e=l.name("_valid"),n=l.let("count",0);m(e,()=>l.if(e,()=>{var e;return e=n,void(l.code((0,a._)`${e}++`),void 0===r?l.if((0,a._)`${e} >= ${t}`,()=>l.assign(p,!0).break()):(l.if((0,a._)`${e} > ${r}`,()=>l.assign(p,!1).break()),1===t?l.assign(p,!0):l.if((0,a._)`${e} >= ${t}`,()=>l.assign(p,!0))))}))}function m(t,r){l.forRange("i",0,f,a=>{e.subschema({keyword:"contains",dataProp:a,dataPropType:n.Type.Num,compositeRule:!0},t),r()})}void 0===r&&1===t?m(p,()=>l.if(p,()=>l.break())):0===t?(l.let(p,!0),void 0!==r&&l.if((0,a._)`${s}.length > 0`,h)):(l.let(p,!1),h()),e.result(p,()=>e.reset())}}},518459,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateSchemaDeps=r.validatePropertyDeps=r.error=void 0;let a=e.r(100145),n=e.r(803026),l=e.r(966992);r.error={message:({params:{property:e,depsCount:t,deps:r}})=>(0,a.str)`must have ${1===t?"property":"properties"} ${r} when property ${e} is present`,params:({params:{property:e,depsCount:t,deps:r,missingProperty:n}})=>(0,a._)`{property: ${e},
    missingProperty: ${n},
    depsCount: ${t},
    deps: ${r}}`};let i={keyword:"dependencies",type:"object",schemaType:"object",error:r.error,code(e){let[t,r]=function({schema:e}){let t={},r={};for(let a in e)"__proto__"!==a&&((Array.isArray(e[a])?t:r)[a]=e[a]);return[t,r]}(e);o(e,t),s(e,r)}};function o(e,t=e.schema){let{gen:r,data:n,it:i}=e;if(0===Object.keys(t).length)return;let s=r.let("missing");for(let o in t){let c=t[o];if(0===c.length)continue;let u=(0,l.propertyInData)(r,n,o,i.opts.ownProperties);e.setParams({property:o,depsCount:c.length,deps:c.join(", ")}),i.allErrors?r.if(u,()=>{for(let t of c)(0,l.checkReportMissingProp)(e,t)}):(r.if((0,a._)`${u} && (${(0,l.checkMissingProp)(e,c,s)})`),(0,l.reportMissingProp)(e,s),r.else())}}function s(e,t=e.schema){let{gen:r,data:a,keyword:i,it:o}=e,c=r.name("valid");for(let s in t)(0,n.alwaysValidSchema)(o,t[s])||(r.if((0,l.propertyInData)(r,a,s,o.opts.ownProperties),()=>{let t=e.subschema({keyword:i,schemaProp:s},c);e.mergeValidEvaluated(t,c)},()=>r.var(c,!0)),e.ok(c))}r.validatePropertyDeps=o,r.validateSchemaDeps=s,r.default=i},33770,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(100145),n=e.r(803026);r.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>(0,a._)`{propertyName: ${e.propertyName}}`},code(e){let{gen:t,schema:r,data:l,it:i}=e;if((0,n.alwaysValidSchema)(i,r))return;let o=t.name("valid");t.forIn("key",l,r=>{e.setParams({propertyName:r}),e.subschema({keyword:"propertyNames",data:r,dataTypes:["string"],propertyName:r,compositeRule:!0},o),t.if((0,a.not)(o),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(o)}}},61366,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(966992),n=e.r(100145),l=e.r(864130),i=e.r(803026);r.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>(0,n._)`{additionalProperty: ${e.additionalProperty}}`},code(e){let{gen:t,schema:r,parentSchema:o,data:s,errsCount:c,it:u}=e;if(!c)throw Error("ajv implementation error");let{allErrors:d,opts:f}=u;if(u.props=!0,"all"!==f.removeAdditional&&(0,i.alwaysValidSchema)(u,r))return;let p=(0,a.allSchemaProperties)(o.properties),h=(0,a.allSchemaProperties)(o.patternProperties);function m(e){t.code((0,n._)`delete ${s}[${e}]`)}function g(a){if("all"===f.removeAdditional||f.removeAdditional&&!1===r)return void m(a);if(!1===r){e.setParams({additionalProperty:a}),e.error(),d||t.break();return}if("object"==typeof r&&!(0,i.alwaysValidSchema)(u,r)){let r=t.name("valid");"failing"===f.removeAdditional?(b(a,r,!1),t.if((0,n.not)(r),()=>{e.reset(),m(a)})):(b(a,r),d||t.if((0,n.not)(r),()=>t.break()))}}function b(t,r,a){let n={keyword:"additionalProperties",dataProp:t,dataPropType:i.Type.Str};!1===a&&Object.assign(n,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(n,r)}t.forIn("key",s,r=>{p.length||h.length?t.if(function(r){let l;if(p.length>8){let e=(0,i.schemaRefOrVal)(u,o.properties,"properties");l=(0,a.isOwnProperty)(t,e,r)}else l=p.length?(0,n.or)(...p.map(e=>(0,n._)`${r} === ${e}`)):n.nil;return h.length&&(l=(0,n.or)(l,...h.map(t=>(0,n._)`${(0,a.usePattern)(e,t)}.test(${r})`))),(0,n.not)(l)}(r),()=>g(r)):g(r)}),e.ok((0,n._)`${c} === ${l.default.errors}`)}}},290985,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(341770),n=e.r(966992),l=e.r(803026),i=e.r(61366);r.default={keyword:"properties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,parentSchema:o,data:s,it:c}=e;"all"===c.opts.removeAdditional&&void 0===o.additionalProperties&&i.default.code(new a.KeywordCxt(c,i.default,"additionalProperties"));let u=(0,n.allSchemaProperties)(r);for(let e of u)c.definedProperties.add(e);c.opts.unevaluated&&u.length&&!0!==c.props&&(c.props=l.mergeEvaluated.props(t,(0,l.toHash)(u),c.props));let d=u.filter(e=>!(0,l.alwaysValidSchema)(c,r[e]));if(0===d.length)return;let f=t.name("valid");for(let a of d){var p;(p=a,c.opts.useDefaults&&!c.compositeRule&&void 0!==r[p].default)?h(a):(t.if((0,n.propertyInData)(t,s,a,c.opts.ownProperties)),h(a),c.allErrors||t.else().var(f,!0),t.endIf()),e.it.definedProperties.add(a),e.ok(f)}function h(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},f)}}}},836328,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(966992),n=e.r(100145),l=e.r(803026),i=e.r(803026);r.default={keyword:"patternProperties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,data:o,parentSchema:s,it:c}=e,{opts:u}=c,d=(0,a.allSchemaProperties)(r),f=d.filter(e=>(0,l.alwaysValidSchema)(c,r[e]));if(0===d.length||f.length===d.length&&(!c.opts.unevaluated||!0===c.props))return;let p=u.strictSchema&&!u.allowMatchingProperties&&s.properties,h=t.name("valid");!0===c.props||c.props instanceof n.Name||(c.props=(0,i.evaluatedPropsToName)(t,c.props));let{props:m}=c;for(let e of d)p&&function(e){for(let t in p)new RegExp(e).test(t)&&(0,l.checkStrictMode)(c,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}(e),c.allErrors?g(e):(t.var(h,!0),g(e),t.if(h));function g(r){t.forIn("key",o,l=>{t.if((0,n._)`${(0,a.usePattern)(e,r)}.test(${l})`,()=>{let a=f.includes(r);a||e.subschema({keyword:"patternProperties",schemaProp:r,dataProp:l,dataPropType:i.Type.Str},h),c.opts.unevaluated&&!0!==m?t.assign((0,n._)`${m}[${l}]`,!0):a||c.allErrors||t.if((0,n.not)(h),()=>t.break())})})}}}},210489,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(803026);r.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){let{gen:t,schema:r,it:n}=e;if((0,a.alwaysValidSchema)(n,r))return void e.fail();let l=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},l),e.failResult(l,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}}},124465,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:e.r(966992).validateUnion,error:{message:"must match a schema in anyOf"}}},115124,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(100145),n=e.r(803026);r.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>(0,a._)`{passingSchemas: ${e.passing}}`},code(e){let{gen:t,schema:r,parentSchema:l,it:i}=e;if(!Array.isArray(r))throw Error("ajv implementation error");if(i.opts.discriminator&&l.discriminator)return;let o=t.let("valid",!1),s=t.let("passing",null),c=t.name("_valid");e.setParams({passing:s}),t.block(function(){r.forEach((r,l)=>{let u;(0,n.alwaysValidSchema)(i,r)?t.var(c,!0):u=e.subschema({keyword:"oneOf",schemaProp:l,compositeRule:!0},c),l>0&&t.if((0,a._)`${c} && ${o}`).assign(o,!1).assign(s,(0,a._)`[${s}, ${l}]`).else(),t.if(c,()=>{t.assign(o,!0),t.assign(s,l),u&&e.mergeEvaluated(u,a.Name)})})}),e.result(o,()=>e.reset(),()=>e.error(!0))}}},873609,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(803026);r.default={keyword:"allOf",schemaType:"array",code(e){let{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw Error("ajv implementation error");let l=t.name("valid");r.forEach((t,r)=>{if((0,a.alwaysValidSchema)(n,t))return;let i=e.subschema({keyword:"allOf",schemaProp:r},l);e.ok(l),e.mergeEvaluated(i)})}}},571115,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(100145),n=e.r(803026);function l(e,t){let r=e.schema[t];return void 0!==r&&!(0,n.alwaysValidSchema)(e,r)}r.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>(0,a.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,a._)`{failingKeyword: ${e.ifClause}}`},code(e){let t,{gen:r,parentSchema:i,it:o}=e;void 0===i.then&&void 0===i.else&&(0,n.checkStrictMode)(o,'"if" without "then" and "else" is ignored');let s=l(o,"then"),c=l(o,"else");if(!s&&!c)return;let u=r.let("valid",!0),d=r.name("_valid");if(t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},d),e.mergeEvaluated(t),e.reset(),s&&c){let t=r.let("ifClause");e.setParams({ifClause:t}),r.if(d,f("then",t),f("else",t))}else s?r.if(d,f("then")):r.if((0,a.not)(d),f("else"));function f(t,n){return()=>{let l=e.subschema({keyword:t},d);r.assign(u,d),e.mergeValidEvaluated(l,u),n?r.assign(n,(0,a._)`${t}`):e.setParams({ifClause:t})}}e.pass(u,()=>e.error(!0))}}},556572,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(803026);r.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){void 0===t.if&&(0,a.checkStrictMode)(r,`"${e}" without "if" is ignored`)}}},426647,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(894930),n=e.r(291963),l=e.r(344735),i=e.r(117350),o=e.r(180339),s=e.r(518459),c=e.r(33770),u=e.r(61366),d=e.r(290985),f=e.r(836328),p=e.r(210489),h=e.r(124465),m=e.r(115124),g=e.r(873609),b=e.r(571115),v=e.r(556572);r.default=function(e=!1){let t=[p.default,h.default,m.default,g.default,b.default,v.default,c.default,u.default,s.default,d.default,f.default];return e?t.push(n.default,i.default):t.push(a.default,l.default),t.push(o.default),t}},65527,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(100145);r.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>(0,a.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,a._)`{format: ${e}}`},code(e,t){let r,n,l,i,o,s,{gen:c,data:u,$data:d,schema:f,schemaCode:p,it:h}=e,{opts:m,errSchemaPath:g,schemaEnv:b,self:v}=h;m.validateFormats&&(d?(r=c.scopeValue("formats",{ref:v.formats,code:m.code.formats}),n=c.const("fDef",(0,a._)`${r}[${p}]`),l=c.let("fType"),i=c.let("format"),c.if((0,a._)`typeof ${n} == "object" && !(${n} instanceof RegExp)`,()=>c.assign(l,(0,a._)`${n}.type || "string"`).assign(i,(0,a._)`${n}.validate`),()=>c.assign(l,(0,a._)`"string"`).assign(i,n)),e.fail$data((0,a.or)(!1===m.strictSchema?a.nil:(0,a._)`${p} && !${i}`,(o=b.$async?(0,a._)`(${n}.async ? await ${i}(${u}) : ${i}(${u}))`:(0,a._)`${i}(${u})`,s=(0,a._)`(typeof ${i} == "function" ? ${o} : ${i}.test(${u}))`,(0,a._)`${i} && ${i} !== true && ${l} === ${t} && !${s}`)))):function(){var r;let n,l,i=v.formats[f];if(!i){if(!1===m.strictSchema)return v.logger.warn(o());throw Error(o());function o(){return`unknown format "${f}" ignored in schema at path "${g}"`}}if(!0===i)return;let[s,d,p]=(n=(r=i)instanceof RegExp?(0,a.regexpCode)(r):m.code.formats?(0,a._)`${m.code.formats}${(0,a.getProperty)(f)}`:void 0,l=c.scopeValue("formats",{key:f,ref:r,code:n}),"object"!=typeof r||r instanceof RegExp?["string",r,l]:[r.type||"string",r.validate,(0,a._)`${l}.validate`]);s===t&&e.pass(function(){if("object"==typeof i&&!(i instanceof RegExp)&&i.async){if(!b.$async)throw Error("async format in sync schema");return(0,a._)`await ${p}(${u})`}return"function"==typeof d?(0,a._)`${p}(${u})`:(0,a._)`${p}.test(${u})`}())}())}}},192473,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=[e.r(65527).default]},305738,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.contentVocabulary=r.metadataVocabulary=void 0,r.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],r.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},903311,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(28453),n=e.r(838988),l=e.r(426647),i=e.r(192473),o=e.r(305738);r.default=[a.default,n.default,(0,l.default)(),i.default,o.metadataVocabulary,o.contentVocabulary]},743283,(e,t,r)=>{"use strict";var a,n;Object.defineProperty(r,"__esModule",{value:!0}),r.DiscrError=void 0,(n=a||(r.DiscrError=a={})).Tag="tag",n.Mapping="mapping"},584978,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(100145),n=e.r(743283),l=e.r(893066),i=e.r(743002),o=e.r(803026);r.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:t}})=>e===n.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,a._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},code(e){let{gen:t,data:r,schema:s,parentSchema:c,it:u}=e,{oneOf:d}=c;if(!u.opts.discriminator)throw Error("discriminator: requires discriminator option");let f=s.propertyName;if("string"!=typeof f)throw Error("discriminator: requires propertyName");if(s.mapping)throw Error("discriminator: mapping is not supported");if(!d)throw Error("discriminator: requires oneOf keyword");let p=t.let("valid",!1),h=t.const("tag",(0,a._)`${r}${(0,a.getProperty)(f)}`);t.if((0,a._)`typeof ${h} == "string"`,()=>(function(){let r=function(){var e;let t={},r=n(c),a=!0;for(let t=0;t<d.length;t++){let c=d[t];if((null==c?void 0:c.$ref)&&!(0,o.schemaHasRulesButRef)(c,u.self.RULES)){let e=c.$ref;if((c=l.resolveRef.call(u.self,u.schemaEnv.root,u.baseId,e))instanceof l.SchemaEnv&&(c=c.schema),void 0===c)throw new i.default(u.opts.uriResolver,u.baseId,e)}let p=null==(e=null==c?void 0:c.properties)?void 0:e[f];if("object"!=typeof p)throw Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${f}"`);a=a&&(r||n(c)),function(e,t){if(e.const)s(e.const,t);else if(e.enum)for(let r of e.enum)s(r,t);else throw Error(`discriminator: "properties/${f}" must have "const" or "enum"`)}(p,t)}if(!a)throw Error(`discriminator: "${f}" must be required`);return t;function n({required:e}){return Array.isArray(e)&&e.includes(f)}function s(e,r){if("string"!=typeof e||e in t)throw Error(`discriminator: "${f}" values must be unique strings`);t[e]=r}}();for(let n in t.if(!1),r)t.elseIf((0,a._)`${h} === ${n}`),t.assign(p,function(r){let n=t.name("valid"),l=e.subschema({keyword:"oneOf",schemaProp:r},n);return e.mergeEvaluated(l,a.Name),n}(r[n]));t.else(),e.error(!1,{discrError:n.DiscrError.Mapping,tag:h,tagName:f}),t.endIf()})(),()=>e.error(!1,{discrError:n.DiscrError.Tag,tag:h,tagName:f})),e.ok(p)}}},34705,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MissingRefError=r.ValidationError=r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=r.Ajv=void 0;let a=e.r(226924),n=e.r(903311),l=e.r(584978),i=e.r(169690),o=["/properties"],s="http://json-schema.org/draft-07/schema";class c extends a.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(l.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(i,o):i;this.addMetaSchema(e,s,!1),this.refs["http://json-schema.org/schema"]=s}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}}r.Ajv=c,t.exports=r=c,t.exports.Ajv=c,Object.defineProperty(r,"__esModule",{value:!0}),r.default=c;var u=e.r(341770);Object.defineProperty(r,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var d=e.r(100145);Object.defineProperty(r,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(r,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var f=e.r(227230);Object.defineProperty(r,"ValidationError",{enumerable:!0,get:function(){return f.default}});var p=e.r(743002);Object.defineProperty(r,"MissingRefError",{enumerable:!0,get:function(){return p.default}})},756961,(e,t,r)=>{for(var a=e.i(71624),n=e.i(78689),l=Math.floor(0xffffff*Math.random()),i=h.index=parseInt(0xffffff*Math.random(),10),o=(void 0===a.default||"number"!=typeof a.default.pid?Math.floor(1e5*Math.random()):a.default.pid)%65535,s=(()=>{try{return _Buffer}catch(e){try{return n.Buffer}catch(e){return null}}})(),c=function(e){return!!(null!=e&&e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e))},u=[],d=0;d<256;d++)u[d]=(d<=15?"0":"")+d.toString(16);var f=RegExp("^[0-9a-fA-F]{24}$"),p=[];for(d=0;d<10;)p[48+d]=d++;for(;d<16;)p[55+d]=p[87+d]=d++;function h(e){if(!(this instanceof h))return new h(e);if(e&&(e instanceof h||"ObjectID"===e._bsontype))return e;if(this._bsontype="ObjectID",null==e||"number"==typeof e){this.id=this.generate(e);return}var t=h.isValid(e);if(t||null==e)if(t&&"string"==typeof e&&24===e.length)return h.createFromHexString(e);else if(null!=e&&12===e.length)this.id=e;else if(null!=e&&"function"==typeof e.toHexString)return e;else throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");else throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}t.exports=h,h.default=h,h.createFromTime=function(e){var t,r;return new h((t=8,(8===(r=(r=e=parseInt(e,10)%0xffffffff).toString(16)).length?r:"00000000".substring(r.length,8)+r)+"0000000000000000"))},h.createFromHexString=function(e){if(void 0===e||null!=e&&24!==e.length)throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");for(var t="",r=0;r<24;)t+=String.fromCharCode(p[e.charCodeAt(r++)]<<4|p[e.charCodeAt(r++)]);return new h(t)},h.isValid=function(e){return null!=e&&("number"==typeof e||("string"==typeof e?12===e.length||24===e.length&&f.test(e):e instanceof h||(c(e)?h.isValid(e.toString("hex")):"function"==typeof e.toHexString&&!!s&&(e.id instanceof s||"string"==typeof e.id)&&(12===e.id.length||24===e.id.length&&f.test(e.id)))))},h.prototype={constructor:h,toHexString:function(){if(!this.id||!this.id.length)throw Error("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(24===this.id.length)return this.id;if(c(this.id))return this.id.toString("hex");for(var e="",t=0;t<this.id.length;t++)e+=u[this.id.charCodeAt(t)];return e},equals:function(e){if(e instanceof h)return this.toString()===e.toString();if("string"==typeof e&&h.isValid(e)&&12===e.length&&c(this.id))return e===this.id.toString("binary");if("string"==typeof e&&h.isValid(e)&&24===e.length)return e.toLowerCase()===this.toHexString();if("string"==typeof e&&h.isValid(e)&&12===e.length)return e===this.id;if(null!=e&&(e instanceof h||e.toHexString))return e.toHexString()===this.toHexString();else return!1},getTimestamp:function(){var e,t=new Date;return e=c(this.id)?this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24:this.id.charCodeAt(3)|this.id.charCodeAt(2)<<8|this.id.charCodeAt(1)<<16|this.id.charCodeAt(0)<<24,t.setTime(1e3*Math.floor(e)),t},generate:function(e){"number"!=typeof e&&(e=~~(Date.now()/1e3)),e=parseInt(e,10)%0xffffffff;var t=i=(i+1)%0xffffff;return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e,l>>16&255,l>>8&255,255&l,o>>8&255,255&o,t>>16&255,t>>8&255,255&t)}};var m=Symbol&&Symbol.for&&Symbol.for("nodejs.util.inspect.custom")||"inspect";h.prototype[m]=function(){return"ObjectID("+this+")"},h.prototype.toJSON=h.prototype.toHexString,h.prototype.toString=h.prototype.toHexString},286264,(e,t,r)=>{e.e,t.exports=function(){var e=[],t=[],r={},a={},n={};function l(e){return"string"==typeof e?RegExp("^"+e+"$","i"):e}function i(e,t){return e===t?t:e===e.toLowerCase()?t.toLowerCase():e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase()}function o(e,t,a){if(!e.length||r.hasOwnProperty(e))return t;for(var n=a.length;n--;){var l=a[n];if(l[0].test(t))return function(e,t){return e.replace(t[0],function(r,a){var n,l,o=(n=t[1],l=arguments,n.replace(/\$(\d{1,2})/g,function(e,t){return l[t]||""}));return""===r?i(e[a-1],o):i(r,o)})}(t,l)}return t}function s(e,t,r){return function(a){var n=a.toLowerCase();return t.hasOwnProperty(n)?i(a,n):e.hasOwnProperty(n)?i(a,e[n]):o(n,a,r)}}function c(e,t,r,a){return function(a){var n=a.toLowerCase();return!!t.hasOwnProperty(n)||!e.hasOwnProperty(n)&&o(n,n,r)===n}}function u(e,t,r){var a=1===t?u.singular(e):u.plural(e);return(r?t+" ":"")+a}return u.plural=s(n,a,e),u.isPlural=c(n,a,e),u.singular=s(a,n,t),u.isSingular=c(a,n,t),u.addPluralRule=function(t,r){e.push([l(t),r])},u.addSingularRule=function(e,r){t.push([l(e),r])},u.addUncountableRule=function(e){if("string"==typeof e){r[e.toLowerCase()]=!0;return}u.addPluralRule(e,"$0"),u.addSingularRule(e,"$0")},u.addIrregularRule=function(e,t){t=t.toLowerCase(),n[e=e.toLowerCase()]=t,a[t]=e},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach(function(e){return u.addIrregularRule(e[0],e[1])}),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(e){return u.addPluralRule(e[0],e[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(e){return u.addSingularRule(e[0],e[1])}),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[e]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(u.addUncountableRule),u}()},847008,916440,636447,678194,763591,133455,103763,846734,312185,786053,e=>{"use strict";let t,r,a,n,l;var i,o=e.i(71624),s=e.i(78689),c=e.i(389378),u=e.i(708616),d=e.i(118297),f=e.i(430969),p=e.i(979878),h=e.i(538411);let m=(e,t)=>{if("object"==typeof e&&!Object.prototype.hasOwnProperty.call(e,"$$typeof")){if(e[t.language])return e[t.language];let r=[];"string"==typeof t.fallbackLanguage?r=[t.fallbackLanguage]:Array.isArray(t.fallbackLanguage)&&(r=t.fallbackLanguage);let a=r.find(t=>e[t]);return a&&e[a]?e[a]:e[Object.keys(e)[0]]}return"function"==typeof e?e({i18n:t,t:t.t}):e};e.s(["getTranslation",0,m],916440);var g=e.i(349780),b=e.i(349890),v=e.i(734214);function y(e){return"group"===e.type||"array"===e.type||"row"===e.type||"collapsible"===e.type}function x(e){return"array"===e.type}function w(e){return"blocks"===e.type}function j(e){return"object"==typeof e}function C(e){return Array.isArray(e)&&"object"==typeof e?.[0]}function S(e){return"ui"===e.type}function $(e){return"admin"in e&&"position"in e.admin&&"sidebar"===e.admin.position}function _(e){return"name"in e&&"id"===e.name}function k(e){return"hidden"in e&&e.hidden||"admin"in e&&"disabled"in e.admin&&e.admin.disabled}function E(e){return"name"in e&&!S(e)}function N(e){return"name"in e}function P(e){return"name"in e}function D({field:e,parentIsLocalized:t}){return"localized"in e&&e.localized&&(!t||"true"===o.default.env.NEXT_PUBLIC_PAYLOAD_COMPATIBILITY_allowLocalizedWithinLocalized)}e.s(["fieldAffectsData",()=>E,"fieldHasSubFields",()=>y,"fieldIsArrayType",()=>x,"fieldIsBlockType",()=>w,"fieldIsHiddenOrDisabled",()=>k,"fieldIsID",()=>_,"fieldIsPresentationalOnly",()=>S,"fieldIsSidebar",()=>$,"fieldShouldBeLocalized",()=>D,"groupHasName",()=>P,"optionIsObject",()=>j,"optionsAreObjects",()=>C,"tabHasName",()=>N],636447);let T="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function O(e){let t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function R(e){return"nodeType"in e}function A(e){var t,r;return e?O(e)?e:R(e)&&null!=(t=null==(r=e.ownerDocument)?void 0:r.defaultView)?t:window:window}function I(e){let{Document:t}=A(e);return e instanceof t}function M(e){return!O(e)&&e instanceof A(e).HTMLElement}function L(e){return e instanceof A(e).SVGElement}function F(e){return e?O(e)?e.document:R(e)?I(e)?e:M(e)||L(e)?e.ownerDocument:document:document:document}let B=T?c.useLayoutEffect:c.useEffect;function z(e){let t=(0,c.useRef)(e);return B(()=>{t.current=e}),(0,c.useCallback)(function(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return null==t.current?void 0:t.current(...r)},[])}function U(e,t){void 0===t&&(t=[e]);let r=(0,c.useRef)(e);return B(()=>{r.current!==e&&(r.current=e)},t),r}function V(e,t){let r=(0,c.useRef)();return(0,c.useMemo)(()=>{let t=e(r.current);return r.current=t,t},[...t])}function H(e){let t=z(e),r=(0,c.useRef)(null),a=(0,c.useCallback)(e=>{e!==r.current&&(null==t||t(e,r.current)),r.current=e},[]);return[r,a]}function q(e){let t=(0,c.useRef)();return(0,c.useEffect)(()=>{t.current=e},[e]),t.current}let K={};function W(e,t){return(0,c.useMemo)(()=>{if(t)return t;let r=null==K[e]?0:K[e]+1;return K[e]=r,e+"-"+r},[e,t])}function G(e){return function(t){for(var r=arguments.length,a=Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];return a.reduce((t,r)=>{for(let[a,n]of Object.entries(r)){let r=t[a];null!=r&&(t[a]=r+e*n)}return t},{...t})}}let Y=G(1),X=G(-1);function Q(e){if(!e)return!1;let{KeyboardEvent:t}=A(e.target);return t&&e instanceof t}function J(e){if(function(e){if(!e)return!1;let{TouchEvent:t}=A(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return"clientX"in e&&"clientY"in e?{x:e.clientX,y:e.clientY}:null}let Z=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Z.Translate.toString(e),Z.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:a}=e;return t+" "+r+"ms "+a}}}),ee="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]",et={display:"none"};function er(e){let{id:t,value:r}=e;return c.default.createElement("div",{id:t,style:et},r)}function ea(e){let{id:t,announcement:r,ariaLiveType:a="assertive"}=e;return c.default.createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":a,"aria-atomic":!0},r)}let en=(0,c.createContext)(null);function el(e){let t=(0,c.useContext)(en);(0,c.useEffect)(()=>{if(!t)throw Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}let ei={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},eo={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function es(e){let{announcements:t=eo,container:r,hiddenTextDescribedById:a,screenReaderInstructions:n=ei}=e,{announce:l,announcement:i}=function(){let[e,t]=(0,c.useState)("");return{announce:(0,c.useCallback)(e=>{null!=e&&t(e)},[]),announcement:e}}(),o=W("DndLiveRegion"),[s,d]=(0,c.useState)(!1);if((0,c.useEffect)(()=>{d(!0)},[]),el((0,c.useMemo)(()=>({onDragStart(e){let{active:r}=e;l(t.onDragStart({active:r}))},onDragMove(e){let{active:r,over:a}=e;t.onDragMove&&l(t.onDragMove({active:r,over:a}))},onDragOver(e){let{active:r,over:a}=e;l(t.onDragOver({active:r,over:a}))},onDragEnd(e){let{active:r,over:a}=e;l(t.onDragEnd({active:r,over:a}))},onDragCancel(e){let{active:r,over:a}=e;l(t.onDragCancel({active:r,over:a}))}}),[l,t])),!s)return null;let f=c.default.createElement(c.default.Fragment,null,c.default.createElement(er,{id:a,value:n.draggable}),c.default.createElement(ea,{id:o,announcement:i}));return r?(0,u.createPortal)(f,r):f}function ec(){}function eu(e,t){return(0,c.useMemo)(()=>({sensor:e,options:null!=t?t:{}}),[e,t])}(lj=lT||(lT={})).DragStart="dragStart",lj.DragMove="dragMove",lj.DragEnd="dragEnd",lj.DragCancel="dragCancel",lj.DragOver="dragOver",lj.RegisterDroppable="registerDroppable",lj.SetDroppableDisabled="setDroppableDisabled",lj.UnregisterDroppable="unregisterDroppable";let ed=Object.freeze({x:0,y:0});function ef(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ep(e,t){let{data:{value:r}}=e,{data:{value:a}}=t;return r-a}function eh(e,t){let{data:{value:r}}=e,{data:{value:a}}=t;return a-r}function em(e){let{left:t,top:r,height:a,width:n}=e;return[{x:t,y:r},{x:t+n,y:r},{x:t,y:r+a},{x:t+n,y:r+a}]}function eg(e,t){if(!e||0===e.length)return null;let[r]=e;return t?r[t]:r}function eb(e,t,r){return void 0===t&&(t=e.left),void 0===r&&(r=e.top),{x:t+.5*e.width,y:r+.5*e.height}}let ev=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:a}=e,n=eb(t,t.left,t.top),l=[];for(let e of a){let{id:t}=e,a=r.get(t);if(a){let r=ef(eb(a),n);l.push({id:t,data:{droppableContainer:e,value:r}})}}return l.sort(ep)},ey=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:a}=e,n=[];for(let e of a){let{id:a}=e,l=r.get(a);if(l){let r=function(e,t){let r=Math.max(t.top,e.top),a=Math.max(t.left,e.left),n=Math.min(t.left+t.width,e.left+e.width),l=Math.min(t.top+t.height,e.top+e.height);if(a<n&&r<l){let i=t.width*t.height,o=e.width*e.height,s=(n-a)*(l-r);return Number((s/(i+o-s)).toFixed(4))}return 0}(l,t);r>0&&n.push({id:a,data:{droppableContainer:e,value:r}})}}return n.sort(eh)},ex=e=>{let{droppableContainers:t,droppableRects:r,pointerCoordinates:a}=e;if(!a)return[];let n=[];for(let e of t){let{id:t}=e,l=r.get(t);if(l&&function(e,t){let{top:r,left:a,bottom:n,right:l}=t;return r<=e.y&&e.y<=n&&a<=e.x&&e.x<=l}(a,l)){let r=Number((em(l).reduce((e,t)=>e+ef(a,t),0)/4).toFixed(4));n.push({id:t,data:{droppableContainer:e,value:r}})}}return n.sort(ep)};function ew(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ed}let ej=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return r.reduce((e,t)=>({...e,top:e.top+ +t.y,bottom:e.bottom+ +t.y,left:e.left+ +t.x,right:e.right+ +t.x}),{...e})};function eC(e){if(e.startsWith("matrix3d(")){let t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){let t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}let eS={ignoreTransform:!1};function e$(e,t){void 0===t&&(t=eS);let r=e.getBoundingClientRect();if(t.ignoreTransform){let{transform:t,transformOrigin:a}=A(e).getComputedStyle(e);t&&(r=function(e,t,r){let a=eC(t);if(!a)return e;let{scaleX:n,scaleY:l,x:i,y:o}=a,s=e.left-i-(1-n)*parseFloat(r),c=e.top-o-(1-l)*parseFloat(r.slice(r.indexOf(" ")+1)),u=n?e.width/n:e.width,d=l?e.height/l:e.height;return{width:u,height:d,top:c,right:s+u,bottom:c+d,left:s}}(r,t,a))}let{top:a,left:n,width:l,height:i,bottom:o,right:s}=r;return{top:a,left:n,width:l,height:i,bottom:o,right:s}}function e_(e){return e$(e,{ignoreTransform:!0})}function ek(e,t){let r=[];return e?function a(n){var l,i;let o;if(null!=t&&r.length>=t||!n)return r;if(I(n)&&null!=n.scrollingElement&&!r.includes(n.scrollingElement))return r.push(n.scrollingElement),r;if(!M(n)||L(n)||r.includes(n))return r;let s=A(e).getComputedStyle(n);return(n!==e&&(void 0===(l=s)&&(l=A(n).getComputedStyle(n)),o=/(auto|scroll|overlay)/,["overflow","overflowX","overflowY"].some(e=>{let t=l[e];return"string"==typeof t&&o.test(t)}))&&r.push(n),void 0===(i=s)&&(i=A(n).getComputedStyle(n)),"fixed"===i.position)?r:a(n.parentNode)}(e):r}function eE(e){let[t]=ek(e,1);return null!=t?t:null}function eN(e){return T&&e?O(e)?e:R(e)?I(e)||e===F(e).scrollingElement?window:M(e)?e:null:null:null}function eP(e){return O(e)?e.scrollX:e.scrollLeft}function eD(e){return O(e)?e.scrollY:e.scrollTop}function eT(e){return{x:eP(e),y:eD(e)}}function eO(e){return!!T&&!!e&&e===document.scrollingElement}function eR(e){let t={x:0,y:0},r=eO(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},n=e.scrollTop<=t.y,l=e.scrollLeft<=t.x;return{isTop:n,isLeft:l,isBottom:e.scrollTop>=a.y,isRight:e.scrollLeft>=a.x,maxScroll:a,minScroll:t}}(lC=lO||(lO={}))[lC.Forward=1]="Forward",lC[lC.Backward=-1]="Backward";let eA={x:.2,y:.2};function eI(e){return e.reduce((e,t)=>Y(e,eT(t)),ed)}function eM(e,t){if(void 0===t&&(t=e$),!e)return;let{top:r,left:a,bottom:n,right:l}=t(e);eE(e)&&(n<=0||l<=0||r>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}let eL=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+eP(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+eD(t),0)}]];class eF{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=ek(t),a=eI(r);for(const[t,n,l]of(this.rect={...e},this.width=e.width,this.height=e.height,eL))for(const e of n)Object.defineProperty(this,e,{get:()=>{let n=l(r),i=a[t]-n;return this.rect[e]+i},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class eB{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,r){var a;null==(a=this.target)||a.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function ez(e,t){let r=Math.abs(e.x),a=Math.abs(e.y);return"number"==typeof t?Math.sqrt(r**2+a**2)>t:"x"in t&&"y"in t?r>t.x&&a>t.y:"x"in t?r>t.x:"y"in t&&a>t.y}function eU(e){e.preventDefault()}function eV(e){e.stopPropagation()}(lS=lR||(lR={})).Click="click",lS.DragStart="dragstart",lS.Keydown="keydown",lS.ContextMenu="contextmenu",lS.Resize="resize",lS.SelectionChange="selectionchange",lS.VisibilityChange="visibilitychange",(l$=lA||(lA={})).Space="Space",l$.Down="ArrowDown",l$.Right="ArrowRight",l$.Left="ArrowLeft",l$.Up="ArrowUp",l$.Esc="Escape",l$.Enter="Enter";let eH={start:[lA.Space,lA.Enter],cancel:[lA.Esc],end:[lA.Space,lA.Enter]},eq=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case lA.Right:return{...r,x:r.x+25};case lA.Left:return{...r,x:r.x-25};case lA.Down:return{...r,y:r.y+25};case lA.Up:return{...r,y:r.y-25}}};class eK{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new eB(F(t)),this.windowListeners=new eB(A(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(lR.Resize,this.handleCancel),this.windowListeners.add(lR.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(lR.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&eM(r),t(ed)}handleKeyDown(e){if(Q(e)){let{active:t,context:r,options:a}=this.props,{keyboardCodes:n=eH,coordinateGetter:l=eq,scrollBehavior:i="smooth"}=a,{code:o}=e;if(n.end.includes(o))return void this.handleEnd(e);if(n.cancel.includes(o))return void this.handleCancel(e);let{collisionRect:s}=r.current,c=s?{x:s.left,y:s.top}:ed;this.referenceCoordinates||(this.referenceCoordinates=c);let u=l(e,{active:t,context:r.current,currentCoordinates:c});if(u){let t=X(u,c),a={x:0,y:0},{scrollableAncestors:n}=r.current;for(let r of n){let n=e.code,{isTop:l,isRight:o,isLeft:s,isBottom:c,maxScroll:d,minScroll:f}=eR(r),p=function(e){if(e===document.scrollingElement){let{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}let{top:t,left:r,right:a,bottom:n}=e.getBoundingClientRect();return{top:t,left:r,right:a,bottom:n,width:e.clientWidth,height:e.clientHeight}}(r),h={x:Math.min(n===lA.Right?p.right-p.width/2:p.right,Math.max(n===lA.Right?p.left:p.left+p.width/2,u.x)),y:Math.min(n===lA.Down?p.bottom-p.height/2:p.bottom,Math.max(n===lA.Down?p.top:p.top+p.height/2,u.y))},m=n===lA.Right&&!o||n===lA.Left&&!s,g=n===lA.Down&&!c||n===lA.Up&&!l;if(m&&h.x!==u.x){let e=r.scrollLeft+t.x,l=n===lA.Right&&e<=d.x||n===lA.Left&&e>=f.x;if(l&&!t.y)return void r.scrollTo({left:e,behavior:i});l?a.x=r.scrollLeft-e:a.x=n===lA.Right?r.scrollLeft-d.x:r.scrollLeft-f.x,a.x&&r.scrollBy({left:-a.x,behavior:i});break}if(g&&h.y!==u.y){let e=r.scrollTop+t.y,l=n===lA.Down&&e<=d.y||n===lA.Up&&e>=f.y;if(l&&!t.x)return void r.scrollTo({top:e,behavior:i});l?a.y=r.scrollTop-e:a.y=n===lA.Down?r.scrollTop-d.y:r.scrollTop-f.y,a.y&&r.scrollBy({top:-a.y,behavior:i});break}}this.handleMove(e,Y(X(u,this.referenceCoordinates),a))}}}handleMove(e,t){let{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){let{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){let{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function eW(e){return!!(e&&"distance"in e)}function eG(e){return!!(e&&"delay"in e)}eK.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:a=eH,onActivation:n}=t,{active:l}=r,{code:i}=e.nativeEvent;if(a.start.includes(i)){let t=l.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==n||n({event:e.nativeEvent}),!0)}return!1}}];class eY{constructor(e,t,r){var a;void 0===r&&(r=function(e){let{EventTarget:t}=A(e);return e instanceof t?e:F(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:n}=e,{target:l}=n;this.props=e,this.events=t,this.document=F(l),this.documentListeners=new eB(this.document),this.listeners=new eB(r),this.windowListeners=new eB(A(l)),this.initialCoordinates=null!=(a=J(n))?a:ed,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:e,props:{options:{activationConstraint:t}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),this.windowListeners.add(lR.Resize,this.handleCancel),this.windowListeners.add(lR.DragStart,eU),this.windowListeners.add(lR.VisibilityChange,this.handleCancel),this.windowListeners.add(lR.ContextMenu,eU),this.documentListeners.add(lR.Keydown,this.handleKeydown),t){if(eW(t))return;if(eG(t)){this.timeoutId=setTimeout(this.handleStart,t.delay);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){let{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(lR.Click,eV,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(lR.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;let{activated:r,initialCoordinates:a,props:n}=this,{onMove:l,options:{activationConstraint:i}}=n;if(!a)return;let o=null!=(t=J(e))?t:ed,s=X(a,o);if(!r&&i){if(eG(i))return ez(s,i.tolerance)?this.handleCancel():void 0;if(eW(i))return null!=i.tolerance&&ez(s,i.tolerance)?this.handleCancel():ez(s,i.distance)?this.handleStart():void 0}e.cancelable&&e.preventDefault(),l(o)}handleEnd(){let{onEnd:e}=this.props;this.detach(),e()}handleCancel(){let{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===lA.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}let eX={move:{name:"pointermove"},end:{name:"pointerup"}};class eQ extends eY{constructor(e){const{event:t}=e;super(e,eX,F(t.target))}}eQ.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:a}=t;return!!r.isPrimary&&0===r.button&&(null==a||a({event:r}),!0)}}];(l_=lI||(lI={}))[l_.RightClick=2]="RightClick";(lk=lM||(lM={}))[lk.Pointer=0]="Pointer",lk[lk.DraggableRect=1]="DraggableRect",(lE=lL||(lL={}))[lE.TreeOrder=0]="TreeOrder",lE[lE.ReversedTreeOrder=1]="ReversedTreeOrder";let eJ={x:{[lO.Backward]:!1,[lO.Forward]:!1},y:{[lO.Backward]:!1,[lO.Forward]:!1}};(lN=lF||(lF={}))[lN.Always=0]="Always",lN[lN.BeforeDragging=1]="BeforeDragging",lN[lN.WhileDragging=2]="WhileDragging",(lB||(lB={})).Optimized="optimized";let eZ=new Map;function e0(e,t){return V(r=>e?r||("function"==typeof t?t(e):e):null,[t,e])}function e1(e){let{callback:t,disabled:r}=e,a=z(t),n=(0,c.useMemo)(()=>{if(r||"undefined"==typeof window||void 0===window.ResizeObserver)return;let{ResizeObserver:e}=window;return new e(a)},[r]);return(0,c.useEffect)(()=>()=>null==n?void 0:n.disconnect(),[n]),n}function e3(e){return new eF(e$(e),e)}function e2(e,t,r){void 0===t&&(t=e3);let[a,n]=(0,c.useReducer)(function(a){if(!e)return null;if(!1===e.isConnected){var n;return null!=(n=null!=a?a:r)?n:null}let l=t(e);return JSON.stringify(a)===JSON.stringify(l)?a:l},null),l=function(e){let{callback:t,disabled:r}=e,a=z(t),n=(0,c.useMemo)(()=>{if(r||"undefined"==typeof window||void 0===window.MutationObserver)return;let{MutationObserver:e}=window;return new e(a)},[a,r]);return(0,c.useEffect)(()=>()=>null==n?void 0:n.disconnect(),[n]),n}({callback(t){if(e)for(let r of t){let{type:t,target:a}=r;if("childList"===t&&a instanceof HTMLElement&&a.contains(e)){n();break}}}}),i=e1({callback:n});return B(()=>{n(),e?(null==i||i.observe(e),null==l||l.observe(document.body,{childList:!0,subtree:!0})):(null==i||i.disconnect(),null==l||l.disconnect())},[e]),a}let e6=[];function e5(e,t){void 0===t&&(t=[]);let r=(0,c.useRef)(null);return(0,c.useEffect)(()=>{r.current=null},t),(0,c.useEffect)(()=>{let t=e!==ed;t&&!r.current&&(r.current=e),!t&&r.current&&(r.current=null)},[e]),r.current?X(e,r.current):ed}function e4(e){return(0,c.useMemo)(()=>{let t,r;return e?(t=e.innerWidth,{top:0,left:0,right:t,bottom:r=e.innerHeight,width:t,height:r}):null},[e])}let e8=[];function e9(e){if(!e)return null;if(e.children.length>1)return e;let t=e.children[0];return M(t)?t:e}let e7=[{sensor:eQ,options:{}},{sensor:eK,options:{}}],te={current:{}},tt={draggable:{measure:e_},droppable:{measure:e_,strategy:lF.WhileDragging,frequency:lB.Optimized},dragOverlay:{measure:e$}};class tr extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return null!=(t=null==(r=this.get(e))?void 0:r.node.current)?t:void 0}}let ta={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new tr,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ec},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:tt,measureDroppableContainers:ec,windowRect:null,measuringScheduled:!1},tn={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ec,draggableNodes:new Map,over:null,measureDroppableContainers:ec},tl=(0,c.createContext)(tn),ti=(0,c.createContext)(ta);function to(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new tr}}}function ts(e,t){switch(t.type){case lT.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case lT.DragMove:if(!e.draggable.active)return e;return{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case lT.DragEnd:case lT.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case lT.RegisterDroppable:{let{element:r}=t,{id:a}=r,n=new tr(e.droppable.containers);return n.set(a,r),{...e,droppable:{...e.droppable,containers:n}}}case lT.SetDroppableDisabled:{let{id:r,key:a,disabled:n}=t,l=e.droppable.containers.get(r);if(!l||a!==l.key)return e;let i=new tr(e.droppable.containers);return i.set(r,{...l,disabled:n}),{...e,droppable:{...e.droppable,containers:i}}}case lT.UnregisterDroppable:{let{id:r,key:a}=t,n=e.droppable.containers.get(r);if(!n||a!==n.key)return e;let l=new tr(e.droppable.containers);return l.delete(r),{...e,droppable:{...e.droppable,containers:l}}}default:return e}}function tc(e){let{disabled:t}=e,{active:r,activatorEvent:a,draggableNodes:n}=(0,c.useContext)(tl),l=q(a),i=q(null==r?void 0:r.id);return(0,c.useEffect)(()=>{if(!t&&!a&&l&&null!=i){if(!Q(l)||document.activeElement===l.target)return;let e=n.get(i);if(!e)return;let{activatorNode:t,node:r}=e;(t.current||r.current)&&requestAnimationFrame(()=>{for(let e of[t.current,r.current]){if(!e)continue;let t=e.matches(ee)?e:e.querySelector(ee);if(t){t.focus();break}}})}},[a,t,n,i,l]),null}function tu(e,t){let{transform:r,...a}=t;return null!=e&&e.length?e.reduce((e,t)=>t({transform:e,...a}),r):r}let td=(0,c.createContext)({...ed,scaleX:1,scaleY:1});(lP=lz||(lz={}))[lP.Uninitialized=0]="Uninitialized",lP[lP.Initializing=1]="Initializing",lP[lP.Initialized=2]="Initialized";let tf=(0,c.memo)(function(e){var t,r,a,n,l,i,o,s;let d,f,p,h,m,g,b,v,{id:y,accessibility:x,autoScroll:w=!0,children:j,sensors:C=e7,collisionDetection:S=ey,measuring:$,modifiers:_,...k}=e,[E,N]=(0,c.useReducer)(ts,void 0,to),[P,D]=function(){let[e]=(0,c.useState)(()=>new Set),t=(0,c.useCallback)(t=>(e.add(t),()=>e.delete(t)),[e]);return[(0,c.useCallback)(t=>{let{type:r,event:a}=t;e.forEach(e=>{var t;return null==(t=e[r])?void 0:t.call(e,a)})},[e]),t]}(),[O,R]=(0,c.useState)(lz.Uninitialized),I=O===lz.Initialized,{draggable:{active:L,nodes:F,translate:z},droppable:{containers:K}}=E,G=L?F.get(L):null,X=(0,c.useRef)({initial:null,translated:null}),Q=(0,c.useMemo)(()=>{var e;return null!=L?{id:L,data:null!=(e=null==G?void 0:G.data)?e:te,rect:X}:null},[L,G]),Z=(0,c.useRef)(null),[ee,et]=(0,c.useState)(null),[er,ea]=(0,c.useState)(null),el=U(k,Object.values(k)),ei=W("DndDescribedBy",y),eo=(0,c.useMemo)(()=>K.getEnabled(),[K]),ec=(0,c.useMemo)(()=>({draggable:{...tt.draggable,...null==$?void 0:$.draggable},droppable:{...tt.droppable,...null==$?void 0:$.droppable},dragOverlay:{...tt.dragOverlay,...null==$?void 0:$.dragOverlay}}),[null==$?void 0:$.draggable,null==$?void 0:$.droppable,null==$?void 0:$.dragOverlay]),{droppableRects:eu,measureDroppableContainers:ef,measuringScheduled:ep}=function(e,t){let{dragging:r,dependencies:a,config:n}=t,[l,i]=(0,c.useState)(null),{frequency:o,measure:s,strategy:u}=n,d=(0,c.useRef)(e),f=function(){switch(u){case lF.Always:return!1;case lF.BeforeDragging:return r;default:return!r}}(),p=U(f),h=(0,c.useCallback)(function(e){void 0===e&&(e=[]),p.current||i(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[p]),m=(0,c.useRef)(null),g=V(t=>{if(f&&!r)return eZ;if(!t||t===eZ||d.current!==e||null!=l){let t=new Map;for(let r of e){if(!r)continue;if(l&&l.length>0&&!l.includes(r.id)&&r.rect.current){t.set(r.id,r.rect.current);continue}let e=r.node.current,a=e?new eF(s(e),e):null;r.rect.current=a,a&&t.set(r.id,a)}return t}return t},[e,l,r,f,s]);return(0,c.useEffect)(()=>{d.current=e},[e]),(0,c.useEffect)(()=>{f||h()},[r,f]),(0,c.useEffect)(()=>{l&&l.length>0&&i(null)},[JSON.stringify(l)]),(0,c.useEffect)(()=>{f||"number"!=typeof o||null!==m.current||(m.current=setTimeout(()=>{h(),m.current=null},o))},[o,f,h,...a]),{droppableRects:g,measureDroppableContainers:h,measuringScheduled:null!=l}}(eo,{dragging:I,dependencies:[z.x,z.y],config:ec.droppable}),eh=V(e=>{var t;return null===L?null:null!=(t=null!=m?m:e)?t:null},[m=(h=null!==L?F.get(L):void 0)?h.node.current:null,L]),em=(0,c.useMemo)(()=>er?J(er):null,[er]),eb=(d=(null==ee?void 0:ee.autoScrollEnabled)===!1,f="object"==typeof w?!1===w.enabled:!1===w,p=I&&!d&&!f,"object"==typeof w?{...w,enabled:p}:{enabled:p}),ev=e0(eh,ec.draggable.measure);!function(e){let{activeNode:t,measure:r,initialRect:a,config:n=!0}=e,l=(0,c.useRef)(!1),{x:i,y:o}="boolean"==typeof n?{x:n,y:n}:n;B(()=>{if(!i&&!o||!t){l.current=!1;return}if(l.current||!a)return;let e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;let n=ew(r(e),a);if(i||(n.x=0),o||(n.y=0),l.current=!0,Math.abs(n.x)>0||Math.abs(n.y)>0){let t=eE(e);t&&t.scrollBy({top:n.y,left:n.x})}},[t,i,o,a,r])}({activeNode:L?F.get(L):null,config:eb.layoutShiftCompensation,initialRect:ev,measure:ec.draggable.measure});let ex=e2(eh,ec.draggable.measure,ev),eC=e2(eh?eh.parentElement:null),eS=(0,c.useRef)({activatorEvent:null,active:null,activeNode:eh,collisionRect:null,collisions:null,droppableRects:eu,draggableNodes:F,draggingNode:null,draggingNodeRect:null,droppableContainers:K,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),e_=K.getNodeFor(null==(t=eS.current.over)?void 0:t.id),eP=function(e){let{measure:t}=e,[r,a]=(0,c.useState)(null),n=e1({callback:(0,c.useCallback)(e=>{for(let{target:r}of e)if(M(r)){a(e=>{let a=t(r);return e?{...e,width:a.width,height:a.height}:a});break}},[t])}),[l,i]=H((0,c.useCallback)(e=>{let r=e9(e);null==n||n.disconnect(),r&&(null==n||n.observe(r)),a(r?t(r):null)},[t,n]));return(0,c.useMemo)(()=>({nodeRef:l,rect:r,setRef:i}),[r,l,i])}({measure:ec.dragOverlay.measure}),eD=null!=(r=eP.nodeRef.current)?r:eh,eM=I?null!=(a=eP.rect)?a:ex:null,eL=!!(eP.nodeRef.current&&eP.rect),eB=(g=e0(l=eL?null:ex),ew(l,g)),ez=e4(eD?A(eD):null),eU=(i=I?null!=e_?e_:eh:null,b=(0,c.useRef)(i),v=V(e=>i?e&&e!==e6&&i&&b.current&&i.parentNode===b.current.parentNode?e:ek(i):e6,[i]),(0,c.useEffect)(()=>{b.current=i},[i]),v),eV=function(e,t){void 0===t&&(t=e$);let[r]=e,a=e4(r?A(r):null),[n,l]=(0,c.useReducer)(function(){return e.length?e.map(e=>eO(e)?a:new eF(t(e),e)):e8},e8),i=e1({callback:l});return e.length>0&&n===e8&&l(),B(()=>{e.length?e.forEach(e=>null==i?void 0:i.observe(e)):(null==i||i.disconnect(),l())},[e]),n}(eU),eH=tu(_,{transform:{x:z.x-eB.x,y:z.y-eB.y,scaleX:1,scaleY:1},activatorEvent:er,active:Q,activeNodeRect:ex,containerNodeRect:eC,draggingNodeRect:eM,over:eS.current.over,overlayNodeRect:eP.rect,scrollableAncestors:eU,scrollableAncestorRects:eV,windowRect:ez}),eq=em?Y(em,z):null,eK=function(e){let[t,r]=(0,c.useState)(null),a=(0,c.useRef)(e),n=(0,c.useCallback)(e=>{let t=eN(e.target);t&&r(e=>e?(e.set(t,eT(t)),new Map(e)):null)},[]);return(0,c.useEffect)(()=>{let t=a.current;if(e!==t){l(t);let i=e.map(e=>{let t=eN(e);return t?(t.addEventListener("scroll",n,{passive:!0}),[t,eT(t)]):null}).filter(e=>null!=e);r(i.length?new Map(i):null),a.current=e}return()=>{l(e),l(t)};function l(e){e.forEach(e=>{let t=eN(e);null==t||t.removeEventListener("scroll",n)})}},[n,e]),(0,c.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>Y(e,t),ed):eI(e):ed,[e,t])}(eU),eW=e5(eK),eG=e5(eK,[ex]),eY=Y(eH,eW),eX=eM?ej(eM,eH):null,eQ=Q&&eX?S({active:Q,collisionRect:eX,droppableRects:eu,droppableContainers:eo,pointerCoordinates:eq}):null,e3=eg(eQ,"id"),[tr,ta]=(0,c.useState)(null),tn=(o=eL?eH:Y(eH,eG),s=null!=(n=null==tr?void 0:tr.rect)?n:null,{...o,scaleX:s&&ex?s.width/ex.width:1,scaleY:s&&ex?s.height/ex.height:1}),tf=(0,c.useCallback)((e,t)=>{let{sensor:r,options:a}=t;if(null==Z.current)return;let n=F.get(Z.current);if(!n)return;let l=e.nativeEvent,i=new r({active:Z.current,activeNode:n,event:l,options:a,context:eS,onStart(e){let t=Z.current;if(null==t)return;let r=F.get(t);if(!r)return;let{onDragStart:a}=el.current,n={active:{id:t,data:r.data,rect:X}};(0,u.unstable_batchedUpdates)(()=>{null==a||a(n),R(lz.Initializing),N({type:lT.DragStart,initialCoordinates:e,active:t}),P({type:"onDragStart",event:n})})},onMove(e){N({type:lT.DragMove,coordinates:e})},onEnd:o(lT.DragEnd),onCancel:o(lT.DragCancel)});function o(e){return async function(){let{active:t,collisions:r,over:a,scrollAdjustedTranslate:n}=eS.current,i=null;if(t&&n){let{cancelDrop:o}=el.current;i={activatorEvent:l,active:t,collisions:r,delta:n,over:a},e===lT.DragEnd&&"function"==typeof o&&await Promise.resolve(o(i))&&(e=lT.DragCancel)}Z.current=null,(0,u.unstable_batchedUpdates)(()=>{N({type:e}),R(lz.Uninitialized),ta(null),et(null),ea(null);let t=e===lT.DragEnd?"onDragEnd":"onDragCancel";if(i){let e=el.current[t];null==e||e(i),P({type:t,event:i})}})}}(0,u.unstable_batchedUpdates)(()=>{et(i),ea(e.nativeEvent)})},[F]),tp=(0,c.useCallback)((e,t)=>(r,a)=>{let n=r.nativeEvent,l=F.get(a);null!==Z.current||!l||n.dndKit||n.defaultPrevented||!0===e(r,t.options,{active:l})&&(n.dndKit={capturedBy:t.sensor},Z.current=a,tf(r,t))},[F,tf]),th=(0,c.useMemo)(()=>C.reduce((e,t)=>{let{sensor:r}=t;return[...e,...r.activators.map(e=>({eventName:e.eventName,handler:tp(e.handler,t)}))]},[]),[C,tp]);(0,c.useEffect)(()=>{if(!T)return;let e=C.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(let t of e)null==t||t()}},C.map(e=>{let{sensor:t}=e;return t})),B(()=>{ex&&O===lz.Initializing&&R(lz.Initialized)},[ex,O]),(0,c.useEffect)(()=>{let{onDragMove:e}=el.current,{active:t,activatorEvent:r,collisions:a,over:n}=eS.current;if(!t||!r)return;let l={active:t,activatorEvent:r,collisions:a,delta:{x:eY.x,y:eY.y},over:n};(0,u.unstable_batchedUpdates)(()=>{null==e||e(l),P({type:"onDragMove",event:l})})},[eY.x,eY.y]),(0,c.useEffect)(()=>{let{active:e,activatorEvent:t,collisions:r,droppableContainers:a,scrollAdjustedTranslate:n}=eS.current;if(!e||null==Z.current||!t||!n)return;let{onDragOver:l}=el.current,i=a.get(e3),o=i&&i.rect.current?{id:i.id,rect:i.rect.current,data:i.data,disabled:i.disabled}:null,s={active:e,activatorEvent:t,collisions:r,delta:{x:n.x,y:n.y},over:o};(0,u.unstable_batchedUpdates)(()=>{ta(o),null==l||l(s),P({type:"onDragOver",event:s})})},[e3]),B(()=>{eS.current={activatorEvent:er,active:Q,activeNode:eh,collisionRect:eX,collisions:eQ,droppableRects:eu,draggableNodes:F,draggingNode:eD,draggingNodeRect:eM,droppableContainers:K,over:tr,scrollableAncestors:eU,scrollAdjustedTranslate:eY},X.current={initial:eM,translated:eX}},[Q,eh,eQ,eX,F,eD,eM,eu,K,tr,eU,eY]),function(e){let t,{acceleration:r,activator:a=lM.Pointer,canScroll:n,draggingRect:l,enabled:i,interval:o=5,order:s=lL.TreeOrder,pointerCoordinates:u,scrollableAncestors:d,scrollableAncestorRects:f,delta:p,threshold:h}=e,m=function(e){let{delta:t,disabled:r}=e,a=q(t);return V(e=>{if(r||!a||!e)return eJ;let n={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[lO.Backward]:e.x[lO.Backward]||-1===n.x,[lO.Forward]:e.x[lO.Forward]||1===n.x},y:{[lO.Backward]:e.y[lO.Backward]||-1===n.y,[lO.Forward]:e.y[lO.Forward]||1===n.y}}},[r,t,a])}({delta:p,disabled:!i}),[g,b]=(t=(0,c.useRef)(null),[(0,c.useCallback)((e,r)=>{t.current=setInterval(e,r)},[]),(0,c.useCallback)(()=>{null!==t.current&&(clearInterval(t.current),t.current=null)},[])]),v=(0,c.useRef)({x:0,y:0}),y=(0,c.useRef)({x:0,y:0}),x=(0,c.useMemo)(()=>{switch(a){case lM.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case lM.DraggableRect:return l}},[a,l,u]),w=(0,c.useRef)(null),j=(0,c.useCallback)(()=>{let e=w.current;if(!e)return;let t=v.current.x*y.current.x,r=v.current.y*y.current.y;e.scrollBy(t,r)},[]),C=(0,c.useMemo)(()=>s===lL.TreeOrder?[...d].reverse():d,[s,d]);(0,c.useEffect)(()=>{if(!i||!d.length||!x)return void b();for(let e of C){if((null==n?void 0:n(e))===!1)continue;let t=f[d.indexOf(e)];if(!t)continue;let{direction:a,speed:l}=function(e,t,r,a,n){let{top:l,left:i,right:o,bottom:s}=r;void 0===a&&(a=10),void 0===n&&(n=eA);let{isTop:c,isBottom:u,isLeft:d,isRight:f}=eR(e),p={x:0,y:0},h={x:0,y:0},m={height:t.height*n.y,width:t.width*n.x};return!c&&l<=t.top+m.height?(p.y=lO.Backward,h.y=a*Math.abs((t.top+m.height-l)/m.height)):!u&&s>=t.bottom-m.height&&(p.y=lO.Forward,h.y=a*Math.abs((t.bottom-m.height-s)/m.height)),!f&&o>=t.right-m.width?(p.x=lO.Forward,h.x=a*Math.abs((t.right-m.width-o)/m.width)):!d&&i<=t.left+m.width&&(p.x=lO.Backward,h.x=a*Math.abs((t.left+m.width-i)/m.width)),{direction:p,speed:h}}(e,t,x,r,h);for(let e of["x","y"])m[e][a[e]]||(l[e]=0,a[e]=0);if(l.x>0||l.y>0){b(),w.current=e,g(j,o),v.current=l,y.current=a;return}}v.current={x:0,y:0},y.current={x:0,y:0},b()},[r,j,n,b,i,o,JSON.stringify(x),JSON.stringify(m),g,d,C,f,JSON.stringify(h)])}({...eb,delta:z,draggingRect:eX,pointerCoordinates:eq,scrollableAncestors:eU,scrollableAncestorRects:eV});let tm=(0,c.useMemo)(()=>({active:Q,activeNode:eh,activeNodeRect:ex,activatorEvent:er,collisions:eQ,containerNodeRect:eC,dragOverlay:eP,draggableNodes:F,droppableContainers:K,droppableRects:eu,over:tr,measureDroppableContainers:ef,scrollableAncestors:eU,scrollableAncestorRects:eV,measuringConfiguration:ec,measuringScheduled:ep,windowRect:ez}),[Q,eh,ex,er,eQ,eC,eP,F,K,eu,tr,ef,eU,eV,ec,ep,ez]),tg=(0,c.useMemo)(()=>({activatorEvent:er,activators:th,active:Q,activeNodeRect:ex,ariaDescribedById:{draggable:ei},dispatch:N,draggableNodes:F,over:tr,measureDroppableContainers:ef}),[er,th,Q,ex,N,ei,F,tr,ef]);return c.default.createElement(en.Provider,{value:D},c.default.createElement(tl.Provider,{value:tg},c.default.createElement(ti.Provider,{value:tm},c.default.createElement(td.Provider,{value:tn},j)),c.default.createElement(tc,{disabled:(null==x?void 0:x.restoreFocus)===!1})),c.default.createElement(es,{...x,hiddenTextDescribedById:ei}))}),tp=(0,c.createContext)(null),th="button";function tm(e){let{id:t,data:r,disabled:a=!1,attributes:n}=e,l=W("Droppable"),{activators:i,activatorEvent:o,active:s,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:p}=(0,c.useContext)(tl),{role:h=th,roleDescription:m="draggable",tabIndex:g=0}=null!=n?n:{},b=(null==s?void 0:s.id)===t,v=(0,c.useContext)(b?td:tp),[y,x]=H(),[w,j]=H(),C=(0,c.useMemo)(()=>i.reduce((e,r)=>{let{eventName:a,handler:n}=r;return e[a]=e=>{n(e,t)},e},{}),[i,t]),S=U(r);return B(()=>(f.set(t,{id:t,key:l,node:y,activatorNode:w,data:S}),()=>{let e=f.get(t);e&&e.key===l&&f.delete(t)}),[f,t]),{active:s,activatorEvent:o,activeNodeRect:u,attributes:(0,c.useMemo)(()=>({role:h,tabIndex:g,"aria-disabled":a,"aria-pressed":!!b&&h===th||void 0,"aria-roledescription":m,"aria-describedby":d.draggable}),[a,h,g,b,m,d.draggable]),isDragging:b,listeners:a?void 0:C,node:y,over:p,setNodeRef:x,setActivatorNodeRef:j,transform:v}}function tg(){return(0,c.useContext)(ti)}let tb={timeout:25};function tv(e){let{data:t,disabled:r=!1,id:a,resizeObserverConfig:n}=e,l=W("Droppable"),{active:i,dispatch:o,over:s,measureDroppableContainers:u}=(0,c.useContext)(tl),d=(0,c.useRef)({disabled:r}),f=(0,c.useRef)(!1),p=(0,c.useRef)(null),h=(0,c.useRef)(null),{disabled:m,updateMeasurementsFor:g,timeout:b}={...tb,...n},v=U(null!=g?g:a),y=e1({callback:(0,c.useCallback)(()=>{if(!f.current){f.current=!0;return}null!=h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{u(Array.isArray(v.current)?v.current:[v.current]),h.current=null},b)},[b]),disabled:m||!i}),[x,w]=H((0,c.useCallback)((e,t)=>{y&&(t&&(y.unobserve(t),f.current=!1),e&&y.observe(e))},[y])),j=U(t);return(0,c.useEffect)(()=>{y&&x.current&&(y.disconnect(),f.current=!1,y.observe(x.current))},[x,y]),B(()=>(o({type:lT.RegisterDroppable,element:{id:a,key:l,disabled:r,node:x,rect:p,data:j}}),()=>o({type:lT.UnregisterDroppable,key:l,id:a})),[a]),(0,c.useEffect)(()=>{r!==d.current.disabled&&(o({type:lT.SetDroppableDisabled,id:a,key:l,disabled:r}),d.current.disabled=r)},[a,l,r,o]),{active:i,rect:p,isOver:(null==s?void 0:s.id)===a,node:x,over:s,setNodeRef:w}}function ty(e){let{animation:t,children:r}=e,[a,n]=(0,c.useState)(null),[l,i]=(0,c.useState)(null),o=q(r);return r||a||!o||n(o),B(()=>{if(!l)return;let e=null==a?void 0:a.key,r=null==a?void 0:a.props.id;null==e||null==r?n(null):Promise.resolve(t(r,l)).then(()=>{n(null)})},[t,a,l]),c.default.createElement(c.default.Fragment,null,r,a?(0,c.cloneElement)(a,{ref:i}):null)}let tx={x:0,y:0,scaleX:1,scaleY:1};function tw(e){let{children:t}=e;return c.default.createElement(tl.Provider,{value:tn},c.default.createElement(td.Provider,{value:tx},t))}let tj={position:"fixed",touchAction:"none"},tC=e=>Q(e)?"transform 250ms ease":void 0,tS=(0,c.forwardRef)((e,t)=>{let{as:r,activatorEvent:a,adjustScale:n,children:l,className:i,rect:o,style:s,transform:u,transition:d=tC}=e;if(!o)return null;let f=n?u:{...u,scaleX:1,scaleY:1},p={...tj,width:o.width,height:o.height,top:o.top,left:o.left,transform:Z.Transform.toString(f),transformOrigin:n&&a?function(e,t){let r=J(e);if(!r)return"0 0";let a={x:(r.x-t.left)/t.width*100,y:(r.y-t.top)/t.height*100};return a.x+"% "+a.y+"%"}(a,o):void 0,transition:"function"==typeof d?d(a):d,...s};return c.default.createElement(r,{className:i,style:p,ref:t},l)}),t$={duration:250,easing:"ease",keyframes:e=>{let{transform:{initial:t,final:r}}=e;return[{transform:Z.Transform.toString(t)},{transform:Z.Transform.toString(r)}]},sideEffects:(t={styles:{active:{opacity:"0"}}},e=>{let{active:r,dragOverlay:a}=e,n={},{styles:l,className:i}=t;if(null!=l&&l.active)for(let[e,t]of Object.entries(l.active))void 0!==t&&(n[e]=r.node.style.getPropertyValue(e),r.node.style.setProperty(e,t));if(null!=l&&l.dragOverlay)for(let[e,t]of Object.entries(l.dragOverlay))void 0!==t&&a.node.style.setProperty(e,t);return null!=i&&i.active&&r.node.classList.add(i.active),null!=i&&i.dragOverlay&&a.node.classList.add(i.dragOverlay),function(){for(let[e,t]of Object.entries(n))r.node.style.setProperty(e,t);null!=i&&i.active&&r.node.classList.remove(i.active)}})},t_=0,tk=c.default.memo(e=>{var t;let{adjustScale:r=!1,children:a,dropAnimation:n,style:l,transition:i,modifiers:o,wrapperElement:s="div",className:u,zIndex:d=999}=e,{activatorEvent:f,active:p,activeNodeRect:h,containerNodeRect:m,draggableNodes:g,droppableContainers:b,dragOverlay:v,over:y,measuringConfiguration:x,scrollableAncestors:w,scrollableAncestorRects:j,windowRect:C}=tg(),S=(0,c.useContext)(td),$=(t=null==p?void 0:p.id,(0,c.useMemo)(()=>{if(null!=t)return++t_},[t])),_=tu(o,{activatorEvent:f,active:p,activeNodeRect:h,containerNodeRect:m,draggingNodeRect:v.rect,over:y,overlayNodeRect:v.rect,scrollableAncestors:w,scrollableAncestorRects:j,transform:S,windowRect:C}),k=e0(h),E=function(e){let{config:t,draggableNodes:r,droppableContainers:a,measuringConfiguration:n}=e;return z((e,l)=>{if(null===t)return;let i=r.get(e);if(!i)return;let o=i.node.current;if(!o)return;let s=e9(l);if(!s)return;let{transform:c}=A(l).getComputedStyle(l),u=eC(c);if(!u)return;let d="function"==typeof t?t:function(e){let{duration:t,easing:r,sideEffects:a,keyframes:n}={...t$,...e};return e=>{let{active:l,dragOverlay:i,transform:o,...s}=e;if(!t)return;let c={x:i.rect.left-l.rect.left,y:i.rect.top-l.rect.top},u={scaleX:1!==o.scaleX?l.rect.width*o.scaleX/i.rect.width:1,scaleY:1!==o.scaleY?l.rect.height*o.scaleY/i.rect.height:1},d={x:o.x-c.x,y:o.y-c.y,...u},f=n({...s,active:l,dragOverlay:i,transform:{initial:o,final:d}}),[p]=f,h=f[f.length-1];if(JSON.stringify(p)===JSON.stringify(h))return;let m=null==a?void 0:a({active:l,dragOverlay:i,...s}),g=i.node.animate(f,{duration:t,easing:r,fill:"forwards"});return new Promise(e=>{g.onfinish=()=>{null==m||m(),e()}})}}(t);return eM(o,n.draggable.measure),d({active:{id:e,data:i.data,node:o,rect:n.draggable.measure(o)},draggableNodes:r,dragOverlay:{node:l,rect:n.dragOverlay.measure(s)},droppableContainers:a,measuringConfiguration:n,transform:u})})}({config:n,draggableNodes:g,droppableContainers:b,measuringConfiguration:x}),N=k?v.setRef:void 0;return c.default.createElement(tw,null,c.default.createElement(ty,{animation:E},p&&$?c.default.createElement(tS,{key:$,id:p.id,ref:N,as:s,activatorEvent:f,adjustScale:r,className:u,transition:i,rect:k,style:{zIndex:d,...l},transform:_},a):null))}),tE=e=>{let{adminRoute:t,basePath:r="",path:a,serverURL:n}=e,l=a||"";if(t){if("/"!==t)return`${n||""}${r}${t}${l}`;else if(!l)return`${n||""}${r}${t}`}return`${n||""}${r}${l}`};e.s(["formatAdminURL",0,tE],678194);let tN=String.prototype.replace,tP=/%20/g,tD="RFC3986",tT="RFC1738";e.s(["RFC1738",0,tT,"RFC3986",0,tD,"default",0,tD,"formatters",0,{RFC1738:function(e){return tN.call(e,tP,"+")},RFC3986:function(e){return String(e)}}],115410);let tO=Object.prototype.hasOwnProperty,tR=Array.isArray,tA=function(){let e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),tI=function(e){for(;e.length>1;){let t=e.pop(),r=t.obj[t.prop];if(tR(r)){let e=[];for(let t=0;t<r.length;++t)void 0!==r[t]&&e.push(r[t]);t.obj[t.prop]=e}}},tM=function(e,t){let r=t&&t.plainObjects?Object.create(null):{};for(let t=0;t<e.length;++t)void 0!==e[t]&&(r[t]=e[t]);return r},tL=function e(t,r,a){if(!r)return t;if("object"!=typeof r){if(tR(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(a&&(a.plainObjects||a.allowPrototypes)||!tO.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);let n=t;return(tR(t)&&!tR(r)&&(n=tM(t,a)),tR(t)&&tR(r))?(r.forEach(function(r,n){if(tO.call(t,n)){let l=t[n];l&&"object"==typeof l&&r&&"object"==typeof r?t[n]=e(l,r,a):t.push(r)}else t[n]=r}),t):Object.keys(r).reduce(function(t,n){let l=r[n];return tO.call(t,n)?t[n]=e(t[n],l,a):t[n]=l,t},n)},tF=function(e){let t=[{obj:{o:e},prop:"o"}],r=[];for(let e=0;e<t.length;++e){let a=t[e],n=a.obj[a.prop],l=Object.keys(n);for(let e=0;e<l.length;++e){let a=l[e],i=n[a];"object"==typeof i&&null!==i&&-1===r.indexOf(i)&&(t.push({obj:n,prop:a}),r.push(i))}}return tI(t),e},tB=function(e,t){if(tR(e)){let r=[];for(let a=0;a<e.length;a+=1)r.push(t(e[a]));return r}return t(e)};var tz=e.i(115410);let tU=Object.prototype.hasOwnProperty,tV={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},tH=Array.isArray,tq=Array.prototype.push,tK=function(e,t){tq.apply(e,tH(t)?t:[t])},tW=Date.prototype.toISOString,tG=tz.default,tY={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:function(e,t,r,a,n){if(0===e.length)return e;let l=e;if("symbol"==typeof e?l=Symbol.prototype.toString.call(e):"string"!=typeof e&&(l=String(e)),"iso-8859-1"===r)return escape(l).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});let i="";for(let e=0;e<l.length;e+=1024){let t=l.length>=1024?l.slice(e,e+1024):l,r=[];for(let e=0;e<t.length;++e){let a=t.charCodeAt(e);if(45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122||n===tT&&(40===a||41===a)){r[r.length]=t.charAt(e);continue}if(a<128){r[r.length]=tA[a];continue}if(a<2048){r[r.length]=tA[192|a>>6]+tA[128|63&a];continue}if(a<55296||a>=57344){r[r.length]=tA[224|a>>12]+tA[128|a>>6&63]+tA[128|63&a];continue}e+=1,a=65536+((1023&a)<<10|1023&t.charCodeAt(e)),r[r.length]=tA[240|a>>18]+tA[128|a>>12&63]+tA[128|a>>6&63]+tA[128|63&a]}i+=r.join("")}return i},encodeValuesOnly:!1,format:tG,formatter:tz.formatters[tG],indices:!1,serializeDate:function(e){return tW.call(e)},skipNulls:!1,strictNullHandling:!1},tX={},tQ=function(e,t,r,a,n,l,i,o,s,c,u,d,f,p,h,m,g,b){var v,y;let x,w=e,j=b,C=0,S=!1;for(;void 0!==(j=j.get(tX))&&!S;){let t=j.get(e);if(C+=1,void 0!==t)if(t===C)throw RangeError("Cyclic object value");else S=!0;void 0===j.get(tX)&&(C=0)}if("function"==typeof c?w=c(t,w):w instanceof Date?w=f(w):"comma"===r&&tH(w)&&(w=tB(w,function(e){return e instanceof Date?f(e):e})),null===w){if(l)return s&&!m?s(t,tY.encoder,g,"key",p):t;w=""}if("string"==typeof(v=w)||"number"==typeof v||"boolean"==typeof v||"symbol"==typeof v||"bigint"==typeof v||(y=w)&&"object"==typeof y&&y.constructor&&y.constructor.isBuffer&&y.constructor.isBuffer(y))return s?[h(m?t:s(t,tY.encoder,g,"key",p))+"="+h(s(w,tY.encoder,g,"value",p))]:[h(t)+"="+h(String(w))];let $=[];if(void 0===w)return $;if("comma"===r&&tH(w))m&&s&&(w=tB(w,s)),x=[{value:w.length>0?w.join(",")||null:void 0}];else if(tH(c))x=c;else{let e=Object.keys(w);x=u?e.sort(u):e}let _=o?t.replace(/\./g,"%2E"):t,k=a&&tH(w)&&1===w.length?_+"[]":_;if(n&&tH(w)&&0===w.length)return k+"[]";for(let t=0;t<x.length;++t){let v=x[t],y="object"==typeof v&&void 0!==v.value?v.value:w[v];if(i&&null===y)continue;let j=d&&o?v.replace(/\./g,"%2E"):v,S=tH(w)?"function"==typeof r?r(k,j):k:k+(d?"."+j:"["+j+"]");b.set(e,C);let _=new WeakMap;_.set(tX,b),tK($,tQ(y,S,r,a,n,l,i,o,"comma"===r&&m&&tH(w)?null:s,c,u,d,f,p,h,m,g,_))}return $},tJ=function(e){let t;if(!e)return tY;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw TypeError("Encoder has to be a function.");let r=e.charset||tY.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let a=tz.default;if(void 0!==e.format){if(!tU.call(tz.formatters,e.format))throw TypeError("Unknown format option provided.");a=e.format}let n=tz.formatters[a],l=tY.filter;if(("function"==typeof e.filter||tH(e.filter))&&(l=e.filter),t=e.arrayFormat in tV?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":tY.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw TypeError("`commaRoundTrip` must be a boolean, or absent");let i=void 0===e.allowDots?!0===e.encodeDotInKeys||tY.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:tY.addQueryPrefix,allowDots:i,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:tY.allowEmptyArrays,arrayFormat:t,charset:r,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:tY.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:void 0===e.delimiter?tY.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:tY.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:tY.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:tY.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:tY.encodeValuesOnly,filter:l,format:a,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:tY.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:tY.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:tY.strictNullHandling}};function tZ(e,t){let r,a=e,n=tJ(t);"function"==typeof n.filter?a=(0,n.filter)("",a):tH(n.filter)&&(r=n.filter);let l=[];if("object"!=typeof a||null===a)return"";let i=tV[n.arrayFormat],o="comma"===i&&n.commaRoundTrip;r||(r=Object.keys(a)),n.sort&&r.sort(n.sort);let s=new WeakMap;for(let e=0;e<r.length;++e){let t=r[e];n.skipNulls&&null===a[t]||tK(l,tQ(a[t],t,i,o,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,s))}let c=l.join(n.delimiter),u=!0===n.addQueryPrefix?"?":"";return n.charsetSentinel&&("iso-8859-1"===n.charset?u+="utf8=%26%2310003%3B&":u+="utf8=%E2%9C%93&"),c.length>0?u+c:""}e.s(["stringify",()=>tZ],763591);var t0=e.i(359394);let t1=["ar","fa","he"],t3=({field:e,operation:t,parentName:r,permissions:a})=>({operation:!0===a||a?.[t]===!0||a?.[r]===!0||"name"in e&&"object"==typeof a&&a?.[e.name]&&(!0===a[e.name]||t in a[e.name]&&a[e.name][t]),permissions:null==a||!0===a||("name"in e?a[e.name]:a),read:!0===a||a?.read===!0||a?.[r]===!0||"name"in e&&"object"==typeof a&&a?.[e.name]&&(!0===a[e.name]||"read"in a[e.name]&&a[e.name].read)});function t2(e=[],t){let{i18n:r,keepPresentationalFields:a,labelPrefix:n,moveSubFieldsToTop:l=!1,pathPrefix:i}="boolean"==typeof t?{keepPresentationalFields:t}:t??{};return e.reduce((e,o)=>{if("group"===o.type&&"fields"in o)if(l){let t="name"in o&&"string"==typeof o.name&&!!o.name,s="name"in o?o.name:void 0,c="label"in o&&o.label&&r?m(o.label,r):void 0,u=n?`${n} > ${c??s}`:c??s,d="name"in o&&o.name?i?`${i}.${o.name}`:o.name:i;e.push(o,...t2(o.fields,{i18n:r,keepPresentationalFields:a,labelPrefix:t?u:n,moveSubFieldsToTop:l,pathPrefix:t?d:i}))}else E(o)?e.push(o):e.push(...t2(o.fields,t));else if("tabs"===o.type&&"tabs"in o)return[...e,...o.tabs.reduce((e,o)=>{if(!N(o))return[...e,...t2(o.fields,t)];if(!l)return[...e,{...o,type:"tab"}];{let t="label"in o&&o.label&&r?m(o.label,r):void 0,s=n?`${n} > ${t??o.name}`:t??o.name,c=o.name?i?`${i}.${o.name}`:o.name:i;return[...e,...t2(o.fields,{i18n:r,keepPresentationalFields:a,labelPrefix:s,moveSubFieldsToTop:l,pathPrefix:c})]}},[])];else if(y(o)&&["collapsible","row"].includes(o.type))e.push(...t2(o.fields,t));else if(E(o)||a&&S(o)){if("id"===o.name&&void 0!==n)return e;let t="label"in o&&o.label&&r?m(o.label,r):void 0,a="name"in o?o.name:void 0,s=void 0!==i||void 0!==n;e.push({...o,...l&&s&&{accessor:i&&a?`${i}.${a}`:a??"",labelWithPrefix:n?`${n} > ${t??a}`:t??a}})}return e},[])}let t6=e=>0===Object.keys(e).length,t5=(e,t)=>t6(t)?e:t6(e)?t:("and"in e&&e.and?e.and.push(t):("or"in e,e={and:[e,t]}),e),t4=({collectionConfig:e,search:t,where:r={}})=>{if(t){let a={...r||{}},n=(e.admin.listSearchableFields||[e.admin?.useAsTitle||"id"]).map(e=>({[e]:{like:t}}));n.length>0&&(a=t5(a,{or:n})),t6(a)||(r=a)}return r};e.s(["hoistQueryParamsToAnd",0,t5,"mergeListSearchAndWhere",0,t4],133455);let t8=e=>{if(!e)return;let t=e;if("string"==typeof e)try{t=JSON.parse(e)}catch(t){console.error("Error parsing columns",e,t)}if(t&&Array.isArray(t))return t.map(e=>{if("string"==typeof e){let t="-"!==e[0];return{accessor:t?e:e.slice(1),active:t}}return{accessor:e.accessor,active:e.active}})},t9=e=>e?.map(e=>e.active?e.accessor:`-${e.accessor}`),t7=Object.prototype.hasOwnProperty,re=Array.isArray,rt={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:function(e,t,r){let a=e.replace(/\+/g," ");if("iso-8859-1"===r)return a.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(a)}catch(e){return a}},delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},rr=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},ra=function(e,t){let r,a={__proto__:null},n=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,l=t.parameterLimit===1/0?void 0:t.parameterLimit,i=n.split(t.delimiter,l),o=-1,s=t.charset;if(t.charsetSentinel)for(r=0;r<i.length;++r)0===i[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===i[r]?s="utf-8":"utf8=%26%2310003%3B"===i[r]&&(s="iso-8859-1"),o=r,r=i.length);for(r=0;r<i.length;++r){let e,n;if(r===o)continue;let l=i[r],c=l.indexOf("]="),u=-1===c?l.indexOf("="):c+1;-1===u?(e=t.decoder(l,rt.decoder,s,"key"),n=t.strictNullHandling?null:""):(e=t.decoder(l.slice(0,u),rt.decoder,s,"key"),n=tB(rr(l.slice(u+1),t),function(e){return t.decoder(e,rt.decoder,s,"value")})),n&&t.interpretNumericEntities&&"iso-8859-1"===s&&(n=n.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})),l.indexOf("[]=")>-1&&(n=re(n)?[n]:n);let d=t7.call(a,e);if(d&&"combine"===t.duplicates)a[e]=[].concat(a[e],n);else d&&"last"!==t.duplicates||(a[e]=n)}return a},rn=function(e,t,r,a){let n=a?t:rr(t,r);for(let t=e.length-1;t>=0;--t){let a,l=e[t];if("[]"===l&&r.parseArrays)a=r.allowEmptyArrays&&""===n?[]:[].concat(n);else{a=r.plainObjects?Object.create(null):{};let e="["===l.charAt(0)&&"]"===l.charAt(l.length-1)?l.slice(1,-1):l,t=r.decodeDotInKeys?e.replace(/%2E/g,"."):e,i=parseInt(t,10);r.parseArrays||""!==t?!isNaN(i)&&l!==t&&String(i)===t&&i>=0&&r.parseArrays&&i<=r.arrayLimit?(a=[])[i]=n:"__proto__"!==t&&(a[t]=n):a={0:n}}n=a}return n},rl=function(e,t,r,a){if(!e)return;let n=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,l=/(\[[^[\]]*])/g,i=r.depth>0&&/(\[[^[\]]*])/.exec(n),o=i?n.slice(0,i.index):n,s=[];if(o){if(!r.plainObjects&&t7.call(Object.prototype,o)&&!r.allowPrototypes)return;s.push(o)}let c=0;for(;r.depth>0&&null!==(i=l.exec(n))&&c<r.depth;){if(c+=1,!r.plainObjects&&t7.call(Object.prototype,i[1].slice(1,-1))&&!r.allowPrototypes)return;s.push(i[1])}return i&&s.push("["+n.slice(i.index)+"]"),rn(s,t,r,a)},ri=function(e){var t;if(!e)return rt;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.decodeDotInKeys&&"boolean"!=typeof e.decodeDotInKeys)throw TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let r=void 0===e.charset?rt.charset:e.charset,a=void 0===e.duplicates?rt.duplicates:e.duplicates;if("combine"!==a&&"first"!==a&&"last"!==a)throw TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===e.allowDots?!0===e.decodeDotInKeys||rt.allowDots:!!e.allowDots,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:rt.allowEmptyArrays,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:rt.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:rt.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:rt.arrayLimit,charset:r,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:rt.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:rt.comma,decodeDotInKeys:"boolean"==typeof e.decodeDotInKeys?e.decodeDotInKeys:rt.decodeDotInKeys,decoder:"function"==typeof e.decoder?e.decoder:rt.decoder,delimiter:"string"==typeof e.delimiter||(t=e.delimiter,"[object RegExp]"===Object.prototype.toString.call(t))?e.delimiter:rt.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:rt.depth,duplicates:a,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:rt.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:rt.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:rt.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:rt.strictNullHandling}};function ro(e,t){let r=ri(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};let a="string"==typeof e?ra(e,r):e,n=r.plainObjects?Object.create(null):{},l=Object.keys(a);for(let t=0;t<l.length;++t){let i=l[t];n=tL(n,rl(i,a[i],r,"string"==typeof e),r)}return!0===r.allowSparse?n:tF(n)}let rs=({sizes:e,targetSizeMax:t=180,targetSizeMin:r=40,thumbnailURL:a,url:n,width:l})=>a||e&&Object.values(e).reduce((e,a)=>!a.width||a.width<r?e:a.width>=r&&a.width<=t?!e.width||a.width<e.width||e.width<r||e.width>t?a:e:!e.width||!e.original&&e.width<r&&a.width>e.width||e.width>t&&a.width<e.width?a:e,{original:!0,url:n,width:l}).url||n;function rc(e){return["image/jpeg","image/png","image/gif","image/svg+xml","image/webp","image/avif","image/jxl"].indexOf(e)>-1}function ru(e){return null!=e&&("string"!=typeof e||""!==e.trim())&&!Number.isNaN(Number(e))}function rd(e){return e instanceof s.Buffer?s.Buffer.from(e):new e.constructor(e.buffer.slice(),e.byteOffset,e.length)}e.s(["isImage",()=>rc],103763);let rf=new Map;rf.set(Date,e=>new Date(e)),rf.set(Map,(e,t)=>new Map(rh(Array.from(e),t))),rf.set(Set,(e,t)=>new Set(rh(Array.from(e),t))),rf.set(RegExp,e=>new RegExp(e.source,e.flags));let rp=null;function rh(e,t){let r=Object.keys(e),a=Array(r.length);for(let n=0;n<r.length;n++){let l=r[n],i=e[l];"object"!=typeof i||null===i?a[l]=i:i instanceof RegExp?a[l]=new RegExp(i.source,i.flags):i.constructor!==Object&&(rp=rf.get(i.constructor))?a[l]=rp(i,t):ArrayBuffer.isView(i)?a[l]=rd(i):a[l]=t(i)}return a}let rm=e=>{if("object"!=typeof e||null===e)return e;if(Array.isArray(e))return rh(e,rm);if(e instanceof RegExp)return new RegExp(e.source,e.flags);if(e.constructor!==Object&&(rp=rf.get(e.constructor)))return rp(e,rm);let t={};for(let r in e){if(!1===Object.hasOwnProperty.call(e,r))continue;let a=e[r];"object"!=typeof a||null===a?t[r]=a:a instanceof RegExp?t[r]=new RegExp(a.source,a.flags):a.constructor!==Object&&(rp=rf.get(a.constructor))?t[r]=rp(a,rm):ArrayBuffer.isView(a)?t[r]=rd(a):t[r]=rm(a)}return t};function rg(e){if("object"!=typeof e||null===e||!("$$typeof"in e)||"symbol"!=typeof e.$$typeof){if("object"!=typeof e||null===e)return e;if(Array.isArray(e))return e.map(e=>"object"!=typeof e||null===e?e:rg(e));if(e instanceof Date)return new Date(e);let t={};for(let r in e){let a=e[r];t[r]="object"!=typeof a||null===a?a:rg(a)}return t}}e.s(["deepCopyObjectSimpleWithoutReactComponents",()=>rg],846734);let rb=(e,t)=>{let r=(t=t||{}).delimiter||".",a=t.overwrite||!1,n=t.recursive||!1,l={};if(null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)||"[object Object]"!==Object.prototype.toString.call(e))return e;let i=e=>{let r=Number(e);return isNaN(r)||-1!==e.indexOf(".")||t.object?e:r};return Object.keys(e).sort((e,t)=>e.length-t.length).forEach(o=>{let s=o.split(r),c=i(s.shift()),u=i(s[0]),d=l;for(;void 0!==u;){if("__proto__"===c)return;let e=Object.prototype.toString.call(d[c]),r="[object Object]"===e||"[object Array]"===e;if(!a&&!r&&void 0!==d[c])return;(!a||r)&&(a||null!=d[c])||(d[c]="number"!=typeof u||t.object?{}:[]),d=d[c],s.length>0&&(c=i(s.shift()),u=i(s[0]))}d[c]=n?rb(e[o],t):e[o]}),l},rv=(e,t,r)=>{let a={};return e&&(Object.keys(e).forEach(t=>{!0!==r&&e[t]?.disableFormData||(a[t]=e[t]?.value)}),t&&(a=rb(a))),a};async function ry(e){return new Promise(t=>{setTimeout(t,e)})}e.s(["reduceFieldsToValues",0,rv],312185);let rx=(e,t)=>t.map(e=>e.replace("*","")).some(t=>e.startsWith(t)),rw=e=>"string"==typeof e||"number"==typeof e?e:e.id;function rj(e,t=0){if(0===e)return"0 bytes";let r=Math.floor(Math.log(e)/Math.log(1024));return`${parseFloat((e/1024**r).toFixed(t<0?0:t))}${[" bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]}`}e.i(34705);var rC=e.i(756961);let rS="default"in rC.default?rC.default.default:rC.default,r$="default"in rC.default?rC.default.default:rC.default,r_=(e,{hasMany:t,maxLength:r,maxRows:a,minLength:n,minRows:l,req:{payload:{config:i},t:o},required:s})=>{let c;if(!s&&null==e)return!0;if(!0===t){let t=rD(e,{maxRows:a,minRows:l,required:s,t:o});if("string"==typeof t)return t}for(let t of("number"==typeof i?.defaultMaxTextLength&&(c=i.defaultMaxTextLength),"number"==typeof r&&(c=r),Array.isArray(e)?e:[e])){let e=t?.length||0;if("number"==typeof c&&e>c)return o("validation:shorterThanMax",{label:o("general:value"),maxLength:c,stringValue:t});if("number"==typeof n&&e<n)return o("validation:longerThanMin",{label:o("general:value"),minLength:n,stringValue:t})}return!s||!!("string"==typeof e||Array.isArray(e))&&e?.length!==0||o("validation:required")},rk=(e,{maxLength:t,minLength:r=3,req:{payload:{config:a},t:n},required:l})=>{let i;return("number"==typeof a?.defaultMaxTextLength&&(i=a.defaultMaxTextLength),"number"==typeof t&&(i=t),e&&i&&e.length>i)?n("validation:shorterThanMax",{maxLength:i}):e&&r&&e.length<r?n("validation:longerThanMin",{minLength:r}):!l||!!e||n("validation:required")},rE=(e,{req:{t:t},required:r,siblingData:a})=>r&&!e?t("validation:required"):!e||e===a.password||t("fields:passwordsDoNotMatch"),rN=(e,{collectionSlug:t,req:{payload:{collections:r,config:a},t:n},required:l,siblingData:i})=>{if(t){let l=r?.[t]?.config??a.collections.find(({slug:e})=>e===t);if(l.auth.loginWithUsername&&!l.auth.loginWithUsername?.requireUsername&&!l.auth.loginWithUsername?.requireEmail&&!e&&!i?.username)return n("validation:required")}return(!e||!!/^(?!.*\.\.)[\w!#$%&'*+/=?^`{|}~-](?:[\w!#$%&'*+/=?^`{|}~.-]*[\w!#$%&'*+/=?^`{|}~-])?@[a-z0-9](?:[a-z0-9-]*[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]*[a-z0-9])?)*\.[a-z]{2,}$/i.test(e))&&(!!e||!l)||n("validation:emailAddress")},rP=(e,{collectionSlug:t,req:{payload:{collections:r,config:a},t:n},required:l,siblingData:i})=>{let o;if(t){let l=r?.[t]?.config??a.collections.find(({slug:e})=>e===t);if(l.auth.loginWithUsername&&!l.auth.loginWithUsername?.requireUsername&&!l.auth.loginWithUsername?.requireEmail&&!e&&!i?.email)return n("validation:required")}return("number"==typeof a?.defaultMaxTextLength&&(o=a.defaultMaxTextLength),e&&o&&e.length>o)?n("validation:shorterThanMax",{maxLength:o}):!!e||!l||n("validation:required")},rD=(e,t)=>{let{maxRows:r,minRows:a,required:n,t:l}=t,i=Array.isArray(e)?e.length:e||0;return!n&&0===i||(a&&i<a?l("validation:requiresAtLeast",{count:a,label:l("general:rows")}):r&&i>r?l("validation:requiresNoMoreThan",{count:r,label:l("general:rows")}):!n||!!i||l("validation:requiresAtLeast",{count:1,label:l("general:row")}))};e.s(["confirmPassword",0,rE,"email",0,rN,"password",0,rk,"text",0,r_,"username",0,rP],786053);let{isPlural:rT,singular:rO}=e.i(286264).default,rR=(e,t=!1)=>{let r=(e||"").trim().split(/[\s-]/),a=[];return r.forEach(e=>{if(""!==e){let t=e.split(/(?=[A-Z])/).join(" ");a.push(t.charAt(0).toUpperCase()+t.slice(1))}}),t?a.join("").replace(/\s/g,""):a.join(" ")};function rA(e,t="and"){if(0===e.length)return{};let r=e.reduce((e,r)=>(r&&"object"==typeof r&&Object.keys(r).length>0&&(t in r?e[t]=[...e[t],...r[t]]:e[t]?.push(r)),e),{[t]:[]});return r[t]?.length===0?{}:r}let rI=new Set(["equals","contains","not_equals","in","all","not_in","exists","greater_than","greater_than_equal","less_than","less_than_equal","like","not_like","within","intersects","near"]),rM=e=>!!(e?.or&&(e?.or?.length===0||e?.or?.length>0&&e?.or?.[0]?.and&&e?.or?.[0]?.and?.length>0))&&e.or.every(e=>!!(e.and&&Array.isArray(e.and))&&e.and.every(e=>{if("object"!=typeof e)return!1;let t=Object.keys(e);if(0===t.length)return!1;for(let r of t){let t=Object.keys(e[r])[0];if(!t||!rI.has(t))return!1}return!0}));var rL=(0,p.c)(e=>{function t(e,t){var r=e.length;for(e.push(t);0<r;){var a=r-1>>>1,l=e[a];if(0<n(l,t))e[a]=t,e[r]=l,r=a;else break}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;for(var a=0,l=e.length,i=l>>>1;a<i;){var o=2*(a+1)-1,s=e[o],c=o+1,u=e[c];if(0>n(s,r))c<l&&0>n(u,s)?(e[a]=u,e[c]=r,a=c):(e[a]=s,e[o]=r,a=o);else if(c<l&&0>n(u,r))e[a]=u,e[c]=r,a=c;else break}}return t}function n(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now?(s=performance,e.unstable_now=function(){return s.now()}):(u=(c=Date).now(),e.unstable_now=function(){return c.now()-u});var l,i,o,s,c,u,d=[],f=[],p=1,h=null,m=3,g=!1,b=!1,v=!1,y="function"==typeof setTimeout?setTimeout:null,x="function"==typeof clearTimeout?clearTimeout:null,w="u">typeof setImmediate?setImmediate:null;function j(e){for(var n=r(f);null!==n;){if(null===n.callback)a(f);else if(n.startTime<=e)a(f),n.sortIndex=n.expirationTime,t(d,n);else break;n=r(f)}}function C(e){if(v=!1,j(e),!b)if(null!==r(d))b=!0,P();else{var t=r(f);null!==t&&D(C,t.startTime-e)}}var S=!1,$=-1,_=5,k=-1;function E(){return!(e.unstable_now()-k<_)}function N(){if(S){var t=e.unstable_now();k=t;var n=!0;try{e:{b=!1,v&&(v=!1,x($),$=-1),g=!0;var i=m;try{t:{for(j(t),h=r(d);null!==h&&!(h.expirationTime>t&&E());){var o=h.callback;if("function"==typeof o){h.callback=null,m=h.priorityLevel;var s=o(h.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof s){h.callback=s,j(t),n=!0;break t}h===r(d)&&a(d),j(t)}else a(d);h=r(d)}if(null!==h)n=!0;else{var c=r(f);null!==c&&D(C,c.startTime-t),n=!1}}break e}finally{h=null,m=i,g=!1}}}finally{n?l():S=!1}}}function P(){S||(S=!0,l())}function D(t,r){$=y(function(){t(e.unstable_now())},r)}"function"==typeof w?l=function(){w(N)}:"u">typeof MessageChannel?(o=(i=new MessageChannel).port2,i.port1.onmessage=N,l=function(){o.postMessage(null)}):l=function(){y(N,0)},e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){b||g||(b=!0,P())},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var r=m;m=t;try{return e()}finally{m=r}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=m;m=e;try{return t()}finally{m=r}},e.unstable_scheduleCallback=function(a,n,l){var i=e.unstable_now();switch(l="object"==typeof l&&null!==l&&"number"==typeof(l=l.delay)&&0<l?i+l:i,a){case 1:var o=-1;break;case 2:o=250;break;case 5:o=0x3fffffff;break;case 4:o=1e4;break;default:o=5e3}return o=l+o,a={id:p++,callback:n,priorityLevel:a,startTime:l,expirationTime:o,sortIndex:-1},l>i?(a.sortIndex=l,t(f,a),null===r(d)&&a===r(f)&&(v?(x($),$=-1):v=!0,D(C,l-i))):(a.sortIndex=o,t(d,a),b||g||(b=!0,P())),a},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(e){var t=m;return function(){var r=m;m=t;try{return e.apply(this,arguments)}finally{m=r}}}}),rF=(0,p.c)((e,t)=>{t.exports=rL()}),rB=(0,p.c)(e=>{var t="function"==typeof Symbol&&Symbol.for,r=t?Symbol.for("react.element"):60103,a=t?Symbol.for("react.portal"):60106,n=t?Symbol.for("react.fragment"):60107,l=t?Symbol.for("react.strict_mode"):60108,i=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,s=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,d=t?Symbol.for("react.forward_ref"):60112,f=t?Symbol.for("react.suspense"):60113,p=t?Symbol.for("react.suspense_list"):60120,h=t?Symbol.for("react.memo"):60115,m=t?Symbol.for("react.lazy"):60116,g=t?Symbol.for("react.block"):60121,b=t?Symbol.for("react.fundamental"):60117,v=t?Symbol.for("react.responder"):60118,y=t?Symbol.for("react.scope"):60119;function x(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case u:case n:case i:case l:case f:return e;default:switch(e=e&&e.$$typeof){case s:case d:case m:case h:case o:return e;default:return t}}case a:return t}}}function w(e){return x(e)===u}e.AsyncMode=c,e.ConcurrentMode=u,e.ContextConsumer=s,e.ContextProvider=o,e.Element=r,e.ForwardRef=d,e.Fragment=n,e.Lazy=m,e.Memo=h,e.Portal=a,e.Profiler=i,e.StrictMode=l,e.Suspense=f,e.isAsyncMode=function(e){return w(e)||x(e)===c},e.isConcurrentMode=w,e.isContextConsumer=function(e){return x(e)===s},e.isContextProvider=function(e){return x(e)===o},e.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},e.isForwardRef=function(e){return x(e)===d},e.isFragment=function(e){return x(e)===n},e.isLazy=function(e){return x(e)===m},e.isMemo=function(e){return x(e)===h},e.isPortal=function(e){return x(e)===a},e.isProfiler=function(e){return x(e)===i},e.isStrictMode=function(e){return x(e)===l},e.isSuspense=function(e){return x(e)===f},e.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===n||e===u||e===i||e===l||e===f||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===h||e.$$typeof===o||e.$$typeof===s||e.$$typeof===d||e.$$typeof===b||e.$$typeof===v||e.$$typeof===y||e.$$typeof===g)},e.typeOf=x}),rz=(0,p.c)((e,t)=>{t.exports=rB()}),rU=(0,p.c)((e,t)=>{var r=rz(),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},l={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};function o(e){return r.isMemo(e)?l:i[e.$$typeof]||a}i[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i[r.Memo]=l;var s=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;t.exports=function e(t,r,a){if("string"!=typeof r){if(p){var l=f(r);l&&l!==p&&e(t,l,a)}var i=c(r);u&&(i=i.concat(u(r)));for(var h=o(t),m=o(r),g=0;g<i.length;++g){var b=i[g];if(!n[b]&&!(a&&a[b])&&!(m&&m[b])&&!(h&&h[b])){var v=d(r,b);try{s(t,b,v)}catch{}}}}return t}}),rV=(0,p.c)((e,t)=>{var r=Math.floor(0xffffff*Math.random()),a=p.index=parseInt(0xffffff*Math.random(),10),n=(typeof o.default>"u"||"number"!=typeof o.default.pid?Math.floor(1e5*Math.random()):o.default.pid)%65535,l=(()=>{try{return _Buffer}catch{try{return s.Buffer}catch{return null}}})(),i=function(e){return!!(null!=e&&e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e))},c=[];for(u=0;u<256;u++)c[u]=(u<=15?"0":"")+u.toString(16);var u,d=RegExp("^[0-9a-fA-F]{24}$"),f=[];for(u=0;u<10;)f[48+u]=u++;for(;u<16;)f[55+u]=f[87+u]=u++;function p(e){if(!(this instanceof p))return new p(e);if(e&&(e instanceof p||"ObjectID"===e._bsontype))return e;if(this._bsontype="ObjectID",null==e||"number"==typeof e){this.id=this.generate(e);return}var t=p.isValid(e);if(!t&&null!=e)throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(t&&"string"==typeof e&&24===e.length)return p.createFromHexString(e);if(null!=e&&12===e.length)this.id=e;else{if(null!=e&&"function"==typeof e.toHexString)return e;throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}}t.exports=p,p.default=p,p.createFromTime=function(e){var t,r;return new p((t=8,(8===(r=(r=e=parseInt(e,10)%0xffffffff).toString(16)).length?r:"00000000".substring(r.length,8)+r)+"0000000000000000"))},p.createFromHexString=function(e){if(typeof e>"u"||null!=e&&24!==e.length)throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");for(var t="",r=0;r<24;)t+=String.fromCharCode(f[e.charCodeAt(r++)]<<4|f[e.charCodeAt(r++)]);return new p(t)},p.isValid=function(e){return null!=e&&("number"==typeof e||("string"==typeof e?12===e.length||24===e.length&&d.test(e):e instanceof p||(i(e)?p.isValid(e.toString("hex")):"function"==typeof e.toHexString&&!!l&&(e.id instanceof l||"string"==typeof e.id)&&(12===e.id.length||24===e.id.length&&d.test(e.id)))))},p.prototype={constructor:p,toHexString:function(){if(!this.id||!this.id.length)throw Error("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(24===this.id.length)return this.id;if(i(this.id))return this.id.toString("hex");for(var e="",t=0;t<this.id.length;t++)e+=c[this.id.charCodeAt(t)];return e},equals:function(e){return e instanceof p?this.toString()===e.toString():"string"==typeof e&&p.isValid(e)&&12===e.length&&i(this.id)?e===this.id.toString("binary"):"string"==typeof e&&p.isValid(e)&&24===e.length?e.toLowerCase()===this.toHexString():"string"==typeof e&&p.isValid(e)&&12===e.length?e===this.id:null!=e&&(e instanceof p||!!e.toHexString)&&e.toHexString()===this.toHexString()},getTimestamp:function(){var e,t=new Date;return e=i(this.id)?this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24:this.id.charCodeAt(3)|this.id.charCodeAt(2)<<8|this.id.charCodeAt(1)<<16|this.id.charCodeAt(0)<<24,t.setTime(1e3*Math.floor(e)),t},generate:function(e){"number"!=typeof e&&(e=~~(Date.now()/1e3)),e=parseInt(e,10)%0xffffffff;var t=a=(a+1)%0xffffff;return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e,r>>16&255,r>>8&255,255&r,n>>8&255,255&n,t>>16&255,t>>8&255,255&t)}};var h=Symbol&&Symbol.for&&Symbol.for("nodejs.util.inspect.custom")||"inspect";p.prototype[h]=function(){return"ObjectID("+this+")"},p.prototype.toJSON=p.prototype.toHexString,p.prototype.toString=p.prototype.toHexString}),rH=(0,p.c)((e,t)=>{function r(e){return void 0===e}function a(e){return e===Object(e)}function n(e){return Array.isArray(e)}function l(e,t){return t?a(e)&&!r(e.uri):a(e)&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.slice}function i(e){return!r(e)&&e}t.exports={serialize:function e(t,o,s,c){o=o||{},s=s||new FormData,o.indices=i(o.indices),o.nullsAsUndefineds=i(o.nullsAsUndefineds),o.booleansAsIntegers=i(o.booleansAsIntegers),o.allowEmptyArrays=i(o.allowEmptyArrays),o.noAttributesWithArrayNotation=i(o.noAttributesWithArrayNotation),o.noFilesWithArrayNotation=i(o.noFilesWithArrayNotation),o.dotsForObjectNotation=i(o.dotsForObjectNotation);let u="function"==typeof s.getParts;return r(t)||(null===t?o.nullsAsUndefineds||s.append(c,""):"boolean"==typeof t?o.booleansAsIntegers?s.append(c,+!!t):s.append(c,t):n(t)?t.length?t.forEach((t,r)=>{var n;let i=c+"["+(o.indices?r:"")+"]";(o.noAttributesWithArrayNotation||o.noFilesWithArrayNotation&&l(n=t,u)&&"string"==typeof n.name&&(a(n.lastModifiedDate)||"number"==typeof n.lastModified))&&(i=c),e(t,o,s,i)}):o.allowEmptyArrays&&s.append(o.noAttributesWithArrayNotation?c:c+"[]",""):t instanceof Date?s.append(c,t.toISOString()):a(t)&&!l(t,u)?Object.keys(t).forEach(r=>{let a=t[r];if(n(a))for(;r.length>2&&r.lastIndexOf("[]")===r.length-2;)r=r.substring(0,r.length-2);let l=c?o.dotsForObjectNotation?c+"."+r:c+"["+r+"]":r;e(a,o,s,l)}):s.append(c,t)),s}}}),rq=(0,p.c)((e,t)=>{var r,a;r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t.exports=a={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 0xff00ff&a.rotl(e,8)|0xff00ff00&a.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=a.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,a=0;r<e.length;r++,a+=8)t[a>>>5]|=e[r]<<24-a%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var t=[],a=0;a<e.length;a+=3)for(var n=e[a]<<16|e[a+1]<<8|e[a+2],l=0;l<4;l++)8*a+6*l<=8*e.length?t.push(r.charAt(n>>>6*(3-l)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/ig,"");for(var t=[],a=0,n=0;a<e.length;n=++a%4)0!=n&&t.push((r.indexOf(e.charAt(a-1))&Math.pow(2,-2*n+8)-1)<<2*n|r.indexOf(e.charAt(a))>>>6-2*n);return t}}}),rK=(0,p.c)((e,t)=>{var r={utf8:{stringToBytes:function(e){return r.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(r.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}};t.exports=r}),rW=(0,p.c)((e,t)=>{function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}t.exports=function(e){var t;return null!=e&&(r(e)||"function"==typeof(t=e).readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))||!!e._isBuffer)}}),rG=(0,p.c)((e,t)=>{var r,a,n,l,i;r=rq(),a=rK().utf8,n=rW(),l=rK().bin,(i=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?l.stringToBytes(e):a.stringToBytes(e):n(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var o=r.bytesToWords(e),s=8*e.length,c=0x67452301,u=-0x10325477,d=-0x67452302,f=0x10325476,p=0;p<o.length;p++)o[p]=(o[p]<<8|o[p]>>>24)&0xff00ff|(o[p]<<24|o[p]>>>8)&0xff00ff00;o[s>>>5]|=128<<s%32,o[(s+64>>>9<<4)+14]=s;for(var h=i._ff,m=i._gg,g=i._hh,b=i._ii,p=0;p<o.length;p+=16){var v=c,y=u,x=d,w=f;c=h(c,u,d,f,o[p+0],7,-0x28955b88),f=h(f,c,u,d,o[p+1],12,-0x173848aa),d=h(d,f,c,u,o[p+2],17,0x242070db),u=h(u,d,f,c,o[p+3],22,-0x3e423112),c=h(c,u,d,f,o[p+4],7,-0xa83f051),f=h(f,c,u,d,o[p+5],12,0x4787c62a),d=h(d,f,c,u,o[p+6],17,-0x57cfb9ed),u=h(u,d,f,c,o[p+7],22,-0x2b96aff),c=h(c,u,d,f,o[p+8],7,0x698098d8),f=h(f,c,u,d,o[p+9],12,-0x74bb0851),d=h(d,f,c,u,o[p+10],17,-42063),u=h(u,d,f,c,o[p+11],22,-0x76a32842),c=h(c,u,d,f,o[p+12],7,0x6b901122),f=h(f,c,u,d,o[p+13],12,-0x2678e6d),d=h(d,f,c,u,o[p+14],17,-0x5986bc72),u=h(u,d,f,c,o[p+15],22,0x49b40821),c=m(c,u,d,f,o[p+1],5,-0x9e1da9e),f=m(f,c,u,d,o[p+6],9,-0x3fbf4cc0),d=m(d,f,c,u,o[p+11],14,0x265e5a51),u=m(u,d,f,c,o[p+0],20,-0x16493856),c=m(c,u,d,f,o[p+5],5,-0x29d0efa3),f=m(f,c,u,d,o[p+10],9,0x2441453),d=m(d,f,c,u,o[p+15],14,-0x275e197f),u=m(u,d,f,c,o[p+4],20,-0x182c0438),c=m(c,u,d,f,o[p+9],5,0x21e1cde6),f=m(f,c,u,d,o[p+14],9,-0x3cc8f82a),d=m(d,f,c,u,o[p+3],14,-0xb2af279),u=m(u,d,f,c,o[p+8],20,0x455a14ed),c=m(c,u,d,f,o[p+13],5,-0x561c16fb),f=m(f,c,u,d,o[p+2],9,-0x3105c08),d=m(d,f,c,u,o[p+7],14,0x676f02d9),u=m(u,d,f,c,o[p+12],20,-0x72d5b376),c=g(c,u,d,f,o[p+5],4,-378558),f=g(f,c,u,d,o[p+8],11,-0x788e097f),d=g(d,f,c,u,o[p+11],16,0x6d9d6122),u=g(u,d,f,c,o[p+14],23,-0x21ac7f4),c=g(c,u,d,f,o[p+1],4,-0x5b4115bc),f=g(f,c,u,d,o[p+4],11,0x4bdecfa9),d=g(d,f,c,u,o[p+7],16,-0x944b4a0),u=g(u,d,f,c,o[p+10],23,-0x41404390),c=g(c,u,d,f,o[p+13],4,0x289b7ec6),f=g(f,c,u,d,o[p+0],11,-0x155ed806),d=g(d,f,c,u,o[p+3],16,-0x2b10cf7b),u=g(u,d,f,c,o[p+6],23,0x4881d05),c=g(c,u,d,f,o[p+9],4,-0x262b2fc7),f=g(f,c,u,d,o[p+12],11,-0x1924661b),d=g(d,f,c,u,o[p+15],16,0x1fa27cf8),u=g(u,d,f,c,o[p+2],23,-0x3b53a99b),c=b(c,u,d,f,o[p+0],6,-0xbd6ddbc),f=b(f,c,u,d,o[p+7],10,0x432aff97),d=b(d,f,c,u,o[p+14],15,-0x546bdc59),u=b(u,d,f,c,o[p+5],21,-0x36c5fc7),c=b(c,u,d,f,o[p+12],6,0x655b59c3),f=b(f,c,u,d,o[p+3],10,-0x70f3336e),d=b(d,f,c,u,o[p+10],15,-1051523),u=b(u,d,f,c,o[p+1],21,-0x7a7ba22f),c=b(c,u,d,f,o[p+8],6,0x6fa87e4f),f=b(f,c,u,d,o[p+15],10,-0x1d31920),d=b(d,f,c,u,o[p+6],15,-0x5cfebcec),u=b(u,d,f,c,o[p+13],21,0x4e0811a1),c=b(c,u,d,f,o[p+4],6,-0x8ac817e),f=b(f,c,u,d,o[p+11],10,-0x42c50dcb),d=b(d,f,c,u,o[p+2],15,0x2ad7d2bb),u=b(u,d,f,c,o[p+9],21,-0x14792c6f),c=c+v>>>0,u=u+y>>>0,d=d+x>>>0,f=f+w>>>0}return r.endian([c,u,d,f])})._ff=function(e,t,r,a,n,l,i){var o=e+(t&r|~t&a)+(n>>>0)+i;return(o<<l|o>>>32-l)+t},i._gg=function(e,t,r,a,n,l,i){var o=e+(t&a|r&~a)+(n>>>0)+i;return(o<<l|o>>>32-l)+t},i._hh=function(e,t,r,a,n,l,i){var o=e+(t^r^a)+(n>>>0)+i;return(o<<l|o>>>32-l)+t},i._ii=function(e,t,r,a,n,l,i){var o=e+(r^(t|~a))+(n>>>0)+i;return(o<<l|o>>>32-l)+t},i._blocksize=16,i._digestsize=16,t.exports=function(e,t){if(null==e)throw Error("Illegal argument "+e);var a=r.wordsToBytes(i(e,t));return t&&t.asBytes?a:t&&t.asString?l.bytesToString(a):r.bytesToHex(a)}});function rY({CustomComponent:e,Fallback:t}){return void 0!==e?e:t}var rX=(0,p.e)(rF(),1),rQ=Symbol(),rJ=Symbol(),rZ=typeof window>"u"||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent)?c.useEffect:c.useLayoutEffect,r0=rX.unstable_runWithPriority?e=>{try{(0,rX.unstable_runWithPriority)(rX.unstable_NormalPriority,e)}catch(t){if("Not implemented."===t.message)e();else throw t}}:e=>e(),r1=e=>e;function r3(e,t){let{v:{current:r},n:{current:a},l:n}=(0,c.useContext)(e)[rQ],l=t(r),[i,o]=(0,c.useReducer)((e,n)=>{if(!n)return[r,l];if("p"in n)throw n.p;if(n.n===a)return Object.is(e[1],l)?e:[r,l];try{if("v"in n){if(Object.is(e[0],n.v))return e;let r=t(n.v);return Object.is(e[1],r)?e:[n.v,r]}}catch{}return[...e]},[r,l]);return Object.is(i[1],l)||o(),rZ(()=>(n.add(o),()=>{n.delete(o)}),[n]),i[1]}var r2=(0,c.createContext)({}),r6=(0,c.createContext)({}),r5=(0,c.createContext)({}),r4=(0,c.createContext)(!1),r8=(0,c.createContext)(!1),r9=(0,c.createContext)(!1),r7=(0,c.createContext)(!1),ae=(0,c.createContext)(!1),at=(lD=[{},()=>null],(r=(0,c.createContext)({[rQ]:{v:{current:lD},n:{current:-1},l:new Set,u:e=>e()}}))[rJ]=r.Provider,a=r.Provider,r.Provider=({value:e,children:t})=>{let r=(0,c.useRef)(e),n=(0,c.useRef)(0),[l,i]=(0,c.useState)(null);l&&(l(e),i(null));let o=(0,c.useRef)();if(!o.current){let e=new Set;o.current={[rQ]:{v:r,n:n,l:e,u:(t,r)=>{n.current+=1;let a={n:n.current};r?.suspense&&(a.n*=-1,a.p=new Promise(e=>{i(()=>t=>{a.v=t,delete a.p,e(t)})})),e.forEach(e=>e(a)),t()}}}}return rZ(()=>{r.current=e,n.current+=1,r0(()=>{o.current[rQ].l.forEach(t=>{t({n:n.current,v:e})})})},[e]),(0,c.createElement)(a,{value:o.current},t)},delete r.Consumer,r),ar=()=>(0,c.use)(r2),aa=()=>(0,c.use)(r6),an=()=>(0,c.use)(r5),al=()=>(0,c.use)(r4),ai=()=>(0,c.use)(r8),ao=()=>(0,c.use)(r9),as=()=>(0,c.use)(r7),ac=()=>(0,c.use)(ae),au=e=>r3(at,e),ad=()=>r3(at,r1),af=c.default.createContext({data:{},path:"",rowNumber:void 0}),ap=({children:e,path:t,rowNumber:r})=>{let{getDataByPath:a,getSiblingData:n}=an(),l=n(t),i=a(t)||l,o=c.default.useMemo(()=>({data:i,path:t,rowNumber:r}),[i,t,r]);return(0,h.jsx)(af,{value:o,children:e})},ah=()=>c.default.use(af),am=e=>{let{className:t,CustomComponent:r,label:a,path:n,rowNumber:l}=e;return(0,h.jsx)(ap,{path:n,rowNumber:l,children:(0,h.jsx)(rY,{CustomComponent:r,Fallback:"string"==typeof a?(0,h.jsx)("span",{className:["row-label",t].filter(Boolean).join(" "),style:{pointerEvents:"none"},children:a}):a})})},ag=Array(12).fill(0),ab=({visible:e,className:t})=>c.default.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},c.default.createElement("div",{className:"sonner-spinner"},ag.map((e,t)=>c.default.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),av=c.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},c.default.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ay=c.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},c.default.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ax=c.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},c.default.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),aw=c.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},c.default.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),aj=c.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},c.default.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),c.default.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),aC=1,aS=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...a}=e,n="number"==typeof e?.id||(null==(t=e.id)?void 0:t.length)>0?e.id:aC++,l=this.toasts.find(e=>e.id===n),i=void 0===e.dismissible||e.dismissible;return l?this.toasts=this.toasts.map(t=>t.id===n?(this.publish({...t,...e,id:n,title:r}),{...t,...e,id:n,dismissible:i,title:r}):t):this.addToast({title:r,...a,dismissible:i,id:n}),n},this.dismiss=e=>(e||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{let r;if(!t)return;void 0!==t.loading&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));let a=e instanceof Promise?e:e(),n=void 0!==r,l,i=a.then(async e=>{if(l=["resolve",e],c.default.isValidElement(e))n=!1,this.create({id:r,type:"default",message:e});else if(a$(e)&&!e.ok){n=!1;let a="function"==typeof t.error?await t.error(`HTTP error! status: ${e.status}`):t.error,l="function"==typeof t.description?await t.description(`HTTP error! status: ${e.status}`):t.description;this.create({id:r,type:"error",message:a,description:l})}else if(void 0!==t.success){n=!1;let a="function"==typeof t.success?await t.success(e):t.success,l="function"==typeof t.description?await t.description(e):t.description;this.create({id:r,type:"success",message:a,description:l})}}).catch(async e=>{if(l=["reject",e],void 0!==t.error){n=!1;let a="function"==typeof t.error?await t.error(e):t.error,l="function"==typeof t.description?await t.description(e):t.description;this.create({id:r,type:"error",message:a,description:l})}}).finally(()=>{var e;n&&(this.dismiss(r),r=void 0),null==(e=t.finally)||e.call(t)}),o=()=>new Promise((e,t)=>i.then(()=>"reject"===l[0]?t(l[1]):e(l[1])).catch(t));return"string"!=typeof r&&"number"!=typeof r?{unwrap:o}:Object.assign(r,{unwrap:o})},this.custom=(e,t)=>{let r=t?.id||aC++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},a$=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,a_=Object.assign((e,t)=>{let r=t?.id||aC++;return aS.addToast({title:e,...t,id:r}),r},{success:aS.success,info:aS.info,warning:aS.warning,error:aS.error,custom:aS.custom,message:aS.message,promise:aS.promise,dismiss:aS.dismiss,loading:aS.loading},{getHistory:()=>aS.toasts});function ak(e){return void 0!==e.label}function aE(...e){return e.filter(Boolean).join(" ")}!function(e,{insertAt:t}={}){if(!e||typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===t&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);var aN=e=>{var t,r,a,n,l,i,o,s,u,d,f,p,h,m;let{invert:g,toast:b,unstyled:v,interacting:y,setHeights:x,visibleToasts:w,heights:j,index:C,toasts:S,expanded:$,removeToast:_,defaultRichColors:k,closeButton:E,style:N,cancelButtonStyle:P,actionButtonStyle:D,className:T="",descriptionClassName:O="",duration:R,position:A,gap:I,loadingIcon:M,expandByDefault:L,classNames:F,icons:B,closeButtonAriaLabel:z="Close toast",pauseWhenPageIsHidden:U}=e,[V,H]=c.default.useState(null),[q,K]=c.default.useState(null),[W,G]=c.default.useState(!1),[Y,X]=c.default.useState(!1),[Q,J]=c.default.useState(!1),[Z,ee]=c.default.useState(!1),[et,er]=c.default.useState(!1),[ea,en]=c.default.useState(0),[el,ei]=c.default.useState(0),eo=c.default.useRef(b.duration||R||4e3),es=c.default.useRef(null),ec=c.default.useRef(null),eu=0===C,ed=C+1<=w,ef=b.type,ep=!1!==b.dismissible,eh=b.className||"",em=b.descriptionClassName||"",eg=c.default.useMemo(()=>j.findIndex(e=>e.toastId===b.id)||0,[j,b.id]),eb=c.default.useMemo(()=>{var e;return null!=(e=b.closeButton)?e:E},[b.closeButton,E]),ev=c.default.useMemo(()=>b.duration||R||4e3,[b.duration,R]),ey=c.default.useRef(0),ex=c.default.useRef(0),ew=c.default.useRef(0),ej=c.default.useRef(null),[eC,eS]=A.split("-"),e$=c.default.useMemo(()=>j.reduce((e,t,r)=>r>=eg?e:e+t.height,0),[j,eg]),e_=(()=>{let[e,t]=c.default.useState(document.hidden);return c.default.useEffect(()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e})(),ek=b.invert||g,eE="loading"===ef;ex.current=c.default.useMemo(()=>eg*I+e$,[eg,e$]),c.default.useEffect(()=>{eo.current=ev},[ev]),c.default.useEffect(()=>{G(!0)},[]),c.default.useEffect(()=>{let e=ec.current;if(e){let t=e.getBoundingClientRect().height;return ei(t),x(e=>[{toastId:b.id,height:t,position:b.position},...e]),()=>x(e=>e.filter(e=>e.toastId!==b.id))}},[x,b.id]),c.default.useLayoutEffect(()=>{if(!W)return;let e=ec.current,t=e.style.height;e.style.height="auto";let r=e.getBoundingClientRect().height;e.style.height=t,ei(r),x(e=>e.find(e=>e.toastId===b.id)?e.map(e=>e.toastId===b.id?{...e,height:r}:e):[{toastId:b.id,height:r,position:b.position},...e])},[W,b.title,b.description,x,b.id]);let eN=c.default.useCallback(()=>{X(!0),en(ex.current),x(e=>e.filter(e=>e.toastId!==b.id)),setTimeout(()=>{_(b)},200)},[b,_,x,ex]);return c.default.useEffect(()=>{let e;if((!b.promise||"loading"!==ef)&&b.duration!==1/0&&"loading"!==b.type)return $||y||U&&e_?(()=>{if(ew.current<ey.current){let e=new Date().getTime()-ey.current;eo.current=eo.current-e}ew.current=new Date().getTime()})():eo.current!==1/0&&(ey.current=new Date().getTime(),e=setTimeout(()=>{var e;null==(e=b.onAutoClose)||e.call(b,b),eN()},eo.current)),()=>clearTimeout(e)},[$,y,b,ef,U,e_,eN]),c.default.useEffect(()=>{b.delete&&eN()},[eN,b.delete]),c.default.createElement("li",{tabIndex:0,ref:ec,className:aE(T,eh,F?.toast,null==(t=b?.classNames)?void 0:t.toast,F?.default,F?.[ef],null==(r=b?.classNames)?void 0:r[ef]),"data-sonner-toast":"","data-rich-colors":null!=(a=b.richColors)?a:k,"data-styled":!(b.jsx||b.unstyled||v),"data-mounted":W,"data-promise":!!b.promise,"data-swiped":et,"data-removed":Y,"data-visible":ed,"data-y-position":eC,"data-x-position":eS,"data-index":C,"data-front":eu,"data-swiping":Q,"data-dismissible":ep,"data-type":ef,"data-invert":ek,"data-swipe-out":Z,"data-swipe-direction":q,"data-expanded":!!($||L&&W),style:{"--index":C,"--toasts-before":C,"--z-index":S.length-C,"--offset":`${Y?ea:ex.current}px`,"--initial-height":L?"auto":`${el}px`,...N,...b.style},onPointerDown:e=>{eE||!ep||(es.current=new Date,en(ex.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(J(!0),ej.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,r,a;if(Z||!ep)return;ej.current=null;let n=Number((null==(e=ec.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),l=Number((null==(t=ec.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),i=new Date().getTime()-(null==(r=es.current)?void 0:r.getTime()),o="x"===V?n:l,s=Math.abs(o)/i;if(Math.abs(o)>=20||s>.11){en(ex.current),null==(a=b.onDismiss)||a.call(b,b),K("x"===V?n>0?"right":"left":l>0?"down":"up"),eN(),ee(!0),er(!1);return}J(!1),H(null)},onPointerMove:t=>{var r,a,n,l;if(!ej.current||!ep||(null==(r=window.getSelection())?void 0:r.toString().length)>0)return;let i=t.clientY-ej.current.y,o=t.clientX-ej.current.x,s=null!=(a=e.swipeDirections)?a:function(e){let[t,r]=e.split("-"),a=[];return t&&a.push(t),r&&a.push(r),a}(A);!V&&(Math.abs(o)>1||Math.abs(i)>1)&&H(Math.abs(o)>Math.abs(i)?"x":"y");let c={x:0,y:0};"y"===V?(s.includes("top")||s.includes("bottom"))&&(s.includes("top")&&i<0||s.includes("bottom")&&i>0)&&(c.y=i):"x"===V&&(s.includes("left")||s.includes("right"))&&(s.includes("left")&&o<0||s.includes("right")&&o>0)&&(c.x=o),(Math.abs(c.x)>0||Math.abs(c.y)>0)&&er(!0),null==(n=ec.current)||n.style.setProperty("--swipe-amount-x",`${c.x}px`),null==(l=ec.current)||l.style.setProperty("--swipe-amount-y",`${c.y}px`)}},eb&&!b.jsx?c.default.createElement("button",{"aria-label":z,"data-disabled":eE,"data-close-button":!0,onClick:eE||!ep?()=>{}:()=>{var e;eN(),null==(e=b.onDismiss)||e.call(b,b)},className:aE(F?.closeButton,null==(n=b?.classNames)?void 0:n.closeButton)},null!=(l=B?.close)?l:aj):null,b.jsx||(0,c.isValidElement)(b.title)?b.jsx?b.jsx:"function"==typeof b.title?b.title():b.title:c.default.createElement(c.default.Fragment,null,ef||b.icon||b.promise?c.default.createElement("div",{"data-icon":"",className:aE(F?.icon,null==(i=b?.classNames)?void 0:i.icon)},b.promise||"loading"===b.type&&!b.icon?b.icon||(null!=B&&B.loading?c.default.createElement("div",{className:aE(F?.loader,null==(p=b?.classNames)?void 0:p.loader,"sonner-loader"),"data-visible":"loading"===ef},B.loading):M?c.default.createElement("div",{className:aE(F?.loader,null==(h=b?.classNames)?void 0:h.loader,"sonner-loader"),"data-visible":"loading"===ef},M):c.default.createElement(ab,{className:aE(F?.loader,null==(m=b?.classNames)?void 0:m.loader),visible:"loading"===ef})):null,"loading"!==b.type?b.icon||B?.[ef]||(e=>{switch(e){case"success":return av;case"info":return ax;case"warning":return ay;case"error":return aw;default:return null}})(ef):null):null,c.default.createElement("div",{"data-content":"",className:aE(F?.content,null==(o=b?.classNames)?void 0:o.content)},c.default.createElement("div",{"data-title":"",className:aE(F?.title,null==(s=b?.classNames)?void 0:s.title)},"function"==typeof b.title?b.title():b.title),b.description?c.default.createElement("div",{"data-description":"",className:aE(O,em,F?.description,null==(u=b?.classNames)?void 0:u.description)},"function"==typeof b.description?b.description():b.description):null),(0,c.isValidElement)(b.cancel)?b.cancel:b.cancel&&ak(b.cancel)?c.default.createElement("button",{"data-button":!0,"data-cancel":!0,style:b.cancelButtonStyle||P,onClick:e=>{var t,r;ak(b.cancel)&&ep&&(null==(r=(t=b.cancel).onClick)||r.call(t,e),eN())},className:aE(F?.cancelButton,null==(d=b?.classNames)?void 0:d.cancelButton)},b.cancel.label):null,(0,c.isValidElement)(b.action)?b.action:b.action&&ak(b.action)?c.default.createElement("button",{"data-button":!0,"data-action":!0,style:b.actionButtonStyle||D,onClick:e=>{var t,r;ak(b.action)&&(null==(r=(t=b.action).onClick)||r.call(t,e),e.defaultPrevented||eN())},className:aE(F?.actionButton,null==(f=b?.classNames)?void 0:f.actionButton)},b.action.label):null))};function aP(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}var aD=(0,c.forwardRef)(function(e,t){let{invert:r,position:a="bottom-right",hotkey:n=["altKey","KeyT"],expand:l,closeButton:i,className:o,offset:s,mobileOffset:d,theme:f="light",richColors:p,duration:h,style:m,visibleToasts:g=3,toastOptions:b,dir:v=aP(),gap:y=14,loadingIcon:x,icons:w,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:C}=e,[S,$]=c.default.useState([]),_=c.default.useMemo(()=>Array.from(new Set([a].concat(S.filter(e=>e.position).map(e=>e.position)))),[S,a]),[k,E]=c.default.useState([]),[N,P]=c.default.useState(!1),[D,T]=c.default.useState(!1),[O,R]=c.default.useState("system"!==f?f:"u">typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),A=c.default.useRef(null),I=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=c.default.useRef(null),L=c.default.useRef(!1),F=c.default.useCallback(e=>{$(t=>{var r;return null!=(r=t.find(t=>t.id===e.id))&&r.delete||aS.dismiss(e.id),t.filter(({id:t})=>t!==e.id)})},[]);return c.default.useEffect(()=>aS.subscribe(e=>{e.dismiss?$(t=>t.map(t=>t.id===e.id?{...t,delete:!0}:t)):setTimeout(()=>{u.default.flushSync(()=>{$(t=>{let r=t.findIndex(t=>t.id===e.id);return -1!==r?[...t.slice(0,r),{...t[r],...e},...t.slice(r+1)]:[e,...t]})})})}),[]),c.default.useEffect(()=>{if("system"!==f)return void R(f);if("system"===f&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?R("dark"):R("light")),typeof window>"u")return;let e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",({matches:e})=>{R(e?"dark":"light")})}catch{e.addListener(({matches:e})=>{try{R(e?"dark":"light")}catch(e){console.error(e)}})}},[f]),c.default.useEffect(()=>{S.length<=1&&P(!1)},[S]),c.default.useEffect(()=>{let e=e=>{var t,r;n.every(t=>e[t]||e.code===t)&&(P(!0),null==(t=A.current)||t.focus()),"Escape"===e.code&&(document.activeElement===A.current||null!=(r=A.current)&&r.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[n]),c.default.useEffect(()=>{if(A.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,L.current=!1)}},[A.current]),c.default.createElement("section",{ref:t,"aria-label":`${j} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},_.map((t,a)=>{var n;let u,[f,j]=t.split("-");return S.length?c.default.createElement("ol",{key:t,dir:"auto"===v?aP():v,tabIndex:-1,ref:A,className:o,"data-sonner-toaster":!0,"data-theme":O,"data-y-position":f,"data-lifted":N&&S.length>1&&!l,"data-x-position":j,style:{"--front-toast-height":`${(null==(n=k[0])?void 0:n.height)||0}px`,"--width":"356px","--gap":`${y}px`,...m,...(u={},[s,d].forEach((e,t)=>{let r=1===t,a=r?"--mobile-offset":"--offset",n=r?"16px":"32px";function l(e){["top","right","bottom","left"].forEach(t=>{u[`${a}-${t}`]="number"==typeof e?`${e}px`:e})}"number"==typeof e||"string"==typeof e?l(e):"object"==typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?u[`${a}-${t}`]=n:u[`${a}-${t}`]="number"==typeof e[t]?`${e[t]}px`:e[t]}):l(n)}),u)},onBlur:e=>{L.current&&!e.currentTarget.contains(e.relatedTarget)&&(L.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||L.current||(L.current=!0,M.current=e.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{D||P(!1)},onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||T(!0)},onPointerUp:()=>T(!1)},S.filter(e=>!e.position&&0===a||e.position===t).map((a,n)=>{var o,s;return c.default.createElement(aN,{key:a.id,icons:w,index:n,toast:a,defaultRichColors:p,duration:null!=(o=b?.duration)?o:h,className:b?.className,descriptionClassName:b?.descriptionClassName,invert:r,visibleToasts:g,closeButton:null!=(s=b?.closeButton)?s:i,interacting:D,position:t,style:b?.style,unstyled:b?.unstyled,classNames:b?.classNames,cancelButtonStyle:b?.cancelButtonStyle,actionButtonStyle:b?.actionButtonStyle,removeToast:F,toasts:S.filter(e=>e.position==a.position),heights:k.filter(e=>e.position==a.position),setHeights:E,expandByDefault:l,gap:y,loadingIcon:x,expanded:N,pauseWhenPageIsHidden:C,swipeDirections:e.swipeDirections})})):null}))}),aT=e=>{let t,r=(0,v.c)(11),{children:a}=e,[n,l]=(0,c.useOptimistic)(!1),[i,o]=c.default.useState(0),s=(0,c.useRef)(i),u=(0,c.useRef)(null),d;r[0]===Symbol.for("react.memo_cache_sentinel")?(d=()=>{u.current=setInterval(()=>{let e=s.current+(.93-s.current)*Math.random()*.2*Math.pow(Math.log(1+(1-s.current)*.75),.75);o(e),s.current=e},250)},r[0]=d):d=r[0];let f=d,p,m;r[1]!==n?(p=()=>{o(0),s.current=0,n?f():u.current&&clearInterval(u.current)},m=[n,f],r[1]=n,r[2]=p,r[3]=m):(p=r[2],m=r[3]),(0,c.useEffect)(p,m),r[4]!==l?(t=e=>{(0,c.startTransition)(()=>{l(!0),"function"==typeof e&&e()})},r[4]=l,r[5]=t):t=r[5];let g=t,b;return r[6]!==a||r[7]!==n||r[8]!==g||r[9]!==i?(b=(0,h.jsx)(aO,{value:{isTransitioning:n,startRouteTransition:g,transitionProgress:i},children:a}),r[6]=a,r[7]=n,r[8]=g,r[9]=i,r[10]=b):b=r[10],b},aO=c.default.createContext({isTransitioning:!1,startRouteTransition:()=>{},transitionProgress:0}),aR=()=>c.default.use(aO),aA=/https?|ftp|gopher|file/;function aI(e){return"string"!=typeof e&&("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}var aM="default"in g.default?g.default.default:g.default,aL=({children:e,href:t,onClick:r,preventDefault:a=!0,ref:n,replace:l,scroll:i,...o})=>{let s=(0,b.useRouter)(),{startRouteTransition:c}=aR();return(0,h.jsx)(aM,{href:t,onClick:e=>{let n;(n=e.currentTarget.getAttribute("target"))&&"_self"!==n||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which||(r&&r(e),a&&e.preventDefault(),c(()=>{let e="string"==typeof t?t:function(e){var t;let r,{auth:a}=e,{hostname:n}=e,l=e.protocol||"",i=e.pathname||"",o=e.hash||"",s=e.query||"",c=!1;a=a?encodeURIComponent(a).replace(/%3A/i,":")+"@":"",e.host?c=a+e.host:n&&(c=a+(~n.indexOf(":")?`[${n}]`:n),e.port&&(c+=":"+e.port)),s&&"object"==typeof s&&(s=String((t=s,r=new URLSearchParams,Object.entries(t).forEach(([e,t])=>{Array.isArray(t)?t.forEach(t=>r.append(e,aI(t))):r.set(e,aI(t))}),r)));let u=e.search||s&&`?${s}`||"";return l&&!l.endsWith(":")&&(l+=":"),e.slashes||(!l||aA.test(l))&&!1!==c?(c="//"+(c||""),i&&"/"!==i[0]&&(i="/"+i)):c||(c=""),o&&"#"!==o[0]&&(o="#"+o),u&&"?"!==u[0]&&(u="?"+u),i=i.replace(/[?#]/g,encodeURIComponent),u=u.replace("#","%23"),`${l}${c}${i}${u}${o}`}(t);l?s.replace(e,{scroll:i}):s.push(e,{scroll:i})}))},ref:n,...o,children:e})},aF="banner",aB=({type:e="default",alignIcon:t="right",children:r,className:a,icon:n,onClick:l,to:i})=>{let o=[aF,`${aF}--type-${e}`,a&&a,i&&`${aF}--has-link`,(i||l)&&`${aF}--has-action`,n&&`${aF}--has-icon`,n&&`${aF}--align-icon-${t}`].filter(Boolean).join(" "),s="div";return l&&!i&&(s="button"),i&&(s=aL),(0,h.jsxs)(s,{className:o,href:i||null,onClick:l,children:[n&&"left"===t&&(0,h.jsx)(c.default.Fragment,{children:n}),(0,h.jsx)("span",{className:`${aF}__content`,children:r}),n&&"right"===t&&(0,h.jsx)(c.default.Fragment,{children:n})]})},az=({ariaLabel:e,className:t,direction:r,size:a})=>(0,h.jsx)("svg",{"aria-label":e,className:["icon icon--chevron",t,a&&`icon--size-${a}`].filter(Boolean).join(" "),height:"100%",style:{transform:"left"===r?"rotate(90deg)":"right"===r?"rotate(-90deg)":"up"===r?"rotate(180deg)":void 0},viewBox:"0 0 20 20",width:"100%",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{className:"stroke",d:"M14 8L10 12L6 8",strokeLinecap:"square"})}),aU=({className:e})=>(0,h.jsx)("svg",{className:[e,"icon icon--edit"].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{className:"stroke",d:"M9.68531 4.62938H5.2634C4.92833 4.62938 4.60698 4.76248 4.37004 4.99942C4.13311 5.23635 4 5.5577 4 5.89278V14.7366C4 15.0717 4.13311 15.393 4.37004 15.63C4.60698 15.8669 4.92833 16 5.2634 16H14.1072C14.4423 16 14.7636 15.8669 15.0006 15.63C15.2375 15.393 15.3706 15.0717 15.3706 14.7366V10.3147M13.7124 4.39249C13.9637 4.14118 14.3046 4 14.66 4C15.0154 4 15.3562 4.14118 15.6075 4.39249C15.8588 4.6438 16 4.98464 16 5.34004C16 5.69544 15.8588 6.03629 15.6075 6.28759L9.91399 11.9817C9.76399 12.1316 9.57868 12.2413 9.37515 12.3008L7.56027 12.8314C7.50591 12.8472 7.44829 12.8482 7.39344 12.8341C7.33859 12.8201 7.28853 12.7915 7.24849 12.7515C7.20845 12.7115 7.17991 12.6614 7.16586 12.6066C7.15181 12.5517 7.15276 12.4941 7.16861 12.4397L7.69924 10.6249C7.75896 10.4215 7.86888 10.2364 8.01888 10.0866L13.7124 4.39249Z",strokeLinecap:"square"})}),aV=()=>(0,h.jsx)("svg",{"aria-hidden":"true",className:"graphic link icon icon--link",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{className:"stroke",d:"M7.99999 13.3333H6.66666C5.78261 13.3333 4.93476 12.9821 4.30964 12.357C3.68452 11.7319 3.33333 10.884 3.33333 9.99999C3.33333 9.11593 3.68452 8.26809 4.30964 7.64297C4.93476 7.01785 5.78261 6.66666 6.66666 6.66666H7.99999M12 6.66666H13.3333C14.2174 6.66666 15.0652 7.01785 15.6904 7.64297C16.3155 8.26809 16.6667 9.11593 16.6667 9.99999C16.6667 10.884 16.3155 11.7319 15.6904 12.357C15.0652 12.9821 14.2174 13.3333 13.3333 13.3333H12M7.33333 9.99999H12.6667",strokeLinecap:"square"})}),aH=()=>(0,h.jsx)("svg",{className:"icon icon--plus",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{className:"stroke",d:"M5.33333 9.99998H14.6667M9.99999 5.33331V14.6666",strokeLinecap:"square"})}),aq=()=>(0,h.jsx)("svg",{className:"icon icon--swap",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{className:"stroke",d:"M7.33334 4L4.66667 6.66667M4.66667 6.66667L7.33334 9.33333M4.66667 6.66667H15.3333M12.6667 16L15.3333 13.3333M15.3333 13.3333L12.6667 10.6667M15.3333 13.3333H4.66667",strokeLinecap:"square"})}),aK={};(0,p.d)(aK,{Button:()=>aQ,ButtonGroup:()=>aX,Divider:()=>aW,GroupLabel:()=>aG});var aW=()=>(0,h.jsx)("hr",{className:"popup-divider"}),aG=({label:e})=>(0,h.jsx)("p",{className:"popup-list-group-label",children:e}),aY="popup-button-list",aX=({buttonSize:e="default",children:t,className:r,textAlign:a="left"})=>{let n=[aY,r,`${aY}__text-align--${a}`,`${aY}__button-size--${e}`].filter(Boolean).join(" ");return(0,h.jsx)("div",{className:n,children:t})},aQ=({id:e,active:t,children:r,className:a,disabled:n,href:l,onClick:i})=>{let o=[`${aY}__button`,n&&`${aY}__disabled`,t&&`${aY}__button--selected`,a].filter(Boolean).join(" ");if(!n){if(l)return(0,h.jsx)(aL,{className:o,href:l,id:e,onClick:e=>{i&&i(e)},prefetch:!1,children:r});if(i)return(0,h.jsx)("button",{className:o,id:e,onClick:e=>{i&&i(e)},type:"button",children:r})}return(0,h.jsx)("div",{className:o,id:e,children:r})},aJ={};(0,p.d)(aJ,{WindowInfo:()=>a1,WindowInfoContext:()=>aZ,WindowInfoProvider:()=>a2,useWindowInfo:()=>a0,withWindowInfo:()=>a6});var aZ=(0,c.createContext)({}),a0=()=>(0,c.useContext)(aZ),a1=e=>{let{children:t}=e,r=a0();return t?"function"==typeof t?c.default.createElement(c.Fragment,null,t(r)):c.default.createElement(c.Fragment,null,t):null},a3=(e,t)=>{let{payload:{breakpoints:r,animationRef:a}}=t;a.current=null;let{eventsFired:n}=e,{documentElement:{style:l,clientWidth:i,clientHeight:o}}=document,{innerWidth:s,innerHeight:c}=window,u=`${i/100}px`,d=`${o/100}px`,f=r?Object.keys(r).reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:window.matchMedia(r[t]).matches}),{}):{};return l.setProperty("--vw",u),l.setProperty("--vh",d),{width:s,height:c,"--vw":u,"--vh":d,breakpoints:f,eventsFired:n+1}},a2=e=>{let{breakpoints:t,children:r}=e,a=(0,c.useRef)(null),[n,l]=(0,c.useReducer)(a3,{width:void 0,height:void 0,"--vw":"","--vh":"",breakpoints:{},eventsFired:0}),i=(0,c.useCallback)(()=>{a.current&&cancelAnimationFrame(a.current),a.current=requestAnimationFrame(()=>l({type:"UPDATE",payload:{breakpoints:t,animationRef:a}}))},[t]),o=(0,c.useCallback)(()=>{setTimeout(()=>{i()},500)},[i]);return(0,c.useEffect)(()=>(window.addEventListener("resize",i),window.addEventListener("orientationchange",o),()=>{window.removeEventListener("resize",i),window.removeEventListener("orientationchange",o)}),[i,o]),(0,c.useEffect)(()=>{0===n.eventsFired&&l({type:"UPDATE",payload:{breakpoints:t,animationRef:a}})},[t,n]),c.default.createElement(aZ.Provider,{value:Object.assign({},n)},r&&r)},a6=e=>t=>{let r=a0();return c.default.createElement(e,Object.assign({},t,{windowInfo:r}))},a5=(e,t)=>{let r,a=(0,v.c)(8),{root:n,rootMargin:l,threshold:i}=void 0===e?{}:e,[o,s]=(0,c.useState)(),[u,d]=(0,c.useState)(null),f=(0,c.useRef)("u">typeof window&&"IntersectionObserver"in window&&!t?new window.IntersectionObserver(e=>{let[t]=e;return s(t)},{root:void 0===n?null:n,rootMargin:void 0===l?"0px":l,threshold:void 0===i?0:i}):null),p,h;return a[0]!==t||a[1]!==u?(p=()=>{if(t)return;let{current:e}=f;return e.disconnect(),u&&e.observe(u),()=>e.disconnect()},h=[u,t],a[0]=t,a[1]=u,a[2]=p,a[3]=h):(p=a[2],h=a[3]),(0,c.useEffect)(p,h),a[4]!==o||a[5]!==u||a[6]!==d?(r=[d,o,u],a[4]=o,a[5]=u,a[6]=d,a[7]=r):r=a[7],r},a4="popup-button",a8=e=>{let t,r,a=(0,v.c)(24),{active:n,button:l,buttonType:i,className:o,disabled:s,noBackground:c,setActive:u,size:d}=e,f=`${a4}--${i}`,p=!c&&`${a4}--background`,m=d&&`${a4}--size-${d}`,g=s&&`${a4}--disabled`,b;a[0]!==o||a[1]!==f||a[2]!==p||a[3]!==m||a[4]!==g?(b=[a4,o,f,p,m,g].filter(Boolean),a[0]=o,a[1]=f,a[2]=p,a[3]=m,a[4]=g,a[5]=b):b=a[5];let y=b.join(" "),x;a[6]!==n||a[7]!==u?(x=()=>{u(!n)},a[6]=n,a[7]=u,a[8]=x):x=a[8];let w=x;if("none"===i)return null;if("custom"===i){let e,t;return a[9]!==w?(e=e=>{"Enter"===e.key&&w()},a[9]=w,a[10]=e):e=a[10],a[11]!==l||a[12]!==y||a[13]!==w||a[14]!==e?(t=(0,h.jsx)("div",{className:y,onClick:w,onKeyDown:e,role:"button",tabIndex:0,children:l}),a[11]=l,a[12]=y,a[13]=w,a[14]=e,a[15]=t):t=a[15],t}return a[16]!==w?(t=e=>{"Enter"===e.key&&w()},a[16]=w,a[17]=t):t=a[17],a[18]!==l||a[19]!==y||a[20]!==s||a[21]!==w||a[22]!==t?(r=(0,h.jsx)("button",{className:y,disabled:s,onClick:w,onKeyDown:t,tabIndex:0,type:"button",children:l}),a[18]=l,a[19]=y,a[20]=s,a[21]=w,a[22]=t,a[23]=r):r=a[23],r},a9="popup",a7=e=>{let{id:t,boundingRef:r,button:a,buttonClassName:n,buttonSize:l,buttonType:i="default",caret:o=!0,children:s,className:u,disabled:d,forceOpen:f,horizontalAlign:p="left",initActive:m=!1,noBackground:g,onToggleClose:b,onToggleOpen:v,render:y,showOnHover:x=!1,showScrollbar:w=!1,size:j="medium",verticalAlign:C="top"}=e,{height:S,width:$}=a0(),[_,k]=a5({root:r?.current||null,rootMargin:"-100px 0px 0px 0px",threshold:1}),E=(0,c.useRef)(null),N=(0,c.useRef)(null),[P,D]=(0,c.useState)(m),[T,O]=(0,c.useState)(C),[R,A]=(0,c.useState)(p),I=c.default.useCallback(e=>{e&&"function"==typeof v&&v(!0),e||"function"!=typeof b||b(),D(e)},[b,v]),M=(0,c.useCallback)(({horizontal:e=!1,vertical:t=!1})=>{if(E.current){let{bottom:a,left:n,right:l,top:i}=E.current.getBoundingClientRect(),o=100,s=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=0;r?.current&&({bottom:c,left:u,right:s,top:o}=r.current.getBoundingClientRect()),e&&(l>s&&n>u?A("right"):n<u&&l<s&&A("left")),t&&(i<o&&a<c?O("bottom"):a>c&&i>o&&O("top"))}},[r]),L=(0,c.useCallback)(e=>{E.current.contains(e.target)||N.current.contains(e.target)||I(!1)},[E,I]);(0,c.useEffect)(()=>{M({horizontal:!0})},[k,M,$]),(0,c.useEffect)(()=>{M({vertical:!0})},[k,M,S]),(0,c.useEffect)(()=>(P?document.addEventListener("mousedown",L):document.removeEventListener("mousedown",L),()=>{document.removeEventListener("mousedown",L)}),[P,L,v]),(0,c.useEffect)(()=>{I(f)},[f,I]);let F=[a9,u,`${a9}--size-${j}`,l&&`${a9}--button-size-${l}`,`${a9}--v-align-${T}`,`${a9}--h-align-${R}`,P&&`${a9}--active`,w&&`${a9}--show-scrollbar`].filter(Boolean).join(" ");return(0,h.jsxs)("div",{className:F,id:t,children:[(0,h.jsx)("div",{className:`${a9}__trigger-wrap`,ref:N,children:x?(0,h.jsx)("div",{className:`${a9}__on-hover-watch`,onMouseEnter:()=>I(!0),onMouseLeave:()=>I(!1),role:"button",tabIndex:0,children:(0,h.jsx)(a8,{active:P,button:a,buttonType:i,className:n,disabled:d,noBackground:g,setActive:I,size:l})}):(0,h.jsx)(a8,{active:P,button:a,buttonType:i,className:n,disabled:d,noBackground:g,setActive:I,size:l})}),(0,h.jsxs)("div",{className:`${a9}__content`,ref:E,children:[(0,h.jsx)("div",{className:`${a9}__hide-scrollbar`,ref:_,children:(0,h.jsx)("div",{className:`${a9}__scroll-container`,children:(0,h.jsxs)("div",{className:`${a9}__scroll-content`,children:[y&&y({close:()=>I(!1)}),s]})})}),o&&(0,h.jsx)("div",{className:`${a9}__caret`})]})]})},ne=e=>{let{alignCaret:t="center",boundingRef:r,children:a,className:n,delay:l=350,position:i,show:o=!0,staticPositioning:s=!1}=e,[u,d]=c.default.useState(o),[f,p]=c.default.useState("top"),[m,g]=a5({root:r?.current||null,rootMargin:"-145px 0px 0px 100px",threshold:0},s);return(0,c.useEffect)(()=>{let e;return l&&o?e=setTimeout(()=>{d(o)},l):d(o),()=>{e&&clearTimeout(e)}},[o,l]),(0,c.useEffect)(()=>{s||p(g?.isIntersecting?"top":"bottom")},[g,s]),(0,h.jsxs)(c.default.Fragment,{children:[!s&&(0,h.jsx)("aside",{"aria-hidden":"true",className:["tooltip",n,`tooltip--caret-${t}`,"tooltip--position-top"].filter(Boolean).join(" "),ref:m,style:{opacity:"0"},children:(0,h.jsx)("div",{className:"tooltip-content",children:a})}),(0,h.jsx)("aside",{className:["tooltip",n,u&&"tooltip--show",`tooltip--caret-${t}`,`tooltip--position-${i||f}`].filter(Boolean).join(" "),title:"string"==typeof a?a:"",children:(0,h.jsx)("div",{className:"tooltip-content",children:a})})]})},nt={chevron:az,edit:aU,link:aV,plus:aH,swap:aq,x:f.a},nr=({children:e,icon:t,showTooltip:r,tooltip:a})=>{let n=nt[t];return(0,h.jsxs)(c.Fragment,{children:[a&&(0,h.jsx)(ne,{className:"btn__tooltip",show:r,children:a}),(0,h.jsxs)("span",{className:"btn__content",children:[e&&(0,h.jsx)("span",{className:"btn__label",children:e}),t&&(0,h.jsxs)("span",{className:"btn__icon",children:[(0,c.isValidElement)(t)&&t,n&&(0,h.jsx)(n,{})]})]})]})},na=e=>{let{id:t,type:r="button","aria-label":a,buttonStyle:n="primary",children:l,className:i,disabled:o,el:s="button",enableSubMenu:u,extraButtonProps:d={},icon:f,iconPosition:p="right",iconStyle:m="without-border",margin:g=!0,newTab:b,onClick:v,onMouseDown:y,ref:x,round:w,size:j="medium",SubMenuPopupContent:C,to:S,tooltip:$,url:_}=e,[k,E]=c.default.useState(!1),N=["btn",i&&i,f&&"btn--icon",m&&`btn--icon-style-${m}`,f&&!l&&"btn--icon-only",j&&`btn--size-${j}`,f&&p&&`btn--icon-position-${p}`,$&&"btn--has-tooltip",!C&&"btn--withoutPopup",!g&&"btn--no-margin"].filter(Boolean).join(" "),P=[n&&`btn--style-${n}`,o&&"btn--disabled",w&&"btn--round",C?"btn--withPopup":"btn--withoutPopup"].filter(Boolean).join(" "),D={id:t,type:r,"aria-disabled":o,"aria-label":a,className:C?N:[N,P].join(" "),disabled:o,onClick:o?void 0:function(e){E(!1),"submit"!==r&&v&&e.preventDefault(),v&&v(e)},onMouseDown:o?void 0:y,onPointerEnter:$?()=>E(!0):void 0,onPointerLeave:$?()=>E(!1):void 0,rel:b?"noopener noreferrer":void 0,target:b?"_blank":void 0,title:a,...d},T;switch(s){case"anchor":T=(0,h.jsx)("a",{...D,href:o?void 0:_,ref:x,children:(0,h.jsx)(nr,{icon:f,showTooltip:k,tooltip:$,children:l})});break;case"link":o&&(T=(0,h.jsx)("div",{...D,children:(0,h.jsx)(nr,{icon:f,showTooltip:k,tooltip:$,children:l})})),T=(0,h.jsx)(aL,{...D,href:S||_,prefetch:!1,children:(0,h.jsx)(nr,{icon:f,showTooltip:k,tooltip:$,children:l})});break;default:T=(0,h.jsx)(s,{ref:x,...D,children:(0,h.jsx)(nr,{icon:f,showTooltip:k,tooltip:$,children:l})})}return C?(0,h.jsxs)("div",{className:P,children:[T,(0,h.jsx)(a7,{button:(0,h.jsx)(az,{}),buttonSize:j,className:o&&!u?"btn--popup-disabled":"",disabled:o&&!u,horizontalAlign:"right",id:`${t}-popup`,noBackground:!0,render:({close:e})=>C({close:()=>e()}),size:"large",verticalAlign:"bottom"})]}):T};function nn({fieldsFromClipboard:e,fieldsFromConfig:t}){return!!t&&e.length===t?.length&&e.every((e,r)=>{let a=t[r];if(e.type!==a.type||E(e)&&E(a)&&e.name!==a.name)return!1;let n=y(a),l=y(e);return l===n&&(!l||!n||nn({fieldsFromClipboard:e.fields,fieldsFromConfig:a.fields}))})}var nl="_payloadClipboard";function ni(e){let{getDataToCopy:t,t:r,...a}=e,n={data:t(),...a};try{return localStorage.setItem(nl,JSON.stringify(n)),!0}catch{return r("error:unableToCopy")}}function no({onPaste:e,path:t,t:r,...a}){let n;try{let e=localStorage.getItem(nl);if(!e)return r("error:invalidClipboardData");n=JSON.parse(e)}catch{return r("error:invalidClipboardData")}return!function({data:e,path:t,...r}){return!(typeof e>"u")&&!!t&&!!r.type&&("blocks"===r.type?function({blocksFromClipboard:e,blocksFromConfig:t}){let r=new Map(t?.map(e=>[e.slug,e]));if(!r.size)return!1;let a=new Set;for(let t of e){let e=t.slug;if(!a.has(e)){let n=r.get(e);if(!n||!nn({fieldsFromClipboard:t.fields,fieldsFromConfig:n.fields}))return!1;a.add(e)}}return!0}({blocksFromClipboard:r.blocks,blocksFromConfig:r.schemaBlocks}):nn({fieldsFromClipboard:r.fields,fieldsFromConfig:r.schemaFields}))}({...n,...a,fieldPath:t})?r("error:invalidClipboardData"):(e(n),!0)}var ns=({className:e})=>(0,h.jsxs)("svg",{className:["icon icon--more",e].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{className:"fill",d:"M10 10.6666C10.3682 10.6666 10.6667 10.3682 10.6667 9.99998C10.6667 9.63179 10.3682 9.33331 10 9.33331C9.63182 9.33331 9.33334 9.63179 9.33334 9.99998C9.33334 10.3682 9.63182 10.6666 10 10.6666Z",strokeLinecap:"square"}),(0,h.jsx)("path",{className:"fill",d:"M14.6667 10.6666C15.0349 10.6666 15.3333 10.3682 15.3333 9.99998C15.3333 9.63179 15.0349 9.33331 14.6667 9.33331C14.2985 9.33331 14 9.63179 14 9.99998C14 10.3682 14.2985 10.6666 14.6667 10.6666Z",strokeLinecap:"square"}),(0,h.jsx)("path",{className:"fill",d:"M5.33334 10.6666C5.70153 10.6666 6.00001 10.3682 6.00001 9.99998C6.00001 9.63179 5.70153 9.33331 5.33334 9.33331C4.96515 9.33331 4.66667 9.63179 4.66667 9.99998C4.66667 10.3682 4.96515 10.6666 5.33334 10.6666Z",strokeLinecap:"square"})]}),nc=()=>(0,h.jsx)("svg",{className:"icon icon--copy",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{className:"stroke",d:"M4.66666 12.6667C3.93333 12.6667 3.33333 12.0667 3.33333 11.3333V4.66668C3.33333 3.93334 3.93333 3.33334 4.66666 3.33334H11.3333C12.0667 3.33334 12.6667 3.93334 12.6667 4.66668M8.66666 7.33334H15.3333C16.0697 7.33334 16.6667 7.9303 16.6667 8.66668V15.3333C16.6667 16.0697 16.0697 16.6667 15.3333 16.6667H8.66666C7.93028 16.6667 7.33333 16.0697 7.33333 15.3333V8.66668C7.33333 7.9303 7.93028 7.33334 8.66666 7.33334Z",strokeLinecap:"square"})}),nu=e=>{let t=(0,v.c)(4),{isPaste:r,isRow:a}=e,{t:n}=(0,f.d)(),l;if(t[0]!==r||t[1]!==a||t[2]!==n){let e=n("general:copyField");!a&&r?e=n("general:pasteField"):a&&!r?e=n("general:copyRow"):a&&r&&(e=n("general:pasteRow")),l=(0,h.jsxs)(c.Fragment,{children:[r?(0,h.jsx)(aU,{}):(0,h.jsx)(nc,{})," ",e]}),t[0]=r,t[1]=a,t[2]=n,t[3]=l}else l=t[3];return l},nd=({allowCopy:e,allowPaste:t,className:r,copyClassName:a,disabled:n,isRow:l,onPaste:i,pasteClassName:o,path:s,...u})=>{let{t:d}=(0,f.d)(),p=["clipboard-action__popup",r].filter(Boolean).join(" "),m=(0,c.useCallback)(()=>{let e=ni({path:s,t:d,...u});"string"==typeof e?a_.error(e):a_.success(d("general:copied"))},[d,u,s]),g=(0,c.useCallback)(()=>{let e=no("array"===u.type?{onPaste:i,path:s,schemaFields:u.fields,t:d}:{onPaste:i,path:s,schemaBlocks:u.blocks,t:d});"string"==typeof e&&a_.error(e)},[i,u,s,d]);return t||e?(0,h.jsx)(a7,{button:(0,h.jsx)(ns,{}),className:p,disabled:n,horizontalAlign:"center",render:({close:r})=>(0,h.jsxs)(aK.ButtonGroup,{children:[(0,h.jsx)(aK.Button,{className:a,disabled:!e,onClick:()=>{m(),r()},children:(0,h.jsx)(nu,{isRow:l})}),(0,h.jsx)(aK.Button,{className:o,disabled:!t,onClick:()=>{g(),r()},children:(0,h.jsx)(nu,{isPaste:!0,isRow:l})})]}),size:"large",verticalAlign:"bottom"}):null};function nf({formState:e,path:t,rowIndex:r}){let a={},n="number"!=typeof r?t:`${t}.${r}`;for(let t in e){if(!t.startsWith(n))continue;let{customComponents:r,validate:l,...i}=e[t];Array.isArray(i.rows)&&(i.rows=i.rows.map(e=>{if(!e||"object"!=typeof e)return e;let{customComponents:t,...r}=e;return r})),a[t]=i}return a}function np({dataFromClipboard:e,formState:t,path:r,rowIndex:a}){let n,{type:l,data:i,path:o,rowIndex:s}=e,c="number"!=typeof s,u="number"!=typeof a,d=!c&&u,f="array"===l,p;if(p=c&&u?o:c?`${o}.${a}`:`${o}.${s}`,n=u?d?`${r}.0`:r:`${r}.${a}`,d){let e=`${r}.0`,a=i[`${p}.id`].value,n=t[r].rows?.length;for(let l in t[r].rows=[{...n&&f?t[r].rows[0]:{},id:a,isLoading:!1,lastRenderedPath:e}],t[r].value=1,t[r].initialValue=1,t[r].disableFormData=!0,t)l!==r&&!l.startsWith(e)&&l.startsWith(r)&&delete t[l]}for(let e in i){if(!u&&e.endsWith(".id")||!e.startsWith(p))continue;let r=e.replace(p,n),a=f?t[r]?.customComponents:void 0,l=f?t[r]?.validate:void 0;t[r]={customComponents:a,validate:l,...i[e]}}return t}function nh(e){var t,r;let a;return e?"[object Window]"===(a=Object.prototype.toString.call(e))||"[object global]"===a?e:"nodeType"in e&&null!=(t=null==(r=e.ownerDocument)?void 0:r.defaultView)?t:window:window}var nm="u">typeof window&&"u">typeof window.document&&"u">typeof window.document.createElement?c.useLayoutEffect:c.useEffect,ng={},nb=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return r.reduce((e,t)=>{for(let[r,a]of Object.entries(t)){let t=e[r];null!=t&&(e[r]=t+-1*a)}return e},{...e})},nv=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[nv.Translate.toString(e),nv.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:a}=e;return t+" "+r+"ms "+a}}});function ny(e,t,r){let a=e.slice();return a.splice(r<0?a.length+r:r,0,a.splice(t,1)[0]),a}function nx(e){return null!==e&&e>=0}var nw=e=>{let{rects:t,activeIndex:r,overIndex:a,index:n}=e,l=ny(t,a,r),i=t[n],o=l[n];return o&&i?{x:o.left-i.left,y:o.top-i.top,scaleX:o.width/i.width,scaleY:o.height/i.height}:null},nj="Sortable",nC=c.default.createContext({activeIndex:-1,containerId:nj,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:nw,disabled:{draggable:!1,droppable:!1}});function nS(e){let{children:t,id:r,items:a,strategy:n=nw,disabled:l=!1}=e,{active:i,dragOverlay:o,droppableRects:s,over:u,measureDroppableContainers:d}=tg(),f=(0,c.useMemo)(()=>{if(r)return r;let e=null==ng[nj]?0:ng[nj]+1;return ng[nj]=e,nj+"-"+e},[nj,r]),p=null!==o.rect,h=(0,c.useMemo)(()=>a.map(e=>"object"==typeof e&&"id"in e?e.id:e),[a]),m=null!=i,g=i?h.indexOf(i.id):-1,b=u?h.indexOf(u.id):-1,v=(0,c.useRef)(h),y=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(h,v.current),x=-1!==b&&-1===g||y,w="boolean"==typeof l?{draggable:l,droppable:l}:l;nm(()=>{y&&m&&d(h)},[y,h,m,d]),(0,c.useEffect)(()=>{v.current=h},[h]);let j=(0,c.useMemo)(()=>({activeIndex:g,containerId:f,disabled:w,disableTransforms:x,items:h,overIndex:b,useDragOverlay:p,sortedRects:h.reduce((e,t,r)=>{let a=s.get(t);return a&&(e[r]=a),e},Array(h.length)),strategy:n}),[g,f,w.draggable,w.droppable,x,h,b,s,p,n]);return c.default.createElement(nC.Provider,{value:j},t)}var n$=e=>{let{id:t,items:r,activeIndex:a,overIndex:n}=e;return ny(r,a,n).indexOf(t)},n_=e=>{let{containerId:t,isSorting:r,wasDragging:a,index:n,items:l,newIndex:i,previousItems:o,previousContainerId:s,transition:c}=e;return!!c&&!!a&&(o===l||n!==i)&&(!!r||i!==n&&t===s)},nk={duration:200,easing:"ease"},nE="transform",nN=nv.Transition.toString({property:nE,duration:0,easing:"linear"}),nP={roleDescription:"sortable"};function nD(e){if(!e)return!1;let t=e.data.current;return!!(t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}var nT=[lA.Down,lA.Right,lA.Up,lA.Left],nO=(e,t)=>{let{context:{active:r,collisionRect:a,droppableRects:n,droppableContainers:l,over:i,scrollableAncestors:o}}=t;if(nT.includes(e.code)){if(e.preventDefault(),!r||!a)return;let t=[];l.getEnabled().forEach(r=>{if(!r||null!=r&&r.disabled)return;let l=n.get(r.id);if(l)switch(e.code){case lA.Down:a.top<l.top&&t.push(r);break;case lA.Up:a.top>l.top&&t.push(r);break;case lA.Left:a.left>l.left&&t.push(r);break;case lA.Right:a.left<l.left&&t.push(r)}});let u=(e=>{let{collisionRect:t,droppableRects:r,droppableContainers:a}=e,n=em(t),l=[];for(let e of a){let{id:t}=e,a=r.get(t);if(a){let r=em(a),i=Number((n.reduce((e,t,a)=>e+ef(r[a],t),0)/4).toFixed(4));l.push({id:t,data:{droppableContainer:e,value:i}})}}return l.sort(ep)})({active:r,collisionRect:a,droppableRects:n,droppableContainers:t,pointerCoordinates:null}),d=eg(u,"id");if(d===i?.id&&u.length>1&&(d=u[1].id),null!=d){let e=l.get(r.id),t=l.get(d),i=t?n.get(t.id):null,u=t?.node.current;if(u&&i&&e&&t){var s,c;let r=ek(u).some((e,t)=>o[t]!==e),n=nR(e,t),l=(s=e,c=t,!!nD(s)&&!!nD(c)&&!!nR(s,c)&&s.data.current.sortable.index<c.data.current.sortable.index),d=r||!n?{x:0,y:0}:{x:l?a.width-i.width:0,y:l?a.height-i.height:0},f={x:i.left,y:i.top};return d.x&&d.y?f:nb(f,d)}}}};function nR(e,t){return!!nD(e)&&!!nD(t)&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}var nA=e=>{let t,r,a=(0,v.c)(17),{id:n,disabled:l}=e,i;a[0]===Symbol.for("react.memo_cache_sentinel")?(i={duration:250,easing:"cubic-bezier(0, 0.2, 0.2, 1)"},a[0]=i):i=a[0],a[1]!==l||a[2]!==n?(t={id:n,disabled:l,transition:i},a[1]=l,a[2]=n,a[3]=t):t=a[3];let{attributes:o,isDragging:s,listeners:u,setNodeRef:d,transform:f,transition:p}=function(e){var t,r,a,n;let{animateLayoutChanges:l=n_,attributes:i,disabled:o,data:s,getNewIndex:u=n$,id:d,strategy:f,resizeObserverConfig:p,transition:h=nk}=e,{items:m,containerId:g,activeIndex:b,disabled:v,disableTransforms:y,sortedRects:x,overIndex:w,useDragOverlay:j,strategy:C}=(0,c.useContext)(nC),S=(t=o,r=v,"boolean"==typeof t?{draggable:t,droppable:!1}:{draggable:null!=(a=t?.draggable)?a:r.draggable,droppable:null!=(n=t?.droppable)?n:r.droppable}),$=m.indexOf(d),_=(0,c.useMemo)(()=>({sortable:{containerId:g,index:$,items:m},...s}),[g,s,$,m]),k=(0,c.useMemo)(()=>m.slice(m.indexOf(d)),[m,d]),{rect:E,node:N,isOver:P,setNodeRef:D}=tv({id:d,data:_,disabled:S.droppable,resizeObserverConfig:{updateMeasurementsFor:k,...p}}),{active:T,activatorEvent:O,activeNodeRect:R,attributes:A,setNodeRef:I,listeners:M,isDragging:L,over:F,setActivatorNodeRef:B,transform:z}=tm({id:d,data:_,attributes:{...nP,...i},disabled:S.draggable}),U=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,c.useMemo)(()=>e=>{t.forEach(t=>t(e))},t)}(D,I),V=!!T,H=V&&!y&&nx(b)&&nx(w),q=!j&&L,K=H?(q&&H?z:null)??(f??C)({rects:x,activeNodeRect:R,activeIndex:b,overIndex:w,index:$}):null,W=nx(b)&&nx(w)?u({id:d,items:m,activeIndex:b,overIndex:w}):$,G=T?.id,Y=(0,c.useRef)({activeId:G,items:m,newIndex:W,containerId:g}),X=m!==Y.current.items,Q=l({active:T,containerId:g,isDragging:L,isSorting:V,id:d,index:$,items:m,newIndex:Y.current.newIndex,previousItems:Y.current.items,previousContainerId:Y.current.containerId,transition:h,wasDragging:null!=Y.current.activeId}),J=function(e){let{disabled:t,index:r,node:a,rect:n}=e,[l,i]=(0,c.useState)(null),o=(0,c.useRef)(r);return nm(()=>{if(!t&&r!==o.current&&a.current){let e=n.current;if(e){let t=e$(a.current,{ignoreTransform:!0}),r={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(r.x||r.y)&&i(r)}}r!==o.current&&(o.current=r)},[t,r,a,n]),(0,c.useEffect)(()=>{l&&i(null)},[l]),l}({disabled:!Q,index:$,node:N,rect:E});return(0,c.useEffect)(()=>{V&&Y.current.newIndex!==W&&(Y.current.newIndex=W),g!==Y.current.containerId&&(Y.current.containerId=g),m!==Y.current.items&&(Y.current.items=m)},[V,W,g,m]),(0,c.useEffect)(()=>{if(G===Y.current.activeId)return;if(G&&!Y.current.activeId){Y.current.activeId=G;return}let e=setTimeout(()=>{Y.current.activeId=G},50);return()=>clearTimeout(e)},[G]),{active:T,activeIndex:b,attributes:A,data:_,rect:E,index:$,newIndex:W,items:m,isOver:P,isSorting:V,isDragging:L,listeners:M,node:N,overIndex:w,over:F,setNodeRef:U,setActivatorNodeRef:B,setDroppableNodeRef:D,setDraggableNodeRef:I,transform:J??K,transition:J||X&&Y.current.newIndex===$?nN:!(q&&!function(e){if(!e)return!1;let{KeyboardEvent:t}=nh(e.target);return t&&e instanceof t}(O)||!h)&&(V||Q)?nv.Transition.toString({...h,property:nE}):void 0}}(t),h=s?"grabbing":"grab",m;a[4]!==h||a[5]!==p?(m={cursor:h,transition:p},a[4]=h,a[5]=p,a[6]=m):m=a[6],a[7]!==o||a[8]!==m?(r={...o,style:m},a[7]=o,a[8]=m,a[9]=r):r=a[9];let g=f&&`translate3d(${f.x}px, ${f.y}px, 0)`,b;return a[10]!==s||a[11]!==u||a[12]!==d||a[13]!==r||a[14]!==g||a[15]!==p?(b={attributes:r,isDragging:s,listeners:u,setNodeRef:d,transform:g,transition:p},a[10]=s,a[11]=u,a[12]=d,a[13]=r,a[14]=g,a[15]=p,a[16]=b):b=a[16],b},nI=e=>{let t=(0,v.c)(12),{id:r,children:a,disabled:n}=e,l;t[0]!==n||t[1]!==r?(l={id:r,disabled:n},t[0]=n,t[1]=r,t[2]=l):l=t[2];let{attributes:i,isDragging:o,listeners:s,setNodeRef:u,transform:d,transition:f}=nA(l),p=o?"grabbing":"grab",m;return t[3]!==i||t[4]!==a||t[5]!==o||t[6]!==s||t[7]!==u||t[8]!==p||t[9]!==d||t[10]!==f?(m=(0,h.jsx)(c.Fragment,{children:a({attributes:{...i,style:{cursor:p}},isDragging:o,listeners:s,setNodeRef:u,transform:d,transition:f})}),t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=u,t[8]=p,t[9]=d,t[10]=f,t[11]=m):m=t[11],m},nM=e=>{let t,r=(0,v.c)(18),{children:a,className:n,ids:l,onDragEnd:i,onDragStart:o}=e,s=(0,c.useId)(),u;r[0]!==s?(u={id:s},r[0]=s,r[1]=u):u=r[1];let{setNodeRef:d}=tv(u),f;r[2]===Symbol.for("react.memo_cache_sentinel")?(f={activationConstraint:{distance:5}},r[2]=f):f=r[2],r[3]===Symbol.for("react.memo_cache_sentinel")?(t={coordinateGetter:nO},r[3]=t):t=r[3];let p=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,c.useMemo)(()=>[...t].filter(e=>null!=e),[...t])}(eu(eQ,f),eu(eK,t)),m;r[4]!==l||r[5]!==i?(m=e=>{let{active:t,over:r}=e;e.activatorEvent.stopPropagation(),t&&r&&"function"==typeof i&&i({event:e,moveFromIndex:l.findIndex(e=>e===t.id),moveToIndex:l.findIndex(e=>e===r.id)})},r[4]=l,r[5]=i,r[6]=m):m=r[6];let g=m,b;r[7]!==o?(b=e=>{let{active:t}=e;t&&"function"==typeof o&&o({id:t.id,event:e})},r[7]=o,r[8]=b):b=r[8];let y=b,x;return r[9]!==a||r[10]!==n||r[11]!==g||r[12]!==y||r[13]!==s||r[14]!==l||r[15]!==p||r[16]!==d?(x=(0,h.jsx)(tf,{collisionDetection:ev,id:s,onDragEnd:g,onDragStart:y,sensors:p,children:(0,h.jsx)(nS,{items:l,children:(0,h.jsx)("div",{className:n,ref:d,children:a})})}),r[9]=a,r[10]=n,r[11]=g,r[12]=y,r[13]=s,r[14]=l,r[15]=p,r[16]=d,r[17]=x):x=r[17],x},nL="error-pill",nF=e=>{let{className:t,count:r,i18n:a,withMessage:n}=e,l=[nL,!n&&r<99&&`${nL}--fixed-width`,t&&t].filter(Boolean).join(" ");return 0===r?null:(0,h.jsx)("div",{className:l,children:(0,h.jsxs)("div",{className:`${nL}__content`,children:[(0,h.jsx)("span",{className:`${nL}__count`,children:r}),n&&` ${r>1?a.t("general:errors"):a.t("general:error")}`]})})},nB="field-description",nz=e=>{let t=(0,v.c)(8),{className:r,description:a,marginPlacement:n,path:l}=e,{i18n:i}=(0,f.d)();if(a){let e=`field-description-${l?.replace(/\./g,"__")}`,o=n&&`${nB}--margin-${n}`,s;t[0]!==r||t[1]!==e||t[2]!==o?(s=[nB,r,e,o].filter(Boolean),t[0]=r,t[1]=e,t[2]=o,t[3]=s):s=t[3];let c=s.join(" "),u;return t[4]!==a||t[5]!==i||t[6]!==c?(u=(0,h.jsx)("div",{className:c,children:m(a,i)}),t[4]=a,t[5]=i,t[6]=c,t[7]=u):u=t[7],u}return null},nU=e=>{let t=(0,v.c)(8),{alignCaret:r,message:a,path:n,showError:l}=e,i=void 0===r?"right":r,o=al(),s;t[0]!==n?(s=e=>{let[t]=e;return t&&t?.[n]||null},t[0]=n,t[1]=s):s=t[1];let c=au(s),u;if(t[2]!==i||t[3]!==c||t[4]!==o||t[5]!==a||t[6]!==l){u=Symbol.for("react.early_return_sentinel");e:{let{errorMessage:e,valid:t}=c||{},r=a||e;if((l||o&&!1===t)&&r?.length){u=(0,h.jsx)(ne,{alignCaret:i,className:"field-error",delay:0,staticPositioning:!0,children:r});break e}}t[2]=i,t[3]=c,t[4]=o,t[5]=a,t[6]=l,t[7]=u}else u=t[7];return u!==Symbol.for("react.early_return_sentinel")?u:null},nV=(0,c.createContext)(0),nH=e=>{let t=(0,v.c)(3),{children:r}=e,a=nq()+1,n;return t[0]!==r||t[1]!==a?(n=(0,h.jsx)(nV,{value:a,children:r}),t[0]=r,t[1]=a,t[2]=n):n=t[2],n},nq=()=>(0,c.use)(nV),nK=(e,t)=>e?.locales&&0!==e.locales.length?e.locales.find(e=>e?.code===t):null;function nW(){return(nW=Object.assign.bind()).apply(null,arguments)}function nG(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(t.includes(a))continue;r[a]=e[a]}return r}function nY(e,t){return(nY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function nX(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,nY(e,t)}function nQ(e,t){return e.replace(RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var nJ=c.default.createContext(null),nZ=function(e){return e.scrollTop},n0="unmounted",n1="exited",n3="entering",n2="entered",n6="exiting",n5=function(e){function t(t,r){var a,n=e.call(this,t,r)||this,l=r&&!r.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?l?(a=n1,n.appearStatus=n3):a=n2:a=t.unmountOnExit||t.mountOnEnter?n0:n1,n.state={status:a},n.nextCallback=null,n}nX(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===n0?{status:n1}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==n3&&r!==n2&&(t=n3):(r===n3||r===n2)&&(t=n6)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,r,a=this.props.timeout;return e=t=r=a,null!=a&&"number"!=typeof a&&(e=a.exit,t=a.enter,r=void 0!==a.appear?a.appear:t),{exit:e,enter:t,appear:r}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===n3){if(this.props.unmountOnExit||this.props.mountOnEnter){var r=this.props.nodeRef?this.props.nodeRef.current:u.default.findDOMNode(this);r&&nZ(r)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===n1&&this.setState({status:n0})},r.performEnter=function(e){var t=this,r=this.props.enter,a=this.context?this.context.isMounting:e,n=this.props.nodeRef?[a]:[u.default.findDOMNode(this),a],l=n[0],i=n[1],o=this.getTimeouts(),s=a?o.appear:o.enter;(e||r)&&1?(this.props.onEnter(l,i),this.safeSetState({status:n3},function(){t.props.onEntering(l,i),t.onTransitionEnd(s,function(){t.safeSetState({status:n2},function(){t.props.onEntered(l,i)})})})):this.safeSetState({status:n2},function(){t.props.onEntered(l)})},r.performExit=function(){var e=this,t=this.props.exit,r=this.getTimeouts(),a=this.props.nodeRef?void 0:u.default.findDOMNode(this);t?(this.props.onExit(a),this.safeSetState({status:n6},function(){e.props.onExiting(a),e.onTransitionEnd(r.exit,function(){e.safeSetState({status:n1},function(){e.props.onExited(a)})})})):this.safeSetState({status:n1},function(){e.props.onExited(a)})},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(a){r&&(r=!1,t.nextCallback=null,e(a))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var r=this.props.nodeRef?this.props.nodeRef.current:u.default.findDOMNode(this),a=null==e&&!this.props.addEndListener;if(!r||a)return void setTimeout(this.nextCallback,0);if(this.props.addEndListener){var n=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],l=n[0],i=n[1];this.props.addEndListener(l,i)}null!=e&&setTimeout(this.nextCallback,e)},r.render=function(){var e=this.state.status;if(e===n0)return null;var t=this.props,r=t.children,a=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,nG(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return c.default.createElement(nJ.Provider,{value:null},"function"==typeof r?r(e,a):c.default.cloneElement(c.default.Children.only(r),a))},t}(c.default.Component);function n4(){}n5.contextType=nJ,n5.propTypes={},n5.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:n4,onEntering:n4,onEntered:n4,onExit:n4,onExiting:n4,onExited:n4},n5.UNMOUNTED=n0,n5.EXITED=n1,n5.ENTERING=n3,n5.ENTERED=n2,n5.EXITING=n6;var n8=function(e,t){return e&&t&&t.split(" ").forEach(function(t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=nQ(e.className,t):e.setAttribute("class",nQ(e.className&&e.className.baseVal||"",t))})},n9=function(e){function t(){for(var t,r=arguments.length,a=Array(r),n=0;n<r;n++)a[n]=arguments[n];return(t=e.call.apply(e,[this].concat(a))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,r){var a=t.resolveArguments(e,r),n=a[0],l=a[1];t.removeClasses(n,"exit"),t.addClass(n,l?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,r)},t.onEntering=function(e,r){var a=t.resolveArguments(e,r),n=a[0],l=a[1];t.addClass(n,l?"appear":"enter","active"),t.props.onEntering&&t.props.onEntering(e,r)},t.onEntered=function(e,r){var a=t.resolveArguments(e,r),n=a[0],l=a[1]?"appear":"enter";t.removeClasses(n,l),t.addClass(n,l,"done"),t.props.onEntered&&t.props.onEntered(e,r)},t.onExit=function(e){var r=t.resolveArguments(e)[0];t.removeClasses(r,"appear"),t.removeClasses(r,"enter"),t.addClass(r,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var r=t.resolveArguments(e)[0];t.addClass(r,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var r=t.resolveArguments(e)[0];t.removeClasses(r,"exit"),t.addClass(r,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,r){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,r]},t.getClassNames=function(e){var r=t.props.classNames,a="string"==typeof r,n=a&&r?r+"-":"",l=a?""+n+e:r[e],i=a?l+"-active":r[e+"Active"],o=a?l+"-done":r[e+"Done"];return{baseClassName:l,activeClassName:i,doneClassName:o}},t}nX(t,e);var r=t.prototype;return r.addClass=function(e,t,r){var a,n=this.getClassNames(t)[r+"ClassName"],l=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===r&&l&&(n+=" "+l),"active"===r&&e&&nZ(e),n&&(this.appliedClasses[t][r]=n,a=n,e&&a&&a.split(" ").forEach(function(t){e.classList?e.classList.add(t):(e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" "))||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}))},r.removeClasses=function(e,t){var r=this.appliedClasses[t],a=r.base,n=r.active,l=r.done;this.appliedClasses[t]={},a&&n8(e,a),n&&n8(e,n),l&&n8(e,l)},r.render=function(){var e=this.props,t=(e.classNames,nG(e,["classNames"]));return c.default.createElement(n5,nW({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(c.default.Component);n9.defaultProps={classNames:""},n9.propTypes={};var n7=(0,c.createContext)({}),le=()=>(0,c.useContext)(n7),lt=e=>e?{appear:`${e}--appear`,appearActive:`${e}--appearActive`,appearDone:`${e}--appearDone`,enter:`${e}--enter`,enterActive:`${e}--enterActive`,enterDone:`${e}--enterDone`,exit:`${e}--exit`,exitActive:`${e}--exitActive`,exitDone:`${e}--exitDone`}:{};function lr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function la(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lr(Object(r),!0).forEach(function(t){var a,n,l;a=e,n=t,l=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(n))in a?Object.defineProperty(a,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[n]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}(0,f.j)();var ln=function(e,t){if(e.length>0){var r=e[e.length-1];r!==t&&r.pause()}var a=e.indexOf(t);-1===a||e.splice(a,1),e.push(t)},ll=function(e,t){var r=e.indexOf(t);-1!==r&&e.splice(r,1),e.length>0&&e[e.length-1].unpause()},li=function(e){return e?.key==="Tab"||e?.keyCode===9},lo=function(e){return li(e)&&!e.shiftKey},ls=function(e){return li(e)&&e.shiftKey},lc=function(e){return setTimeout(e,0)},lu=function(e,t){var r=-1;return e.every(function(e,a){return!t(e)||(r=a,!1)}),r},ld=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return"function"==typeof e?e.apply(void 0,r):e},lf=function(e){return e.target.shadowRoot&&"function"==typeof e.composedPath?e.composedPath()[0]:e.target},lp=[],lh=function(e,t){var r,a=t?.document||document,n=t?.trapStack||lp,l=la({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:lo,isKeyBackward:ls},t),i={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},o=function(e,t,r){return e&&void 0!==e[t]?e[t]:l[r||t]},s=function(e,t){var r="function"==typeof t?.composedPath?t.composedPath():void 0;return i.containerGroups.findIndex(function(t){var a=t.container,n=t.tabbableNodes;return a.contains(e)||r?.includes(a)||n.find(function(t){return t===e})})},c=function(e){var t=l[e];if("function"==typeof t){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];t=t.apply(void 0,n)}if(!0===t&&(t=void 0),!t){if(void 0===t||!1===t)return t;throw Error("`".concat(e,"` was specified but was not a node, or did not return a node"))}var o=t;if("string"==typeof t&&!(o=a.querySelector(t)))throw Error("`".concat(e,"` as selector refers to no known node"));return o},u=function(){var e=c("initialFocus");if(!1===e)return!1;if(void 0===e||!(0,f.i)(e,l.tabbableOptions))if(s(a.activeElement)>=0)e=a.activeElement;else{var t=i.tabbableGroups[0];e=t&&t.firstTabbableNode||c("fallbackFocus")}if(!e)throw Error("Your focus-trap needs to have at least one focusable element");return e},d=function(){if(i.containerGroups=i.containers.map(function(e){var t=(0,f.f)(e,l.tabbableOptions),r=(0,f.g)(e,l.tabbableOptions),a=t.length>0?t[0]:void 0,n=t.length>0?t[t.length-1]:void 0,i=r.find(function(e){return(0,f.h)(e)}),o=r.slice().reverse().find(function(e){return(0,f.h)(e)}),s=!!t.find(function(e){return(0,f.e)(e)>0});return{container:e,tabbableNodes:t,focusableNodes:r,posTabIndexesFound:s,firstTabbableNode:a,lastTabbableNode:n,firstDomTabbableNode:i,lastDomTabbableNode:o,nextTabbableNode:function(e){var a=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=t.indexOf(e);return n<0?a?r.slice(r.indexOf(e)+1).find(function(e){return(0,f.h)(e)}):r.slice(0,r.indexOf(e)).reverse().find(function(e){return(0,f.h)(e)}):t[n+(a?1:-1)]}}}),i.tabbableGroups=i.containerGroups.filter(function(e){return e.tabbableNodes.length>0}),i.tabbableGroups.length<=0&&!c("fallbackFocus"))throw Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(i.containerGroups.find(function(e){return e.posTabIndexesFound})&&i.containerGroups.length>1)throw Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},p=function e(t){var r=t.activeElement;if(r)return r.shadowRoot&&null!==r.shadowRoot.activeElement?e(r.shadowRoot):r},h=function e(t){if(!1!==t&&t!==p(document)){if(!t||!t.focus)return void e(u());t.focus({preventScroll:!!l.preventScroll}),i.mostRecentlyFocusedNode=t,t.tagName&&"input"===t.tagName.toLowerCase()&&"function"==typeof t.select&&t.select()}},m=function(e){var t=c("setReturnFocus",e);return t||!1!==t&&e},g=function(e){var t=e.target,r=e.event,a=e.isBackward,n=void 0!==a&&a;t=t||lf(r),d();var o=null;if(i.tabbableGroups.length>0){var u=s(t,r),p=u>=0?i.containerGroups[u]:void 0;if(u<0)o=n?i.tabbableGroups[i.tabbableGroups.length-1].lastTabbableNode:i.tabbableGroups[0].firstTabbableNode;else if(n){var h=lu(i.tabbableGroups,function(e){var r=e.firstTabbableNode;return t===r});if(h<0&&(p.container===t||(0,f.i)(t,l.tabbableOptions)&&!(0,f.h)(t,l.tabbableOptions)&&!p.nextTabbableNode(t,!1))&&(h=u),h>=0){var m=0===h?i.tabbableGroups.length-1:h-1,g=i.tabbableGroups[m];o=(0,f.e)(t)>=0?g.lastTabbableNode:g.lastDomTabbableNode}else li(r)||(o=p.nextTabbableNode(t,!1))}else{var b=lu(i.tabbableGroups,function(e){var r=e.lastTabbableNode;return t===r});if(b<0&&(p.container===t||(0,f.i)(t,l.tabbableOptions)&&!(0,f.h)(t,l.tabbableOptions)&&!p.nextTabbableNode(t))&&(b=u),b>=0){var v=b===i.tabbableGroups.length-1?0:b+1,y=i.tabbableGroups[v];o=(0,f.e)(t)>=0?y.firstTabbableNode:y.firstDomTabbableNode}else li(r)||(o=p.nextTabbableNode(t))}}else o=c("fallbackFocus");return o},b=function(e){if(!(s(lf(e),e)>=0)){if(ld(l.clickOutsideDeactivates,e))return void r.deactivate({returnFocus:l.returnFocusOnDeactivate});ld(l.allowOutsideClick,e)||e.preventDefault()}},v=function(e){var t=lf(e),r=s(t,e)>=0;if(r||t instanceof Document)r&&(i.mostRecentlyFocusedNode=t);else{e.stopImmediatePropagation();var a,n=!0;if(i.mostRecentlyFocusedNode)if((0,f.e)(i.mostRecentlyFocusedNode)>0){var o=s(i.mostRecentlyFocusedNode),c=i.containerGroups[o].tabbableNodes;if(c.length>0){var d=c.findIndex(function(e){return e===i.mostRecentlyFocusedNode});d>=0&&(l.isKeyForward(i.recentNavEvent)?d+1<c.length&&(a=c[d+1],n=!1):d-1>=0&&(a=c[d-1],n=!1))}}else i.containerGroups.some(function(e){return e.tabbableNodes.some(function(e){return(0,f.e)(e)>0})})||(n=!1);else n=!1;n&&(a=g({target:i.mostRecentlyFocusedNode,isBackward:l.isKeyBackward(i.recentNavEvent)})),h(a||i.mostRecentlyFocusedNode||u())}i.recentNavEvent=void 0},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];i.recentNavEvent=e;var r=g({event:e,isBackward:t});r&&(li(e)&&e.preventDefault(),h(r))},x=function(e){if((e?.key==="Escape"||e?.key==="Esc"||e?.keyCode===27)&&!1!==ld(l.escapeDeactivates,e)){e.preventDefault(),r.deactivate();return}(l.isKeyForward(e)||l.isKeyBackward(e))&&y(e,l.isKeyBackward(e))},w=function(e){s(lf(e),e)>=0||ld(l.clickOutsideDeactivates,e)||ld(l.allowOutsideClick,e)||(e.preventDefault(),e.stopImmediatePropagation())},j=function(){if(i.active)return ln(n,r),i.delayInitialFocusTimer=l.delayInitialFocus?lc(function(){h(u())}):h(u()),a.addEventListener("focusin",v,!0),a.addEventListener("mousedown",b,{capture:!0,passive:!1}),a.addEventListener("touchstart",b,{capture:!0,passive:!1}),a.addEventListener("click",w,{capture:!0,passive:!1}),a.addEventListener("keydown",x,{capture:!0,passive:!1}),r},C=function(){if(i.active)return a.removeEventListener("focusin",v,!0),a.removeEventListener("mousedown",b,!0),a.removeEventListener("touchstart",b,!0),a.removeEventListener("click",w,!0),a.removeEventListener("keydown",x,!0),r},S="u">typeof window&&"MutationObserver"in window?new MutationObserver(function(e){e.some(function(e){return Array.from(e.removedNodes).some(function(e){return e===i.mostRecentlyFocusedNode})})&&h(u())}):void 0,$=function(){S&&(S.disconnect(),i.active&&!i.paused&&i.containers.map(function(e){S.observe(e,{subtree:!0,childList:!0})}))};return(r={get active(){return i.active},get paused(){return i.paused},activate:function(e){if(i.active)return this;var t=o(e,"onActivate"),r=o(e,"onPostActivate"),n=o(e,"checkCanFocusTrap");n||d(),i.active=!0,i.paused=!1,i.nodeFocusedBeforeActivation=a.activeElement,t?.();var l=function(){n&&d(),j(),$(),r?.()};return n?n(i.containers.concat()).then(l,l):l(),this},deactivate:function(e){if(!i.active)return this;var t=la({onDeactivate:l.onDeactivate,onPostDeactivate:l.onPostDeactivate,checkCanReturnFocus:l.checkCanReturnFocus},e);clearTimeout(i.delayInitialFocusTimer),i.delayInitialFocusTimer=void 0,C(),i.active=!1,i.paused=!1,$(),ll(n,r);var a=o(t,"onDeactivate"),s=o(t,"onPostDeactivate"),c=o(t,"checkCanReturnFocus"),u=o(t,"returnFocus","returnFocusOnDeactivate");a?.();var d=function(){lc(function(){u&&h(m(i.nodeFocusedBeforeActivation)),s?.()})};return u&&c?c(m(i.nodeFocusedBeforeActivation)).then(d,d):d(),this},pause:function(e){if(i.paused||!i.active)return this;var t=o(e,"onPause"),r=o(e,"onPostPause");return i.paused=!0,t?.(),C(),$(),r?.(),this},unpause:function(e){if(!i.paused||!i.active)return this;var t=o(e,"onUnpause"),r=o(e,"onPostUnpause");return i.paused=!1,t?.(),d(),j(),$(),r?.(),this},updateContainerElements:function(e){return i.containers=[].concat(e).filter(Boolean).map(function(e){return"string"==typeof e?a.querySelector(e):e}),i.active&&d(),$(),this}}).updateContainerElements(e),r},lm=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>t.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r},lg="modal-item",lb=(n=e=>{let{children:t}=e;return t?"function"==typeof t?(0,h.jsx)(c.Fragment,{children:t(e)}):(0,h.jsx)(c.Fragment,{children:t}):null},e=>{let t=le(),r=(0,c.useRef)(null),[a,i]=(0,c.useState)(!1),o=(0,c.useRef)(!1),[s,d]=(0,c.useState)(null),{modalState:f,classPrefix:p,containerRef:m,transTime:g,setCloseOnBlur:b,setBodyScrollLock:v,openModal:y}=t,{className:x,htmlElement:w="dialog",slug:j="",closeOnBlur:C=!0,lockBodyScroll:S=!0,classPrefix:$,onEnter:_,onEntering:k,onEntered:E,onExit:N,onExiting:P,onExited:D,openOnInit:T,trapFocus:O=!0,focusTrapOptions:R={}}=e,A=lm(e,["className","htmlElement","slug","closeOnBlur","lockBodyScroll","classPrefix","onEnter","onEntering","onEntered","onExit","onExiting","onExited","openOnInit","trapFocus","focusTrapOptions"]),I=$||p,M=l||j,L=f[M]&&f[M].isOpen;(0,c.useEffect)(()=>{if(O){let e=r.current;!1===o.current&&e&&(d(lh(e,Object.assign(Object.assign({},R),{fallbackFocus:R?.fallbackFocus||e,allowOutsideClick:!("u">typeof R.allowOutsideClick)||R.allowOutsideClick}))),o.current=!0)}},[O,a,R]),(0,c.useEffect)(()=>{i(!0)},[]),(0,c.useEffect)(()=>(s&&(L?s.activate():s.deactivate()),()=>{s&&s.deactivate()}),[L,s]),(0,c.useEffect)(()=>{L&&b(C)},[L,C,b]),(0,c.useEffect)(()=>{let e=r.current;return e&&v(!!(L&&S),e),()=>{e&&v(!1,e)}},[L,S,v]);let[F,B]=(0,c.useState)(L);if((0,c.useEffect)(()=>{L?B(L):setTimeout(()=>B(!1),g)},[L,g]),(0,c.useEffect)(()=>{T&&y(M)},[M,T,y]),m.current){let a=I?`${I}__${lg}`:lg,l=[a,`${a}--slug-${M}`,x].filter(Boolean).join(" "),i=Object.assign({role:"dialog"!==w?"dialog":void 0,open:"dialog"===w?F||L:void 0,"aria-modal":!0,"aria-label":A["aria-labelledby"]?void 0:M},A);return u.default.createPortal((0,h.jsx)(n9,{nodeRef:r,timeout:g,in:L,classNames:lt(a),appear:!0,onEnter:_,onEntering:k,onEntered:E,onExit:N,onExiting:P,onExited:D,children:(0,h.jsx)(w,Object.assign({ref:r,id:A?.id||M,className:l},i,{children:(0,h.jsx)(n,Object.assign({},e,{isOpen:L,modal:t}))}))}),m.current)}return null}),lv=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>t.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r},ly="modal-container",lx=e=>{let{oneModalIsOpen:t,classPrefix:r,transTime:a,setContainerRef:n,containerRef:l,closeAllModals:i,closeOnBlur:o}=le(),{className:s,htmlElement:c="div",children:u,onClick:d}=e,f=lv(e,["className","htmlElement","children","onClick"]),p=r?`${r}__${ly}`:ly,m=[p,s].filter(Boolean).join(" "),g=Object.assign(Object.assign({},f),{onClick:e=>{o&&i(),"function"==typeof d&&d(e)}});return(0,h.jsx)(n9,{nodeRef:l,in:t,timeout:a,classNames:lt(p),appear:!0,children:(0,h.jsx)(c,Object.assign({className:m,ref:n},g,{children:u&&u}))})},lw=!1;"u">typeof window&&(lU={get passive(){lw=!0}},window.addEventListener("testPassive",null,lU),window.removeEventListener("testPassive",null,lU));var lj,lC,lS,l$,l_,lk,lE,lN,lP,lD,lT,lO,lR,lA,lI,lM,lL,lF,lB,lz,lU,lV="u">typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),lH=[],lq=!1,lK=-1,lW=void 0,lG=void 0,lY=void 0,lX=function(e){return lH.some(function(t){return!!(t.options.allowTouchMove&&t.options.allowTouchMove(e))})},lQ=function(e){var t=e||window.event;return!!lX(t.target)||t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1)},lJ=function(e){if(void 0===lY){var t=!!e&&!0===e.reserveScrollBarGap,r=window.innerWidth-document.documentElement.clientWidth;if(t&&r>0){var a=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);lY=document.body.style.paddingRight,document.body.style.paddingRight=a+r+"px"}}void 0===lW&&(lW=document.body.style.overflow,document.body.style.overflow="hidden")},lZ=function(){void 0!==lY&&(document.body.style.paddingRight=lY,lY=void 0),void 0!==lW&&(document.body.style.overflow=lW,lW=void 0)},l0=function(){if(void 0!==lG){var e=-parseInt(document.body.style.top,10),t=-parseInt(document.body.style.left,10);document.body.style.position=lG.position,document.body.style.top=lG.top,document.body.style.left=lG.left,window.scrollTo(t,e),lG=void 0}},l1=function(e,t){var r=e.targetTouches[0].clientY-lK;return!lX(e.target)&&(t&&0===t.scrollTop&&r>0||t&&t.scrollHeight-t.scrollTop<=t.clientHeight&&r<0?lQ(e):(e.stopPropagation(),!0))},l3=function(e,t){e?!lH.some(function(t){return t.targetElement===e})&&(lH=[].concat(function(e){if(!Array.isArray(e))return Array.from(e);for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}(lH),[{targetElement:e,options:t||{}}]),lV?window.requestAnimationFrame(function(){if(void 0===lG){lG={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var e=window,t=e.scrollY,r=e.scrollX,a=e.innerHeight;document.body.style.position="fixed",document.body.style.top=-t,document.body.style.left=-r,setTimeout(function(){return window.requestAnimationFrame(function(){var e=a-window.innerHeight;e&&t>=a&&(document.body.style.top=-(t+e))})},300)}}):lJ(t),lV&&(e.ontouchstart=function(e){1===e.targetTouches.length&&(lK=e.targetTouches[0].clientY)},e.ontouchmove=function(t){1===t.targetTouches.length&&l1(t,e)},lq||(document.addEventListener("touchmove",lQ,lw?{passive:!1}:void 0),lq=!0))):console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.")},l2=function(e){e?(lH=lH.filter(function(t){return t.targetElement!==e}),lV&&(e.ontouchstart=null,e.ontouchmove=null,lq&&0===lH.length&&(document.removeEventListener("touchmove",lQ,lw?{passive:!1}:void 0),lq=!1)),lV?l0():lZ()):console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.")},l6=(e,t)=>{let r=Object.assign({},e),{type:a,payload:n}=t;switch(a){case"UPDATE_MODAL":{let{slug:e}=n;e&&(r[e]=Object.assign(Object.assign({},r[e]),n));break}case"OPEN_MODAL":{let{slug:e}=n;e&&(e in r&&r[e].isOpen||(r[e]=Object.assign(Object.assign({},r[e]),{slug:e,openedOn:Date.now(),isOpen:!0})));break}case"TOGGLE_MODAL":{let{slug:e}=n;if(e){let t=e in r&&r[e].isOpen;r[e]=Object.assign(Object.assign({},r[e]),{slug:e,openedOn:t?void 0:Date.now(),isOpen:!t})}break}case"CLOSE_MODAL":{let{slug:e}=n;e&&(r[e]=Object.assign(Object.assign({},r[e]),{slug:e,openedOn:void 0,isOpen:!1}));break}case"REMOVE_MODAL":{let{slug:e}=n;e&&e in r&&delete r[e];break}case"CLOSE_LATEST_MODAL":{let e=Object.keys(r).reduce((e,t)=>{let a=r[t];return a.isOpen&&"number"==typeof a.openedOn&&(!e||"number"==typeof e.openedOn&&a.openedOn>e.openedOn)?a:e},void 0);e&&(r[e.slug]=Object.assign(Object.assign({},r[e.slug]),{isOpen:!1,openedOn:void 0}));break}case"CLOSE_ALL_MODALS":r=Object.entries(r).reduce((e,[t,r])=>(e[t]=Object.assign(Object.assign({},r),{isOpen:!1,openedOn:void 0}),e),{})}return r},l5=e=>{let{classPrefix:t,minifyCSS:r=!0,generateCSS:a=!0,zIndex:n=9999,handleParamChange:l,children:i,transTime:o=250}=e,s=(0,c.useRef)(null),[u,d]=(0,c.useReducer)(l6,{},()=>(()=>{let e=(()=>{if("u">typeof window)return new URLSearchParams(window.location.search)})(),t=[];if(e){let r=e.get("modal");r&&(t=r.includes(",")?r.split(","):[r])}return t})().reduce((e,t)=>(e[t]={slug:t,isOpen:!0,openedOn:Date.now()},e),{})),[f,p]=(0,c.useState)(!1),[m,g]=(0,c.useState)(!1),[b,v]=(0,c.useState)(!1),[y,x]=(0,c.useState)(""),w=(0,c.useRef)(!1),j=(0,c.useCallback)(e=>{27===e.keyCode&&d({type:"CLOSE_LATEST_MODAL"})},[]);(0,c.useEffect)(()=>(w.current||(document.addEventListener("keydown",e=>j(e),!1),w.current=!0),()=>{w.current&&document.removeEventListener("keydown",e=>j(e),!1)}),[j]),(0,c.useEffect)(()=>{if(a){let e="";e=(({classPrefix:e,zIndex:t})=>{let r=e?`${e}__`:"";return`
    .${r}${ly} {
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      position: fixed;
      pointer-events: none;
      visibility: hidden;
      z-index: -1;
    }

    .${r}${ly}--appear,
    .${r}${ly}--appearDone,
    .${r}${ly}--enter,
    .${r}${ly}--enterDone,
    .${r}${ly}--exit {
      pointer-events: all;
      visibility: visible;
      z-index: ${t};
    }

    .${r}${lg} {
      position: absolute;
      visibility: hidden;
    }

    .${r}${lg}--appear,
    .${r}${lg}--appearDone,
    .${r}${lg}--enter,
    .${r}${lg}--enterDone,
    .${r}${lg}--exit {
      visibility: visible;
    }
  `})({classPrefix:t,zIndex:n}),r&&(e=e.replace(/\n/g,"").replace(/\s\s+/g," ")),x(e)}},[a,r,n,t]),(0,c.useEffect)(()=>{if("function"==typeof l&&l(u),"boolean"==typeof l&&l){let e=Object.keys(u).filter(e=>u[e].isOpen),t=new URLSearchParams;for(let r of e)t.append("modal",r);let r=t.toString()?`?${t}`:"",a=`${window.location.pathname}${r}`;window.history.pushState({},"",a)}},[u,l]),(0,c.useEffect)(()=>{p(Object.keys(u).some(e=>u[e].isOpen))},[u]);let C=(0,c.useCallback)((e,t)=>{t&&(e?(l3(t),v(!0)):(l2(t),v(!1)))},[]),S=(0,c.useCallback)(e=>{s.current=e},[]),$=(0,c.useCallback)(e=>{d({type:"OPEN_MODAL",payload:{slug:e}})},[]),_=(0,c.useCallback)(e=>{d({type:"CLOSE_MODAL",payload:{slug:e}})},[]),k=(0,c.useCallback)(()=>{d({type:"CLOSE_ALL_MODALS"})},[]),E=(0,c.useCallback)(e=>{d({type:"TOGGLE_MODAL",payload:{slug:e}})},[]),N=(0,c.useCallback)(e=>u[e]&&u[e].isOpen,[u]),P=Object.assign({},e);return delete P.children,(0,h.jsxs)(c.Fragment,{children:[a&&(0,h.jsx)("style",{dangerouslySetInnerHTML:{__html:y}}),(0,h.jsx)(n7.Provider,{value:Object.assign(Object.assign({},P),{transTime:o,containerRef:s,modalState:u,oneModalIsOpen:f,isModalOpen:N,closeOnBlur:m,bodyScrollIsLocked:b,classPrefix:t,closeAllModals:k,setCloseOnBlur:g,openModal:$,closeModal:_,toggleModal:E,setBodyScrollLock:C,setContainerRef:S}),children:i})]})},l4="gutter",l8=e=>{let{children:t,className:r,left:a=!0,negativeLeft:n=!1,negativeRight:l=!1,ref:i,right:o=!0}=e,s=a&&!n,c=o&&!l;return(0,h.jsx)("div",{className:[l4,s&&`${l4}--left`,c&&`${l4}--right`,n&&`${l4}--negative-left`,l&&`${l4}--negative-right`,r].filter(Boolean).join(" "),ref:i,children:t})},l9=e=>{let t=(0,v.c)(3),r=(0,c.useId)(),a=nq(),n=`${e}-${r}`,l;return t[0]!==a||t[1]!==n?(l=ie({slug:n,depth:a}),t[0]=a,t[1]=n,t[2]=l):l=t[2],l},l7="drawer",ie=({slug:e,depth:t})=>`drawer_${t}_${e}`,it=e=>{let t=(0,v.c)(4),{slug:r,children:a,className:n,disabled:l,onClick:i,...o}=e,{openModal:s}=le(),c;return t[0]!==i||t[1]!==s||t[2]!==r?(c=e=>{s(r),"function"==typeof i&&i(e)},t[0]=i,t[1]=s,t[2]=r,t[3]=c):c=t[3],(0,h.jsx)("button",{className:n,disabled:l,onClick:c,type:"button",...o,children:a})},ir=e=>{let t=(0,v.c)(22),{slug:r,children:a,className:n,gutter:l,Header:i,hoverTitle:o,title:s}=e,u=void 0===l||l,{t:d}=(0,f.d)(),{closeModal:p,modalState:m}=le(),g=ii(),b=!!m[r]?.isOpen,[y,x]=(0,c.useState)(b),w,j;if(t[0]!==b?(w=()=>{x(b)},j=[b],t[0]=b,t[1]=w,t[2]=j):(w=t[1],j=t[2]),(0,c.useLayoutEffect)(w,j),b){let e=y&&`${l7}--is-open`,l=g>1&&`${l7}--nested`,c;t[3]!==n||t[4]!==e||t[5]!==l?(c=[n,l7,e,l].filter(Boolean),t[3]=n,t[4]=e,t[5]=l,t[6]=c):c=t[6];let m=c.join(" "),b=100+g,v;if(t[7]!==i||t[8]!==a||t[9]!==p||t[10]!==g||t[11]!==u||t[12]!==o||t[13]!==r||t[14]!==d||t[15]!==m||t[16]!==b||t[17]!==s){let e;t[19]!==p||t[20]!==r?(e=()=>p(r),t[19]=p,t[20]=r,t[21]=e):e=t[21],v=(0,h.jsx)(il,{children:(0,h.jsxs)(lb,{className:m,closeOnBlur:!1,slug:r,style:{zIndex:b},children:[(!g||1===g)&&(0,h.jsx)("div",{className:`${l7}__blur-bg`}),(0,h.jsx)("button",{"aria-label":d("general:close"),className:`${l7}__close`,id:`close-drawer__${r}`,onClick:e,type:"button"}),(0,h.jsxs)("div",{className:`${l7}__content`,style:{width:`calc(100% - (${g} * var(--gutter-h)))`},children:[(0,h.jsx)("div",{className:`${l7}__blur-bg-content`}),(0,h.jsxs)(l8,{className:`${l7}__content-children`,left:u,right:u,children:[i,void 0===i&&(0,h.jsxs)("div",{className:`${l7}__header`,children:[(0,h.jsx)("h2",{className:`${l7}__header__title`,title:o?s:null,children:s}),(0,h.jsx)("button",{"aria-label":d("general:close"),className:`${l7}__header__close`,id:`close-drawer__${r}`,onClick:()=>p(r),type:"button",children:(0,h.jsx)(f.a,{})})]}),a]})]})]})}),t[7]=i,t[8]=a,t[9]=p,t[10]=g,t[11]=u,t[12]=o,t[13]=r,t[14]=d,t[15]=m,t[16]=b,t[17]=s,t[18]=v}else v=t[18];return v}return null},ia=(0,c.createContext)(1),il=e=>{let t=(0,v.c)(3),{children:r}=e,a=ii()+1,n;return t[0]!==r||t[1]!==a?(n=(0,h.jsx)(ia,{value:a,children:r}),t[0]=r,t[1]=a,t[2]=n):n=t[2],n},ii=()=>(0,c.use)(ia),io="confirmation-modal";function is(e){let t=(0,v.c)(25),{body:r,cancelLabel:a,className:n,confirmingLabel:l,confirmLabel:i,heading:o,modalSlug:s,onCancel:u,onConfirm:d}=e,p=ii(),[m,g]=c.default.useState(!1),{closeModal:b}=le(),{t:y}=(0,f.d)(),x;t[0]!==b||t[1]!==m||t[2]!==s||t[3]!==d?(x=async()=>{m||(g(!0),"function"==typeof d&&await d(),g(!1),b(s))},t[0]=b,t[1]=m,t[2]=s,t[3]=d,t[4]=x):x=t[4];let w=x,j;t[5]!==b||t[6]!==m||t[7]!==s||t[8]!==u?(j=()=>{m||(b(s),"function"==typeof u&&u())},t[5]=b,t[6]=m,t[7]=s,t[8]=u,t[9]=j):j=t[9];let C=j,S;t[10]!==n?(S=[io,n].filter(Boolean),t[10]=n,t[11]=S):S=t[11];let $=S.join(" "),_=100+p,k;return t[12]!==r||t[13]!==a||t[14]!==i||t[15]!==m||t[16]!==l||t[17]!==o||t[18]!==s||t[19]!==C||t[20]!==w||t[21]!==y||t[22]!==$||t[23]!==_?(k=(0,h.jsx)(lb,{className:$,closeOnBlur:!1,slug:s,style:{zIndex:_},children:(0,h.jsxs)("div",{className:`${io}__wrapper`,children:[(0,h.jsxs)("div",{className:`${io}__content`,children:["string"==typeof o?(0,h.jsx)("h1",{children:o}):o,"string"==typeof r?(0,h.jsx)("p",{children:r}):r]}),(0,h.jsxs)("div",{className:`${io}__controls`,children:[(0,h.jsx)(na,{buttonStyle:"secondary",disabled:m,id:"confirm-cancel",onClick:C,size:"large",type:"button",children:a||y("general:cancel")}),(0,h.jsx)(na,{id:"confirm-action",onClick:w,size:"large",children:m?l||`${y("general:loading")}...`:i||y("general:confirm")})]})]})}),t[12]=r,t[13]=a,t[14]=i,t[15]=m,t[16]=l,t[17]=o,t[18]=s,t[19]=C,t[20]=w,t[21]=y,t[22]=$,t[23]=_,t[24]=k):k=t[24],k}var ic="stay-logged-in",iu=()=>{let e=(0,v.c)(11),{refreshCookie:t}=ig(),r=(0,b.useRouter)(),{config:a}=(0,d.b)(),{admin:n,routes:l}=a,{routes:i}=n,{logout:o}=i,{admin:s}=l,{t:c}=(0,f.d)(),{startRouteTransition:u}=aR(),p;e[0]!==s||e[1]!==o||e[2]!==r||e[3]!==u?(p=()=>u(()=>r.push(tE({adminRoute:s,path:o}))),e[0]=s,e[1]=o,e[2]=r,e[3]=u,e[4]=p):p=e[4];let m=p,g;e[5]!==t?(g=()=>{t()},e[5]=t,e[6]=g):g=e[6];let y=g,x;return e[7]!==y||e[8]!==m||e[9]!==c?(x=(0,h.jsx)(is,{body:c("authentication:youAreInactive"),cancelLabel:c("authentication:stayLoggedIn"),confirmLabel:c("authentication:logOut"),heading:c("authentication:stayLoggedIn"),modalSlug:ic,onCancel:y,onConfirm:m}),e[7]=y,e[8]=m,e[9]=c,e[10]=x):x=e[10],x};function id(e){let t,r=(0,v.c)(4),a=(0,c.useRef)(e),n,l;return r[0]!==e?(n=()=>{a.current=e},l=[e],r[0]=e,r[1]=n,r[2]=l):(n=r[1],l=r[2]),(0,c.useInsertionEffect)(n,l),r[3]===Symbol.for("react.memo_cache_sentinel")?(t=(...e)=>(0,a.current)(...e),r[3]=t):t=r[3],t}var ip={delete:(e,t={headers:{}})=>{let r=t&&t.headers?{...t.headers}:{};return fetch(e,{...t,credentials:"include",headers:{...r},method:"delete"})},get:(e,t={headers:{}})=>{let r="";return t.params&&(r=tZ(t.params,{addQueryPrefix:!0})),fetch(`${e}${r}`,{credentials:"include",...t})},patch:(e,t={headers:{}})=>{let r=t&&t.headers?{...t.headers}:{};return fetch(e,{...t,credentials:"include",headers:{...r},method:"PATCH"})},post:(e,t={headers:{}})=>{let r=t&&t.headers?{...t.headers}:{};return fetch(`${e}`,{...t,credentials:"include",headers:{...r},method:"post"})},put:(e,t={headers:{}})=>{let r=t&&t.headers?{...t.headers}:{};return fetch(e,{...t,credentials:"include",headers:{...r},method:"put"})}},ih=(0,c.createContext)({});function im({children:e,permissions:t,user:r}){let a=(0,b.usePathname)(),n=(0,b.useRouter)(),{config:l}=(0,d.b)(),{admin:{autoLogin:i,autoRefresh:o,routes:{inactivity:s},user:u},routes:{admin:p,api:m},serverURL:g}=l,{i18n:v}=(0,f.d)(),{closeAllModals:y,openModal:x}=le(),{startRouteTransition:w}=aR(),[j,C]=(0,c.useState)(r),[S,$]=(0,c.useState)(),[_,k]=(0,c.useState)(),[E,N]=(0,c.useState)(t),[P,D]=(0,c.useState)(12e4),[T,O]=(0,c.useState)(!1),R=c.default.useRef(null),A=c.default.useRef(null),I=c.default.useRef(null),M=j?.id,L=(0,c.useCallback)(()=>{w(()=>n.replace(tE({adminRoute:p,path:`${s}${window.location.pathname.startsWith(p)?`?redirect=${encodeURIComponent(window.location.pathname)}`:""}`}))),y()},[n,p,s,y,w]),F=(0,c.useCallback)(()=>{C(null),$(void 0),k(void 0),clearTimeout(R.current)},[]),B=(0,c.useCallback)(e=>{if(clearTimeout(A.current),clearTimeout(I.current),e?.user){C(e.user),$(e.token),k(1e3*e.exp);let t=Math.max(0,Math.min((e.exp??0)*1e3-Date.now(),0x7fffffff));if(t){let e=Math.min(6e4,t/2);D(e),A.current=setTimeout(()=>{o?K():x(ic)},Math.max(t-e,0)),I.current=setTimeout(()=>{F(),L()},t)}}else F()},[o,L,F,x]),z=(0,c.useCallback)(e=>{if(!M)return;let t=Math.max(0,(_??0)-Date.now());(e||_&&t<2*P)&&(clearTimeout(R.current),R.current=setTimeout(async()=>{try{let e=await ip.post(`${g}${m}/${u}/refresh-token?refresh`,{headers:{"Accept-Language":v.language}});if(200===e.status){let t=await e.json();B(t)}else B(null),L()}catch(e){a_.error(e.message)}},1e3))},[m,v.language,L,g,B,_,u,P,M]),U=(0,c.useCallback)(async e=>{try{let t=await ip.post(`${g}${m}/${u}/refresh-token`,{headers:{"Accept-Language":v.language}});if(200===t.status){let r=await t.json();return e||B(r),r.user}j&&(B(null),L())}catch(e){a_.error(`Refreshing token failed: ${e.message}`)}return null},[m,v.language,L,g,B,u,j]),V=(0,c.useCallback)(async()=>{try{j&&j.collection&&(B(null),await ip.post(`${g}${m}/${j.collection}/logout`))}catch{}return!0},[m,g,B,j]),H=(0,c.useCallback)(async({locale:e}={})=>{let t=tZ({locale:e},{addQueryPrefix:!0});try{let e=await ip.get(`${g}${m}/access${t}`,{headers:{"Accept-Language":v.language}});if(200===e.status){let t=await e.json();N(t)}else throw Error(`Fetching permissions failed with status code ${e.status}`)}catch(e){a_.error(`Refreshing permissions failed: ${e.message}`)}},[g,m,v]),q=c.default.useCallback(async()=>{try{let e=await ip.get(`${g}${m}/${u}/me`,{credentials:"include",headers:{"Accept-Language":v.language}});if(200===e.status){let t=await e.json();return B(t),t?.user||null}}catch(e){a_.error(`Fetching user failed: ${e.message}`)}return null},[g,m,u,v.language,B]),K=id(z);(0,c.useEffect)(()=>{K()},[a]);let W=id(q);return(0,c.useEffect)(()=>{!async function(){await W(),O(!0)}()},[]),(0,c.useEffect)(()=>{j||!i||i.prefillOnly||W()},[j,i]),(0,c.useEffect)(()=>()=>{clearTimeout(R.current),clearTimeout(A.current),clearTimeout(I.current)},[]),j||T?(0,h.jsx)(ih,{value:{fetchFullUser:q,logOut:V,permissions:E,refreshCookie:z,refreshCookieAsync:U,refreshPermissions:H,setPermissions:N,setUser:B,token:S,tokenExpirationMs:_,user:j},children:e}):null}var ig=()=>(0,c.use)(ih),ib=(0,c.createContext)({}),iv=(e,t)=>({body:JSON.stringify({value:e}),headers:{"Accept-Language":t,"Content-Type":"application/json"}}),iy=({children:e})=>{let t=(0,c.useRef)({}),r=(0,c.useRef)({}),a=(0,c.useRef)({}),{config:n}=(0,d.b)(),{user:l}=ig(),{i18n:i}=(0,f.d)(),{routes:{api:o},serverURL:s}=n;(0,c.useEffect)(()=>{l||(r.current={})},[l]);let u=(0,c.useCallback)(async e=>{let t=r.current;if("u">typeof t[e])return t[e];let a=new Promise(t=>{(async()=>{let a=await ip.get(`${s}${o}/payload-preferences/${e}`,{credentials:"include",headers:{"Accept-Language":i.language}}),n=null;200===a.status&&(n=(await a.json()).value),r.current[e]=n,t(n)})()});return t[e]=a,a},[i.language,o,r,s]),p=(0,c.useCallback)(async(e,t,n=!1)=>{if(!1===n){r.current[e]=t,await ip.post(`${s}${o}/payload-preferences/${e}`,iv(t,i.language));return}let l=t,c=await u(e);if("object"==typeof t&&"object"==typeof c&&"object"==typeof l){if(c&&(l=function e(t,r){let a={...t};for(let n in r)Object.prototype.hasOwnProperty.call(r,n)&&("object"==typeof r[n]&&!Array.isArray(r[n])&&t[n]?a[n]=e(t[n],r[n]):a[n]=r[n]);return a}(c,l)),(0,t0.dequal)(l,c))return;a.current[e]={...a.current[e],...l}}else{if(l===c)return;a.current[e]=l}let d=async()=>{(0,t0.dequal)(a.current[e],r.current[e])||(r.current[e]=a.current[e],await ip.post(`${s}${o}/payload-preferences/${e}`,iv(r.current[e],i.language)),delete a.current[e])};setTimeout(()=>{d()})},[o,u,i.language,a,s]);return t.current.getPreference=u,t.current.setPreference=p,(0,h.jsx)(ib,{value:t.current,children:e})},ix=()=>(0,c.use)(ib),iw=(0,c.createContext)({}),ij=(0,c.createContext)({localeIsLoading:!1,setLocaleIsLoading:e=>{}}),iC=async(e,t)=>await fetch(`${t}/payload-preferences/${e}`,{credentials:"include",headers:{"Content-Type":"application/json"},method:"GET"})?.then(e=>e.json()),iS=e=>{let t,r=(0,v.c)(27),{children:a,locale:n}=e,{config:l}=(0,d.b)(),{localization:i,routes:o,serverURL:s}=l,u=void 0!==i&&i,{api:f}=o,{user:p}=ig(),m=u?u.defaultLocale:"en",{getPreference:g}=ix(),y=(0,b.useSearchParams)(),x;r[0]!==y?(x=y.get("locale"),r[0]=y,r[1]=x):x=r[1];let w=x,j;r[2]!==m||r[3]!==n||r[4]!==w||r[5]!==u?(j=()=>u&&(!u||u.locales.length)?nK(u,w)||nK(u,n)||nK(u,m)||nK(u,u.locales[0].code):{},r[2]=m,r[3]=n,r[4]=w,r[5]=u,r[6]=j):j=r[6];let[C,S]=c.default.useState(j),[$,_]=(0,c.useState)(!1),k=(0,c.useRef)(C),E,N;r[7]!==C?(E=()=>{C.code!==k.current.code&&_(!1),k.current=C},N=[C],r[7]=C,r[8]=E,r[9]=N):(E=r[8],N=r[9]),(0,c.useEffect)(E,N);let P=`${s}${f}`,D;r[10]!==m||r[11]!==P||r[12]!==w||r[13]!==u||r[14]!==p?.id?(D=()=>{!async function(){if(u&&p?.id){let e=nK(u,w||await iC("locale",P)?.then(ik))||nK(u,m)||nK(u,u?.locales?.[0]?.code);e&&S(e)}}()},r[10]=m,r[11]=P,r[12]=w,r[13]=u,r[14]=p?.id,r[15]=D):D=r[15];let T=p?.id,O;return r[16]!==m||r[17]!==P||r[18]!==g||r[19]!==w||r[20]!==u||r[21]!==T?(O=[m,g,u,P,w,T],r[16]=m,r[17]=P,r[18]=g,r[19]=w,r[20]=u,r[21]=T,r[22]=O):O=r[22],(0,c.useEffect)(D,O),r[23]!==a||r[24]!==$||r[25]!==C?(t=(0,h.jsx)(iw,{value:C,children:(0,h.jsx)(ij,{value:{localeIsLoading:$,setLocaleIsLoading:_},children:a})}),r[23]=a,r[24]=$,r[25]=C,r[26]=t):t=r[26],t},i$=()=>(0,c.use)(ij),i_=()=>(0,c.use)(iw);function ik(e){return e.value}var iE=(e,t,r)=>{if(e)return`field-${e.replace(/\./g,"__")}${t>1?`-${t}`:""}${r?`-${r}`:""}`},iN=e=>{let{as:t,hideLocale:r,htmlFor:a,label:n,localized:l,path:i,required:o,unstyled:s}=e,c=void 0===t?"label":t,u=void 0!==s&&s,{uuid:d}=ar(),p=nq(),g=a||iE(i,p,d),{i18n:b}=(0,f.d)(),{code:v,label:y}=i_();return n?(0,h.jsxs)("label"===c?g?"label":"span":c||"span",{className:`field-label${u?" unstyled":""}`,htmlFor:g,children:[m(n,b),void 0!==o&&o&&!u&&(0,h.jsx)("span",{className:"required",children:"*"}),void 0!==l&&l&&!(void 0!==r&&r)&&(0,h.jsxs)("span",{className:"localized",children:[" ","string"==typeof y?y:v]})]}):null},iP=({collapsed:e,rowID:t,rows:r})=>r.reduce((r,a)=>(t===a.id&&(a.collapsed=e),a.collapsed&&r.collapsedIDs.push(a.id),r.updatedRows.push(a),r),{collapsedIDs:[],updatedRows:[]}),iD=({collapsed:e,rows:t})=>t.reduce((t,r)=>(r.collapsed=e,e&&t.collapsedIDs.push(r.id),t.updatedRows.push(r),t),{collapsedIDs:[],updatedRows:[]}),iT=(e,t,r)=>{let a,n=(0,v.c)(9),l;n[0]!==r?(l=void 0===r?[]:r,n[0]=r,n[1]=l):l=n[1];let i=l,o;n[2]===Symbol.for("react.memo_cache_sentinel")?(o=Date.now(),n[2]=o):o=n[2];let s=(0,c.useRef)(o),u;n[3]!==e||n[4]!==t?(u=()=>{let r=setTimeout(()=>{Date.now()-s.current>=t&&(e(),s.current=Date.now())},t-(Date.now()-s.current));return()=>{clearTimeout(r)}},n[3]=e,n[4]=t,n[5]=u):u=n[5],n[6]!==t||n[7]!==i?(a=[t,...i],n[6]=t,n[7]=i,n[8]=a):a=n[8],(0,c.useEffect)(u,a)};function iO(e,t){let[r,a]=(0,c.useState)(e??t),n=(0,c.useRef)(!0);return(0,c.useEffect)(()=>{if(n.current){n.current=!1;return}a(e)},[e]),[r,(0,c.useCallback)(e=>{a(e)},[])]}var iR={},iA={};function iI(e,t){try{let r=(iR[e]||=new Intl.DateTimeFormat("en-GB",{timeZone:e,hour:"numeric",timeZoneName:"longOffset"}).format)(t).split("GMT")[1]||"";return r in iA?iA[r]:iL(r,r.split(":"))}catch{if(e in iA)return iA[e];let t=e?.match(iM);return t?iL(e,t.slice(1)):NaN}}var iM=/([+-]\d\d):?(\d\d)?/;function iL(e,t){let r=+t[0],a=+(t[1]||0);return iA[e]=r>0?60*r+a:60*r-a}var iF=class e extends Date{constructor(...e){super(),e.length>1&&"string"==typeof e[e.length-1]&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(iI(this.timeZone,this))?this.setTime(NaN):e.length?"number"==typeof e[0]&&(1===e.length||2===e.length&&"number"!=typeof e[1])?this.setTime(e[0]):"string"==typeof e[0]?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),iU(this,NaN),iz(this)):this.setTime(Date.now())}static tz(t,...r){return r.length?new e(...r,t):new e(Date.now(),t)}withTimeZone(t){return new e(+this,t)}getTimezoneOffset(){return-iI(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),iz(this),+this}[Symbol.for("constructDateFrom")](t){return new e(+new Date(t),this.timeZone)}},iB=/^(get|set)(?!UTC)/;function iz(e){e.internal.setTime(+e),e.internal.setUTCMinutes(e.internal.getUTCMinutes()-e.getTimezoneOffset())}function iU(e){let t=iI(e.timeZone,e),r=new Date(+e);r.setUTCHours(r.getUTCHours()-1);let a=-new Date(+e).getTimezoneOffset(),n=a- -new Date(+r).getTimezoneOffset(),l=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();n&&l&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+n);let i=a-t;i&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+i);let o=iI(e.timeZone,e),s=-new Date(+e).getTimezoneOffset()-o-i;if(o!==t&&s){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+s);let t=o-iI(e.timeZone,e);t&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+t),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+t))}}Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!iB.test(e))return;let t=e.replace(iB,"$1UTC");iF.prototype[t]&&(e.startsWith("get")?iF.prototype[e]=function(){return this.internal[t]()}:(iF.prototype[e]=function(){var e;return Date.prototype[t].apply(this.internal,arguments),e=this,Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),iU(e),+this},iF.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),iz(this),+this}))});var iV=Symbol.for("constructDateFrom");function iH(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&iV in e?e[iV](t):e instanceof Date?new e.constructor(t):new Date(t)}function iq(e,t){return iH(t||e,e)}var iK={};function iW(e,t){let r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??iK.weekStartsOn??iK.locale?.options?.weekStartsOn??0,a=iq(e,t?.in),n=a.getDay();return a.setDate(a.getDate()-(7*(n<r)+n-r)),a.setHours(0,0,0,0),a}function iG(e,t){return iW(e,{...t,weekStartsOn:1})}function iY(e,t){let r=iq(e,t?.in),a=r.getFullYear(),n=iH(r,0);n.setFullYear(a+1,0,4),n.setHours(0,0,0,0);let l=iG(n),i=iH(r,0);i.setFullYear(a,0,4),i.setHours(0,0,0,0);let o=iG(i);return r.getTime()>=l.getTime()?a+1:r.getTime()>=o.getTime()?a:a-1}function iX(e){let t=iq(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),e-r}function iQ(e,...t){let r=iH.bind(null,e||t.find(e=>"object"==typeof e));return t.map(r)}function iJ(e,t){let r=iq(e,t?.in);return r.setHours(0,0,0,0),r}function iZ(e,t){let r=iq(e)-iq(t);return r<0?-1:r>0?1:r}function i0(e){return iH(e,Date.now())}function i1(e,t){let r=iq(e,t?.in);return r.setHours(23,59,59,999),r}function i3(e,t){let r=iq(e,t?.in),a=r.getFullYear(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??iK.firstWeekContainsDate??iK.locale?.options?.firstWeekContainsDate??1,l=iH(t?.in||e,0);l.setFullYear(a+1,0,n),l.setHours(0,0,0,0);let i=iW(l,t),o=iH(t?.in||e,0);o.setFullYear(a,0,n),o.setHours(0,0,0,0);let s=iW(o,t);return+r>=+i?a+1:+r>=+s?a:a-1}function i2(e,t){let r=Math.abs(e).toString().padStart(t,"0");return(e<0?"-":"")+r}var i6={y(e,t){let r=e.getFullYear(),a=r>0?r:1-r;return i2("yy"===t?a%100:a,t.length)},M(e,t){let r=e.getMonth();return"M"===t?String(r+1):i2(r+1,2)},d:(e,t)=>i2(e.getDate(),t.length),a(e,t){let r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:(e,t)=>i2(e.getHours()%12||12,t.length),H:(e,t)=>i2(e.getHours(),t.length),m:(e,t)=>i2(e.getMinutes(),t.length),s:(e,t)=>i2(e.getSeconds(),t.length),S(e,t){let r=t.length;return i2(Math.trunc(e.getMilliseconds()*Math.pow(10,r-3)),t.length)}},i5={G:function(e,t,r){let a=+(e.getFullYear()>0);switch(t){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});default:return r.era(a,{width:"wide"})}},y:function(e,t,r){if("yo"===t){let t=e.getFullYear();return r.ordinalNumber(t>0?t:1-t,{unit:"year"})}return i6.y(e,t)},Y:function(e,t,r,a){let n=i3(e,a),l=n>0?n:1-n;return"YY"===t?i2(l%100,2):"Yo"===t?r.ordinalNumber(l,{unit:"year"}):i2(l,t.length)},R:function(e,t){return i2(iY(e),t.length)},u:function(e,t){return i2(e.getFullYear(),t.length)},Q:function(e,t,r){let a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return i2(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,r){let a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return i2(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,r){let a=e.getMonth();switch(t){case"M":case"MM":return i6.M(e,t);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,r){let a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return i2(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,r,a){let n,l,i,o,s=Math.round((iW(o=iq(e,a?.in),a)-(n=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??iK.firstWeekContainsDate??iK.locale?.options?.firstWeekContainsDate??1,l=i3(o,a),(i=iH(a?.in||o,0)).setFullYear(l,0,n),i.setHours(0,0,0,0),iW(i,a)))/6048e5)+1;return"wo"===t?r.ordinalNumber(s,{unit:"week"}):i2(s,t.length)},I:function(e,t,r){let a,n,l,i=Math.round((iG(l=iq(e,void 0))-(a=iY(l,void 0),(n=iH(l,0)).setFullYear(a,0,4),n.setHours(0,0,0,0),iG(n)))/6048e5)+1;return"Io"===t?r.ordinalNumber(i,{unit:"week"}):i2(i,t.length)},d:function(e,t,r){return"do"===t?r.ordinalNumber(e.getDate(),{unit:"date"}):i6.d(e,t)},D:function(e,t,r){let a,n,l=function(e,t,r){let[a,n]=iQ(void 0,e,t),l=iJ(a),i=iJ(n);return Math.round((l-iX(l)-(i-iX(i)))/864e5)}(a=iq(e,void 0),((n=iq(a,void 0)).setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n))+1;return"Do"===t?r.ordinalNumber(l,{unit:"dayOfYear"}):i2(l,t.length)},E:function(e,t,r){let a=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,r,a){let n=e.getDay(),l=(n-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return i2(l,2);case"eo":return r.ordinalNumber(l,{unit:"day"});case"eee":return r.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},c:function(e,t,r,a){let n=e.getDay(),l=(n-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return i2(l,t.length);case"co":return r.ordinalNumber(l,{unit:"day"});case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"});default:return r.day(n,{width:"wide",context:"standalone"})}},i:function(e,t,r){let a=e.getDay(),n=0===a?7:a;switch(t){case"i":return String(n);case"ii":return i2(n,t.length);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,r){let a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){let a=e.getHours(),n;switch(n=12===a?"noon":0===a?"midnight":a/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,r){let a=e.getHours(),n;switch(n=a>=17?"evening":a>=12?"afternoon":a>=4?"morning":"night",t){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,r){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),r.ordinalNumber(t,{unit:"hour"})}return i6.h(e,t)},H:function(e,t,r){return"Ho"===t?r.ordinalNumber(e.getHours(),{unit:"hour"}):i6.H(e,t)},K:function(e,t,r){let a=e.getHours()%12;return"Ko"===t?r.ordinalNumber(a,{unit:"hour"}):i2(a,t.length)},k:function(e,t,r){let a=e.getHours();return 0===a&&(a=24),"ko"===t?r.ordinalNumber(a,{unit:"hour"}):i2(a,t.length)},m:function(e,t,r){return"mo"===t?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):i6.m(e,t)},s:function(e,t,r){return"so"===t?r.ordinalNumber(e.getSeconds(),{unit:"second"}):i6.s(e,t)},S:function(e,t){return i6.S(e,t)},X:function(e,t,r){let a=e.getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return i8(a);case"XXXX":case"XX":return i9(a);default:return i9(a,":")}},x:function(e,t,r){let a=e.getTimezoneOffset();switch(t){case"x":return i8(a);case"xxxx":case"xx":return i9(a);default:return i9(a,":")}},O:function(e,t,r){let a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+i4(a,":");default:return"GMT"+i9(a,":")}},z:function(e,t,r){let a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+i4(a,":");default:return"GMT"+i9(a,":")}},t:function(e,t,r){return i2(Math.trunc(e/1e3),t.length)},T:function(e,t,r){return i2(+e,t.length)}};function i4(e,t=""){let r=e>0?"-":"+",a=Math.abs(e),n=Math.trunc(a/60),l=a%60;return 0===l?r+String(n):r+String(n)+t+i2(l,2)}function i8(e,t){return e%60==0?(e>0?"-":"+")+i2(Math.abs(e)/60,2):i9(e,t)}function i9(e,t=""){let r=Math.abs(e);return(e>0?"-":"+")+i2(Math.trunc(r/60),2)+t+i2(r%60,2)}var i7=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},oe=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},ot={p:oe,P:(e,t)=>{let r,a=e.match(/(P+)(p+)?/)||[],n=a[1],l=a[2];if(!l)return i7(e,t);switch(n){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;default:r=t.dateTime({width:"full"})}return r.replace("{{date}}",i7(n,t)).replace("{{time}}",oe(l,t))}},or=/^D+$/,oa=/^Y+$/,on=["D","DD","YY","YYYY"],ol=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,oi=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,oo=/^'([^]*?)'?$/,os=/''/g,oc=/[a-zA-Z]/;function ou(e,t,r){let a=r?.locale??iK.locale??f.b,n=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??iK.firstWeekContainsDate??iK.locale?.options?.firstWeekContainsDate??1,l=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??iK.weekStartsOn??iK.locale?.options?.weekStartsOn??0,i=iq(e,r?.in);if(!(i instanceof Date||"object"==typeof i&&"[object Date]"===Object.prototype.toString.call(i))&&"number"!=typeof i||isNaN(+iq(i)))throw RangeError("Invalid time value");let o=t.match(oi).map(e=>{let t=e[0];return"p"===t||"P"===t?(0,ot[t])(e,a.formatLong):e}).join("").match(ol).map(e=>{if("''"===e)return{isToken:!1,value:"'"};let t=e[0];if("'"===t){var r;let t;return{isToken:!1,value:(t=(r=e).match(oo))?t[1].replace(os,"'"):r}}if(i5[t])return{isToken:!0,value:e};if(t.match(oc))throw RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});a.localize.preprocessor&&(o=a.localize.preprocessor(i,o));let s={firstWeekContainsDate:n,weekStartsOn:l,locale:a};return o.map(n=>{if(!n.isToken)return n.value;let l=n.value;return(!r?.useAdditionalWeekYearTokens&&oa.test(l)||!r?.useAdditionalDayOfYearTokens&&or.test(l))&&function(e,t,r){var a,n,l;let i,o=(a=e,n=t,l=r,i="Y"===a[0]?"years":"days of the month",`Use \`${a.toLowerCase()}\` instead of \`${a}\` (in \`${n}\`) for formatting ${i} to the input \`${l}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`);if(console.warn(o),on.includes(e))throw RangeError(o)}(l,t,String(e)),(0,i5[l[0]])(i,l,a.localize,s)}).join("")}function od(e,t){var r;let a="function"==typeof(r=t)&&r.prototype?.constructor===r?new t(0):iH(t,0);return a.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),a.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),a}var of=({date:e,i18n:t,pattern:r,timezone:a})=>{let n=new iF(new Date(e));if(a){let e=iF.tz(a),l=od(n.withTimeZone(a),e);return t.dateFNS?ou(l,r,{locale:t.dateFNS}):`${t.t("general:loading")}...`}return t.dateFNS?ou(n,r,{locale:t.dateFNS}):`${t.t("general:loading")}...`},op=({date:e,i18n:t})=>{var r;let a="string"==typeof e?new Date(e):e;return t?.dateFNS?(r={locale:t.dateFNS},function(e,t,r){var a;let n=r?.locale??iK.locale??f.b,l=iZ(e,t);if(isNaN(l))throw RangeError("Invalid time value");let i=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:l}),[o,s]=iQ(r?.in,...l>0?[t,e]:[e,t]),c=(a=void 0,e=>{let t=(a?Math[a]:Math.trunc)(e);return 0===t?0:t})((iq(s)-iq(o))/1e3),u=Math.round((c-(iX(s)-iX(o))/1e3)/60),d;if(u<2)return r?.includeSeconds?c<5?n.formatDistance("lessThanXSeconds",5,i):c<10?n.formatDistance("lessThanXSeconds",10,i):c<20?n.formatDistance("lessThanXSeconds",20,i):c<40?n.formatDistance("halfAMinute",0,i):c<60?n.formatDistance("lessThanXMinutes",1,i):n.formatDistance("xMinutes",1,i):0===u?n.formatDistance("lessThanXMinutes",1,i):n.formatDistance("xMinutes",u,i);if(u<45)return n.formatDistance("xMinutes",u,i);if(u<90)return n.formatDistance("aboutXHours",1,i);if(u<1440){let e=Math.round(u/60);return n.formatDistance("aboutXHours",e,i)}if(u<2520)return n.formatDistance("xDays",1,i);if(u<43200){let e=Math.round(u/1440);return n.formatDistance("xDays",e,i)}if(u<86400)return d=Math.round(u/43200),n.formatDistance("aboutXMonths",d,i);if((d=function(e,t,r){var a;let n,l,i,[o,s,c]=iQ(void 0,e,e,t),u=iZ(s,c),d=Math.abs(function(e,t,r){let[a,n]=iQ(void 0,e,t);return 12*(a.getFullYear()-n.getFullYear())+(a.getMonth()-n.getMonth())}(s,c));if(d<1)return 0;1===s.getMonth()&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-u*d);let f=iZ(s,c)===-u;+i1(n=iq(o,void 0),void 0)==+(a=void 0,i=(l=iq(n,a?.in)).getMonth(),l.setFullYear(l.getFullYear(),i+1,0),l.setHours(23,59,59,999),l)&&1===d&&1===iZ(o,c)&&(f=!1);let p=u*(d-f);return 0===p?0:p}(s,o))<12){let e=Math.round(u/43200);return n.formatDistance("xMonths",e,i)}{let e=d%12,t=Math.trunc(d/12);return e<3?n.formatDistance("aboutXYears",t,i):e<9?n.formatDistance("overXYears",t,i):n.formatDistance("almostXYears",t+1,i)}}(a,i0(a),r)):`${t.t("general:loading")}...`};function oh(e){return"object"==typeof e&&"root"in e}function om(e,t){for(let r of e)"text"in r&&r.text?t+=r.text:"children"in r||(t+=`[${r.type}]`),"children"in r&&r.children&&(t+=om(r.children,t));return t}var og=({collectionConfig:e,data:t,dateFormat:r,fallback:a,globalConfig:n,i18n:l})=>{let i;if(e){let a=e?.admin?.useAsTitle;if(a&&(i=t?.[a])){let n,o=e.fields.find(e=>"name"in e&&e.name===a),s=o?.type==="date",c=o?.type==="relationship";s&&(i=of({date:i,i18n:l,pattern:"date"in o.admin&&o?.admin?.date?.displayFormat||r})||i),c&&(i=Array.isArray(n=t[a])?n.map(e=>"object"==typeof e&&null!==e?e.id:String(e)).filter(Boolean).join(", "):"object"==typeof n&&null!==n?n.id||"":String(n))}}return n&&(i=m(n?.label,l)||n?.slug),i&&oh(i)&&(i=om(i.root.children?.[0]?.children||[],"")),!i&&oh(a)&&(i=om(a.root.children?.[0]?.children||[],"")),i||(i="string"==typeof a?a:`[${l.t("general:untitled")}]`),i},ob=(0,c.createContext)({}),ov=()=>(0,c.use)(ob),oy=({children:e})=>{let{id:t,collectionSlug:r,data:a,docConfig:n,globalSlug:l,initialData:i}=o$(),{config:{admin:{dateFormat:o}}}=(0,d.b)(),{i18n:s}=(0,f.d)(),[u,p]=(0,c.useState)(()=>og({collectionConfig:r?n:void 0,data:{...i||{},id:t},dateFormat:o,fallback:t?.toString(),globalConfig:l?n:void 0,i18n:s}));return(0,c.useEffect)(()=>{p(og({collectionConfig:r?n:void 0,data:{...a,id:t},dateFormat:o,fallback:t?.toString(),globalConfig:l?n:void 0,i18n:s}))},[a,o,s,t,r,n,l]),(0,h.jsx)(ob,{value:{setDocumentTitle:p,title:u},children:e})},ox=c.default.createContext({getUploadEdits:()=>{},resetUploadEdits:void 0,updateUploadEdits:void 0,uploadEdits:void 0}),ow=e=>{let t=(0,v.c)(10),{children:r,initialUploadEdits:a}=e,n;t[0]!==a?(n=a||{},t[0]=a,t[1]=n):n=t[1];let[l,i]=c.default.useState(n),o;t[2]===Symbol.for("react.memo_cache_sentinel")?(o=()=>{i({})},t[2]=o):o=t[2];let s=o,u;t[3]===Symbol.for("react.memo_cache_sentinel")?(u=e=>{i(t=>({...t||{},...e||{}}))},t[3]=u):u=t[3];let d=u,f;t[4]!==l?(f=()=>l,t[4]=l,t[5]=f):f=t[5];let p=f,m;return t[6]!==r||t[7]!==p||t[8]!==l?(m=(0,h.jsx)(ox,{value:{getUploadEdits:p,resetUploadEdits:s,updateUploadEdits:d,uploadEdits:l},children:r}),t[6]=r,t[7]=p,t[8]=l,t[9]=m):m=t[9],m},oj=()=>c.default.use(ox),oC=e=>{let{collectionSlug:t,docPermissions:r,globalSlug:a,isEditing:n}=e;return t?!!(n&&r?.update||!n&&r?.create):!!a&&!!r?.update},oS=(0,c.createContext)({}),o$=()=>(0,c.use)(oS),o_=({children:e,...t})=>{let{id:r,collectionSlug:a,currentEditor:n,docPermissions:l,globalSlug:i,hasPublishedDoc:o,hasPublishPermission:s,hasSavePermission:u,initialData:p,initialState:m,isLocked:g,lastUpdateTime:b,mostRecentVersionIsAutosaved:v,unpublishedVersionCount:y,versionCount:x}=t,[w,j]=iO(l),[C,S]=iO(u),[$,_]=iO(s),{permissions:k}=ig(),{config:{admin:{dateFormat:E},routes:{api:N},serverURL:P},getEntityConfig:D}=(0,d.b)(),T=D({collectionSlug:a}),O=D({globalSlug:i}),R=(0,c.useRef)(new AbortController),A=T||O,{i18n:I}=(0,f.d)(),{uploadEdits:M}=oj(),[L,F]=(0,c.useState)(()=>og({collectionConfig:T,data:{...p||{},id:r},dateFormat:E,fallback:r?.toString(),globalConfig:O,i18n:I})),[B,z]=(0,c.useState)(v),[U,V]=(0,c.useState)(x),[H,q]=(0,c.useState)(o),[K,W]=(0,c.useState)(y),[G,Y]=iO(g),[X,Q]=iO(n),[J,Z]=iO(b),[ee,et]=iO(p),[er,ea]=iO("idle"),en=(0,c.useRef)({hasShownLockedModal:!1,isLocked:!1,user:null}),el=(0,c.useCallback)(e=>{ea(e)},[ea]),{getPreference:ei,setPreference:eo}=ix(),{code:es}=i_(),{localeIsLoading:ec}=i$(),eu=(0,c.useMemo)(()=>void 0===m||void 0===p||ec,[p,m,ec]),ed=`${P}${N}`,ef,ep,eh;i&&(ef=i,ep="globals",eh=`global-${ef}`),a&&(ef=a,ep="collections",r&&(eh=`collection-${ef}-${r}`));let em=(0,c.useCallback)(async(e,t)=>{try{let r=t===i,a=await ip.get(`${P}${N}/payload-locked-documents`,{credentials:"include",params:r?{"where[globalSlug][equals]":t}:{"where[document.relationTo][equals]":t,"where[document.value][equals]":e}}),{docs:n}=await a.json();if(n?.length>0){let e=n[0].id;await ip.delete(`${P}${N}/payload-locked-documents/${e}`,{credentials:"include",headers:{"Content-Type":"application/json"}}),Y(!1)}}catch(e){console.error("Failed to unlock the document",e)}},[P,N,i,Y]),eg=(0,c.useCallback)(async(e,t,r)=>{try{let a=t===i,n=await ip.get(`${P}${N}/payload-locked-documents`,{credentials:"include",params:a?{"where[globalSlug][equals]":t}:{"where[document.relationTo][equals]":t,"where[document.value][equals]":e}}),{docs:l}=await n.json();if(l?.length>0){let e=l[0].id,t="object"==typeof r?{relationTo:r.collection,value:r.id}:{relationTo:"users",value:r};await ip.patch(`${P}${N}/payload-locked-documents/${e}`,{body:JSON.stringify({user:t}),credentials:"include",headers:{"Content-Type":"application/json"}})}}catch(e){console.error("Failed to update the document editor",e)}},[P,N,i]),eb=(({id:e,api:t,collectionSlug:r,globalSlug:a,i18n:n,locale:l,permissions:i,serverURL:o,setDocPermissions:s,setHasPublishPermission:u,setHasSavePermission:d})=>c.default.useCallback(async c=>{let f={locale:l||void 0},p=c?.id||e,h=(({id:e,collectionSlug:t,globalSlug:r})=>!!(r||t&&e))({id:p,collectionSlug:r,globalSlug:a});if(h){let e=r?`/${r}/access/${p}`:a?`/globals/${a}/access`:null;if(e){let l=await (await fetch(`${o}${t}${e}?${tZ(f)}`,{body:JSON.stringify({...c||{},_status:"draft"}),credentials:"include",headers:{"Accept-Language":n.language,"Content-Type":"application/json"},method:"post"})).json(),i=await fetch(`${o}${t}${e}?${tZ(f)}`,{body:JSON.stringify({...c||{},_status:"published"}),credentials:"include",headers:{"Accept-Language":n.language,"Content-Type":"application/json"},method:"POST"}).then(e=>e.json());s(l),d(oC({collectionSlug:r,docPermissions:l,globalSlug:a,isEditing:h})),u(i?.update)}}else{let e=r?i?.collections?.[r]:i?.globals?.[a];s(e),d(oC({collectionSlug:r,docPermissions:e,globalSlug:a,isEditing:h}))}},[l,e,r,a,o,t,n.language,s,d,u,i?.collections,i?.globals]))({id:r,api:N,collectionSlug:a,globalSlug:i,i18n:I,locale:es,permissions:k,serverURL:P,setDocPermissions:j,setHasPublishPermission:_,setHasSavePermission:S}),ev=(0,c.useCallback)(()=>ei(eh),[ei,eh]),ey=(0,c.useCallback)(async(e,t)=>{let r=await ev();if(eh)try{await eo(eh,{...r,fields:{...r?.fields||{},[e]:{...r?.fields?.[e],...t}}})}catch(e){console.error(e)}},[eo,eh,ev]),ex=(0,c.useCallback)(()=>{let e=U+1;T&&T.versions?T.versions.maxPerDoc>0?V(Math.min(e,T.versions.maxPerDoc)):V(e):O&&O.versions&&(O.versions.max>0?V(Math.min(e,O.versions.max)):V(e))},[T,O,U]);(0,c.useEffect)(()=>{F(og({collectionConfig:T,data:{...ee,id:r},dateFormat:E,fallback:r?.toString(),globalConfig:O,i18n:I}))},[T,O,ee,E,I,r]),(0,c.useEffect)(()=>{let e=R.current;return()=>{if(e)try{e.abort()}catch{}}},[]);let ew=c.default.useMemo(()=>`${ed}${"globals"===ep?"/globals":""}/${ef}${r?`/${r}`:""}${tZ({depth:0,"fallback-locale":"null",locale:es,uploadEdits:M||void 0},{addQueryPrefix:!0})}`,[ed,es,ep,r,ef,M]),ej={...t,action:ew,currentEditor:X,data:ee,docConfig:A,docPermissions:w,documentIsLocked:G,documentLockState:en,getDocPermissions:eb,getDocPreferences:ev,hasPublishedDoc:H,hasPublishPermission:$,hasSavePermission:C,incrementVersionCount:ex,initialData:p,initialState:m,isInitializing:eu,lastUpdateTime:J,mostRecentVersionIsAutosaved:B,preferencesKey:eh,savedDocumentData:ee,setCurrentEditor:Q,setData:et,setDocFieldPreferences:ey,setDocumentIsLocked:Y,setDocumentTitle:F,setHasPublishedDoc:q,setLastUpdateTime:Z,setMostRecentVersionIsAutosaved:z,setUnpublishedVersionCount:W,setUploadStatus:el,title:L,unlockDocument:em,unpublishedVersionCount:K,updateDocumentEditor:eg,updateSavedDocumentData:et,uploadStatus:er,versionCount:U};return(0,h.jsx)(oS,{value:ej,children:(0,h.jsx)(oy,{children:e})})},ok=e=>(0,h.jsx)(ow,{children:(0,h.jsx)(o_,{...e})}),oE=(0,c.createContext)(""),oN=({children:e,operation:t})=>(0,h.jsx)(oE,{value:t,children:e}),oP=()=>(0,c.use)(oE),oD=c.default.createContext(void 0),oT=()=>{let e=c.default.useContext(oD);if(e)return e},oO=c.default.createContext(void 0),oR=e=>{let t=oT(),r=c.default.use(oO),a=c.default.useRef(null);if(null===a.current){let n=e?.path||t||e.potentiallyStalePath;a.current=!!(r&&n&&r.path===n)}if(!0===a.current){if(!r)throw Error("FieldContext was removed after mount. This breaks hook ordering.");return r}return(e=>{let t=(0,v.c)(65),r;t[0]!==e?(r=e||{},t[0]=e,t[1]=r):r=t[1];let{disableFormData:a,hasRows:n,path:l,potentiallyStalePath:i,validate:o}=r,s=void 0!==a&&a,u=oT(),p=l||u||i,h=al(),m=ai(),g=ac(),{user:b}=ig(),{id:y,collectionSlug:x}=o$(),w=oP(),j=au(oA),C;t[2]!==p?(C=e=>{let[t]=e;return t&&t?.[p]||null},t[2]=p,t[3]=C):C=t[3];let S=au(C),{t:$}=(0,f.d)(),{config:_}=(0,d.b)(),{getData:k,getDataByPath:E,getSiblingData:N,setModified:P}=ar(),D=aa(),T=S?.filterOptions,O=S?.value,R=S?.initialValue,A="boolean"!=typeof S?.valid||S.valid,I=!1===A&&h,M=(0,c.useRef)(A),L=(0,c.useRef)(S?.errorMessage),F;t[4]!==p?(F=p?p.split("."):[],t[4]=p,t[5]=F):F=t[5];let B=F,z;t[6]!==s||t[7]!==j||t[8]!==n||t[9]!==p||t[10]!==P?(z=(e,t)=>{let r=e&&"object"==typeof e&&"function"==typeof e.preventDefault&&"function"==typeof e.stopPropagation?e.target.value:e;j({type:"UPDATE",disableFormData:s||n&&r>0,path:p,value:r}),void 0!==t&&t||P(!0)},t[6]=s,t[7]=j,t[8]=n,t[9]=p,t[10]=P,t[11]=z):z=t[11];let U=z,V=S?.blocksFilterOptions,H=S?.customComponents,q=m||g,K=S?.errorMessage,W;t[12]!==S?.errorPaths?(W=S?.errorPaths||[],t[12]=S?.errorPaths,t[13]=W):W=t[13];let G=S?.rows,Y=S?.selectFilterOptions,X=S?.valid,Q;t[14]!==T||t[15]!==R||t[16]!==g||t[17]!==p||t[18]!==m||t[19]!==U||t[20]!==I||t[21]!==h||t[22]!==G||t[23]!==Y||t[24]!==X||t[25]!==V||t[26]!==H||t[27]!==q||t[28]!==K||t[29]!==W||t[30]!==O?(Q={blocksFilterOptions:V,customComponents:H,disabled:q,errorMessage:K,errorPaths:W,filterOptions:T,formInitializing:g,formProcessing:m,formSubmitted:h,initialValue:R,path:p,rows:G,selectFilterOptions:Y,setValue:U,showError:I,valid:X,value:O},t[14]=T,t[15]=R,t[16]=g,t[17]=p,t[18]=m,t[19]=U,t[20]=I,t[21]=h,t[22]=G,t[23]=Y,t[24]=X,t[25]=V,t[26]=H,t[27]=q,t[28]=K,t[29]=W,t[30]=O,t[31]=Q):Q=t[31];let J=Q,Z;t[32]!==x||t[33]!==_||t[34]!==s||t[35]!==j||t[36]!==D||t[37]!==S||t[38]!==k||t[39]!==E||t[40]!==N||t[41]!==n||t[42]!==y||t[43]!==w||t[44]!==p||t[45]!==B||t[46]!==$||t[47]!==b||t[48]!==o||t[49]!==O?(Z=()=>{(async()=>{let e=O;S?.rows&&Array.isArray(S.rows)&&(e=E(p));let t=L.current,r=M.current,a=k(),l="function"==typeof o?await o(e,{id:y,blockData:void 0,collectionSlug:x,data:D?.getData?D.getData():a,event:"onChange",operation:w,path:B,preferences:{},req:{payload:{config:_},t:$,user:b},siblingData:N(p)}):"string"==typeof L.current?L.current:M.current;if("string"==typeof l?(r=!1,t=l):"boolean"==typeof l&&(r=l,t=void 0),r!==M.current||t!==L.current){M.current=r,L.current=t;let e={type:"UPDATE",errorMessage:t,path:p,rows:S?.rows,valid:r,validate:o,value:O};(s||n&&"number"==typeof O&&O>0)&&(e.disableFormData=!0),"function"==typeof j&&j(e)}})()},t[32]=x,t[33]=_,t[34]=s,t[35]=j,t[36]=D,t[37]=S,t[38]=k,t[39]=E,t[40]=N,t[41]=n,t[42]=y,t[43]=w,t[44]=p,t[45]=B,t[46]=$,t[47]=b,t[48]=o,t[49]=O,t[50]=Z):Z=t[50];let ee=S?.rows,et;return t[51]!==x||t[52]!==s||t[53]!==j||t[54]!==k||t[55]!==E||t[56]!==N||t[57]!==y||t[58]!==w||t[59]!==p||t[60]!==ee||t[61]!==b||t[62]!==o||t[63]!==O?(et=[O,s,j,k,N,E,y,w,p,b,o,ee,x],t[51]=x,t[52]=s,t[53]=j,t[54]=k,t[55]=E,t[56]=N,t[57]=y,t[58]=w,t[59]=p,t[60]=ee,t[61]=b,t[62]=o,t[63]=O,t[64]=et):et=t[64],iT(Z,150,et),J})(e)};function oA(e){let[,t]=e;return t}var oI=e=>{let t=(0,v.c)(2),{children:r,path:a}=e,n;t[0]!==a?(n=e=>{let[t]=e;return t&&t?.[a]||null},t[0]=a,t[1]=n):n=t[1];let{passesCondition:l}=au(n)||{};return!1===l?null:r},oM=e=>t=>{let{path:r}=t;return(0,h.jsx)(oI,{path:r,children:(0,h.jsx)(e,{...t})})},oL=e=>({...e?.admin?.style||{},...e?.admin?.width?{"--field-width":e.admin.width}:{flex:"1 1 auto"},...e?.admin?.style?.flex?{flex:e.admin.style.flex}:{}}),oF="field-type";function oB({fieldLocalized:e,fieldRTL:t,locale:r,localizationConfig:a}){let n=r&&a&&a.locales&&a.locales.length>1,l=r?.code===a?.defaultLocale;return!1!==t&&r?.rtl===!0&&(e||!e&&!n||!e&&l)||!0===t}var oz=()=>(0,h.jsx)("svg",{className:"icon icon--check",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{className:"stroke",d:"M15.3333 6.00001L8.00001 13.3333L4.66667 10",strokeLinecap:"square"})}),oU=()=>(0,h.jsx)("svg",{className:"icon icon--line",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{className:"stroke",d:"M5.33333 10H14.6667",strokeLinecap:"square"})}),oV="checkbox-input",oH=e=>{let t=(0,v.c)(22),{id:r,name:a,AfterInput:n,BeforeInput:l,checked:i,className:o,inputRef:s,Label:u,label:d,localized:f,onToggle:p,partialChecked:m,readOnly:g,required:b}=e,y=(0,c.useId)(),x=r||y,w=i&&`${oV}--checked`,j=g&&`${oV}--read-only`,C;t[0]!==o||t[1]!==w||t[2]!==j?(C=[o,oV,w,j].filter(Boolean),t[0]=o,t[1]=w,t[2]=j,t[3]=C):C=t[3];let S=C.join(" "),$=!!i,_;if(t[4]!==n||t[5]!==l||t[6]!==u||t[7]!==i||t[8]!==x||t[9]!==s||t[10]!==d||t[11]!==f||t[12]!==a||t[13]!==p||t[14]!==m||t[15]!==g||t[16]!==b||t[17]!==S||t[18]!==$){let e=(0,h.jsx)("input",{"aria-label":"","aria-labelledby":a,defaultChecked:$,disabled:g,id:x,name:a,onInput:p,ref:s,required:b,title:a,type:"checkbox"}),r=!i&&m?"partial":"check",o;t[20]!==r?(o=[`${oV}__icon`,r].filter(Boolean),t[20]=r,t[21]=o):o=t[21],_=(0,h.jsxs)("div",{className:S,children:[(0,h.jsxs)("div",{className:`${oV}__input`,children:[l,e,(0,h.jsxs)("span",{className:o.join(" "),children:[i&&(0,h.jsx)(oz,{}),!i&&m&&(0,h.jsx)(oU,{})]}),n]}),(0,h.jsx)(rY,{CustomComponent:u,Fallback:(0,h.jsx)(iN,{htmlFor:x,label:d,localized:f,required:b})})]}),t[4]=n,t[5]=l,t[6]=u,t[7]=i,t[8]=x,t[9]=s,t[10]=d,t[11]=f,t[12]=a,t[13]=p,t[14]=m,t[15]=g,t[16]=b,t[17]=S,t[18]=$,t[19]=_}else _=t[19];return _},oq="checkbox",oK=oM(e=>{let{id:t,checked:r,disableFormData:a,field:n,field:{admin:{className:l,description:i}={},label:o,required:s}={},onChange:u,partialChecked:d,path:p,readOnly:m,validate:g}=e,{uuid:b}=ar(),v=nq(),{i18n:{language:y}}=(0,f.d)(),x=t1.includes(y),{customComponents:{AfterInput:w,BeforeInput:j,Description:C,Error:S,Label:$}={},disabled:_,path:k,setValue:E,showError:N,value:P}=oR({disableFormData:a,potentiallyStalePath:p,validate:(0,c.useCallback)((e,t)=>{if("function"==typeof g)return g(e,{...t,required:s})},[g,s])}),D=(0,c.useCallback)(()=>{m||(E(!P),"function"==typeof u&&u(!P))},[u,m,E,P]),T=r||!!P,O=t||iE(k,v,b),R=(0,c.useMemo)(()=>oL(n),[n]);return(0,h.jsxs)("div",{className:[oF,oq,N&&"error",l,P&&`${oq}--checked`,(m||_)&&`${oq}--read-only`].filter(Boolean).join(" "),style:R,children:[(0,h.jsx)(rY,{CustomComponent:S,Fallback:(0,h.jsx)(nU,{alignCaret:x?"right":"left",path:k,showError:N})}),(0,h.jsx)(oH,{AfterInput:w,BeforeInput:j,checked:T,id:O,inputRef:null,Label:$,label:o,name:k,onToggle:D,partialChecked:d,readOnly:m||_,required:s}),(0,h.jsx)(rY,{CustomComponent:C,Fallback:(0,h.jsx)(nz,{description:i,path:k})})]})}),oW=e=>{let t,r,a=(0,v.c)(13),{fieldValue:n,localized:l,path:i,readOnly:o}=e,s=void 0!==o&&o,{code:u}=i_(),{config:p}=(0,d.b)(),{localization:m}=p,[g,b]=c.useState("number"!=typeof n),{t:y}=(0,f.d)(),{dispatchFields:x,setModified:w}=ar();if(!l||!m||m.defaultLocale===u||!m.fallback)return null;a[0]!==g||a[1]!==x||a[2]!==n||a[3]!==i||a[4]!==w?(t=()=>{let e=!g;x({type:"UPDATE",path:i,value:e?null:n||0}),w(!0),b(e)},a[0]=g,a[1]=x,a[2]=n,a[3]=i,a[4]=w,a[5]=t):t=a[5];let j=t;if(n){let e=!1;if("number"==typeof n&&n>0&&(e=!0),Array.isArray(n)&&n.length>0&&(e=!0),e)return g&&b(!1),null}return a[6]!==g||a[7]!==n||a[8]!==j||a[9]!==i||a[10]!==s||a[11]!==y?(r=(0,h.jsx)(aB,{className:"nullify-locale-field",children:!n&&s?y("general:fallbackToDefaultLocale"):(0,h.jsx)(oK,{checked:g,field:{name:"",label:y("general:fallbackToDefaultLocale")},id:`field-${i.replace(/\./g,"__")}`,onChange:j,path:i,schemaPath:""})}),a[6]=g,a[7]=n,a[8]=j,a[9]=i,a[10]=s,a[11]=y,a[12]=r):r=a[12],r},oG=e=>{let t=document.getElementById(e);if(t){let e=t.getBoundingClientRect();window.scrollBy({behavior:"smooth",top:e.top-100})}},oY="array-actions",oX=e=>{let t=(0,v.c)(12),{addRow:r,copyRow:a,duplicateRow:n,hasMaxRows:l,index:i,isSortable:o,moveRow:s,pasteRow:u,removeRow:d,rowCount:p}=e,{t:m}=(0,f.d)(),g;return t[0]!==r||t[1]!==a||t[2]!==n||t[3]!==l||t[4]!==i||t[5]!==o||t[6]!==s||t[7]!==u||t[8]!==d||t[9]!==p||t[10]!==m?(g=(0,h.jsx)(a7,{button:(0,h.jsx)(ns,{}),buttonClassName:`${oY}__button`,className:oY,horizontalAlign:"center",render:e=>{let{close:t}=e;return(0,h.jsxs)(aK.ButtonGroup,{buttonSize:"small",children:[o&&0!==i&&(0,h.jsxs)(aK.Button,{className:`${oY}__action ${oY}__move-up`,onClick:()=>{s(i,i-1),t()},children:[(0,h.jsx)("div",{className:`${oY}__action-chevron`,children:(0,h.jsx)(az,{direction:"up"})}),m("general:moveUp")]}),o&&i<p-1&&(0,h.jsxs)(aK.Button,{className:`${oY}__action`,onClick:()=>{s(i,i+1),t()},children:[(0,h.jsx)("div",{className:`${oY}__action-chevron`,children:(0,h.jsx)(az,{})}),m("general:moveDown")]}),!l&&(0,h.jsxs)(c.default.Fragment,{children:[(0,h.jsxs)(aK.Button,{className:`${oY}__action ${oY}__add`,onClick:()=>{r(i+1),t()},children:[(0,h.jsx)(aH,{}),m("general:addBelow")]}),(0,h.jsxs)(aK.Button,{className:`${oY}__action ${oY}__duplicate`,onClick:()=>{n(i),t()},children:[(0,h.jsx)(nc,{}),m("general:duplicate")]})]}),(0,h.jsx)(aK.Button,{className:`${oY}__action ${oY}__copy`,onClick:()=>{a(i),t()},children:(0,h.jsx)(nu,{isRow:!0})}),(0,h.jsx)(aK.Button,{className:`${oY}__action ${oY}__paste`,onClick:()=>{u(i),t()},children:(0,h.jsx)(nu,{isPaste:!0,isRow:!0})}),(0,h.jsxs)(aK.Button,{className:`${oY}__action ${oY}__remove`,onClick:()=>{d(i),t()},children:[(0,h.jsx)(f.a,{}),m("general:remove")]})]})},size:"medium"}),t[0]=r,t[1]=a,t[2]=n,t[3]=l,t[4]=i,t[5]=o,t[6]=s,t[7]=u,t[8]=d,t[9]=p,t[10]=m,t[11]=g):g=t[11],g},oQ=({className:e})=>(0,h.jsxs)("svg",{className:["icon icon--drag-handle",e].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{className:"fill",d:"M7.99999 10.6667C8.36818 10.6667 8.66666 10.3682 8.66666 9.99999C8.66666 9.6318 8.36818 9.33332 7.99999 9.33332C7.63181 9.33332 7.33333 9.6318 7.33333 9.99999C7.33333 10.3682 7.63181 10.6667 7.99999 10.6667Z",strokeLinecap:"square"}),(0,h.jsx)("path",{className:"fill",d:"M7.99999 5.99999C8.36818 5.99999 8.66666 5.70151 8.66666 5.33332C8.66666 4.96513 8.36818 4.66666 7.99999 4.66666C7.63181 4.66666 7.33333 4.96513 7.33333 5.33332C7.33333 5.70151 7.63181 5.99999 7.99999 5.99999Z",strokeLinecap:"square"}),(0,h.jsx)("path",{className:"fill",d:"M7.99999 15.3333C8.36818 15.3333 8.66666 15.0348 8.66666 14.6667C8.66666 14.2985 8.36818 14 7.99999 14C7.63181 14 7.33333 14.2985 7.33333 14.6667C7.33333 15.0348 7.63181 15.3333 7.99999 15.3333Z",strokeLinecap:"square"}),(0,h.jsx)("path",{className:"fill",d:"M12 10.6667C12.3682 10.6667 12.6667 10.3682 12.6667 9.99999C12.6667 9.6318 12.3682 9.33332 12 9.33332C11.6318 9.33332 11.3333 9.6318 11.3333 9.99999C11.3333 10.3682 11.6318 10.6667 12 10.6667Z",strokeLinecap:"square"}),(0,h.jsx)("path",{className:"fill",d:"M12 5.99999C12.3682 5.99999 12.6667 5.70151 12.6667 5.33332C12.6667 4.96513 12.3682 4.66666 12 4.66666C11.6318 4.66666 11.3333 4.96513 11.3333 5.33332C11.3333 5.70151 11.6318 5.99999 12 5.99999Z",strokeLinecap:"square"}),(0,h.jsx)("path",{className:"fill",d:"M12 15.3333C12.3682 15.3333 12.6667 15.0348 12.6667 14.6667C12.6667 14.2985 12.3682 14 12 14C11.6318 14 11.3333 14.2985 11.3333 14.6667C11.3333 15.0348 11.6318 15.3333 12 15.3333Z",strokeLinecap:"square"})]}),oJ=({id:e,children:t,className:r,duration:a=300,height:n})=>{let[l,i]=c.default.useState(()=>!!n),o=(0,c.useRef)(l),[s,u]=c.default.useState(()=>l?"":"none"),[d,f]=c.default.useState(()=>l?"":"hidden"),[p,m]=c.default.useState(!1),g=(0,c.useRef)(null),b=(0,c.useRef)(null);return(0,c.useEffect)(()=>{let e,t,r=!!n,l=o.current!==r;return o.current=r,l&&(m(!0),f("hidden"),r?u(""):e=window.setTimeout(()=>{u("none")},a),i(r),t=window.setTimeout(()=>{f(""),m(!1)},a)),()=>{e&&clearTimeout(e),t&&clearTimeout(t)}},[n,a]),(({containerRef:e,contentRef:t,duration:r,open:a})=>{let n=(0,c.useMemo)(()=>!!("u">typeof CSS&&CSS)&&!!CSS.supports&&CSS.supports("interpolate-size","allow-keywords"),[]),l=(0,c.useRef)(!1),i=(0,c.useRef)(a),[o,s]=(0,c.useState)(!1),u=(0,c.useRef)(null);return(0,c.useEffect)(()=>{let c=e.current,d=t.current;if(!c||!d||n)return;let f=e=>{c.style.height=e};return(()=>{if(!l.current&&a){f("auto"),s(!1);return}l.current=!0,i.current!==a&&f(a?"0px":`${d.scrollHeight}px`),c.offsetHeight,s(!0),c.style.transition=`height ${r}ms ease`,f(a?`${d.scrollHeight}px`:"0px");let e=()=>{c&&(c.style.transition="",c.style.height=a?"auto":"0px",s(!1)),c.removeEventListener("transitionend",e)};c.addEventListener("transitionend",e)})(),i.current=a,u.current=new ResizeObserver(()=>{o&&(c.style.height=a?`${d.scrollHeight}px`:"0px")}),u.current.observe(d),()=>{c&&(c.style.transition="",c.style.height=""),u.current?.disconnect()}},[a,r,e,t,n])})({containerRef:g,contentRef:b,duration:a,open:l}),(0,h.jsx)("div",{"aria-hidden":!l,className:[r,"rah-static",l&&"auto"===n&&"rah-static--height-auto",p&&`rah-animating--${l?"down":"up"}`,p&&"auto"===n&&"rah-animating--to-height-auto"].filter(Boolean).join(" "),id:e,ref:g,style:{overflow:d,transition:`height ${a}ms ease`},children:(0,h.jsx)("div",{ref:b,...s?{style:{display:s}}:{},children:t})})},oZ=(0,c.createContext)({isCollapsed:void 0,isVisible:void 0,isWithinCollapsible:void 0,toggle:()=>{}}),o0=({children:e,isCollapsed:t,isWithinCollapsible:r=!0,toggle:a})=>{let{isCollapsed:n,isVisible:l}=o1(),i=c.default.useMemo(()=>({isCollapsed:t,isVisible:l&&!n,isWithinCollapsible:r,toggle:a}),[t,r,a,n,l]);return(0,h.jsx)(oZ,{value:i,children:e})},o1=()=>(0,c.use)(oZ),o3="collapsible",o2=e=>{let t=(0,v.c)(24),{actions:r,children:a,className:n,collapsibleStyle:l,dragHandleProps:i,header:o,initCollapsed:s,isCollapsed:u,onToggle:d}=e,[p,m]=(0,c.useState)(!!s),[g,b]=(0,c.useState)(!1),{isWithinCollapsible:y}=o1(),{t:x}=(0,f.d)(),w="boolean"==typeof u?u:p,j;t[0]!==w||t[1]!==d?(j=()=>{"function"==typeof d&&d(!w),m(!w)},t[0]=w,t[1]=d,t[2]=j):j=t[2];let C=j,S=i&&`${o3}--has-drag-handle`,$=w&&`${o3}--collapsed`,_=y&&`${o3}--nested`,k=g&&`${o3}--hovered`,E=`${o3}--style-${void 0===l?"default":l}`,N;t[3]!==n||t[4]!==S||t[5]!==$||t[6]!==_||t[7]!==k||t[8]!==E?(N=[o3,n,S,$,_,k,E].filter(Boolean),t[3]=n,t[4]=S,t[5]=$,t[6]=_,t[7]=k,t[8]=E,t[9]=N):N=t[9];let P=N.join(" "),D,T;t[10]===Symbol.for("react.memo_cache_sentinel")?(D=()=>b(!0),T=()=>b(!1),t[10]=D,t[11]=T):(D=t[10],T=t[11]);let O=`${o3}__toggle--${w?"collapsed":"open"}`,R;t[12]!==O?(R=[`${o3}__toggle`,O].filter(Boolean),t[12]=O,t[13]=R):R=t[13];let A=R.join(" "),I;return t[14]!==r||t[15]!==a||t[16]!==i||t[17]!==o||t[18]!==w||t[19]!==x||t[20]!==A||t[21]!==P||t[22]!==C?(I=(0,h.jsx)("div",{className:P,children:(0,h.jsxs)(o0,{isCollapsed:w,toggle:C,children:[(0,h.jsxs)("div",{className:`${o3}__toggle-wrap`,onMouseEnter:D,onMouseLeave:T,children:[(0,h.jsx)("button",{className:A,onClick:C,type:"button",children:(0,h.jsx)("span",{children:x("fields:toggleBlock")})}),i&&(0,h.jsx)("div",{className:`${o3}__drag`,...i.attributes,...i.listeners,children:(0,h.jsx)(oQ,{})}),o?(0,h.jsx)("div",{className:[`${o3}__header-wrap`,i&&`${o3}__header-wrap--has-drag-handle`].filter(Boolean).join(" "),children:o}):null,(0,h.jsxs)("div",{className:`${o3}__actions-wrap`,children:[r?(0,h.jsx)("div",{className:`${o3}__actions`,children:r}):null,(0,h.jsx)("div",{className:`${o3}__indicator`,children:(0,h.jsx)(az,{direction:w?void 0:"up"})})]})]}),(0,h.jsx)(oJ,{height:w?0:"auto",children:(0,h.jsx)("div",{className:`${o3}__content`,children:a})})]})}),t[14]=r,t[15]=a,t[16]=i,t[17]=o,t[18]=w,t[19]=x,t[20]=A,t[21]=P,t[22]=C,t[23]=I):I=t[23],I},o6=e=>{let t=(0,v.c)(9),{children:r,className:a,forceRender:n}=e,[l,i]=c.default.useState(!!n),o;t[0]===Symbol.for("react.memo_cache_sentinel")?(o={rootMargin:"1000px"},t[0]=o):o=t[0];let[s,u]=a5(o,!!n),d=!!u?.isIntersecting,f=u?.boundingClientRect?.top<0,p=n||d||f,m,g;t[1]!==l||t[2]!==p?(m=()=>{p&&!l&&i(!0)},g=[p,l],t[1]=l,t[2]=p,t[3]=m,t[4]=g):(m=t[3],g=t[4]),c.default.useEffect(m,g);let b=l?r:null,y;return t[5]!==a||t[6]!==s||t[7]!==b?(y=(0,h.jsx)("div",{className:a,ref:s,children:b}),t[5]=a,t[6]=s,t[7]=b,t[8]=y):y=t[8],y},o5="pill",o4=e=>{let t=(0,v.c)(12),{id:r,className:a}=e,n;t[0]!==r?(n={id:r},t[0]=r,t[1]=n):n=t[1];let{attributes:l,isDragging:i,listeners:o,setNodeRef:s,transform:c}=nA(n),u=i&&`${o5}--is-dragging`,d;t[2]!==a||t[3]!==u?(d=[u,a].filter(Boolean),t[2]=a,t[3]=u,t[4]=d):d=t[4];let f=d.join(" "),p;return t[5]!==l||t[6]!==o||t[7]!==e||t[8]!==s||t[9]!==f||t[10]!==c?(p=(0,h.jsx)(o8,{...e,className:f,elementProps:{...o,...l,ref:s,style:{transform:c}}}),t[5]=l,t[6]=o,t[7]=e,t[8]=s,t[9]=f,t[10]=c,t[11]=p):p=t[11],p},o8=e=>{let{id:t,alignIcon:r="right","aria-checked":a,"aria-controls":n,"aria-expanded":l,"aria-label":i,children:o,className:s,draggable:c,elementProps:u,icon:d,onClick:f,pillStyle:p="light",rounded:m,size:g="medium",to:b}=e,v=[o5,`${o5}--style-${p}`,`${o5}--size-${g}`,s&&s,b&&`${o5}--has-link`,(b||f)&&`${o5}--has-action`,d&&`${o5}--has-icon`,d&&`${o5}--align-icon-${r}`,c&&`${o5}--draggable`,m&&`${o5}--rounded`].filter(Boolean).join(" "),y="div";return f&&!b&&(y="button"),b&&(y=aL),(0,h.jsxs)(y,{...u,"aria-checked":a,"aria-controls":n,"aria-expanded":l,"aria-label":i,className:v,href:b||null,id:t,onClick:f,type:"button"===y?"button":void 0,children:[(0,h.jsx)("span",{className:`${o5}__label`,children:o}),!!d&&(0,h.jsx)("span",{className:`${o5}__icon`,children:d})]})},o9=e=>{let{draggable:t}=e;return t?(0,h.jsx)(o4,{...e}):(0,h.jsx)(o8,{...e})};function o7(e,t){let[r,a]=(0,c.useState)(e);return(0,c.useEffect)(()=>{let r=setTimeout(()=>{a(e)},t);return()=>{clearTimeout(r)}},[e,t]),r}var se="thumbnail-card",st=e=>{let t=(0,v.c)(13),{alignLabel:r,className:a,collection:n,doc:l,label:i,onClick:o,thumbnail:s}=e,{config:c}=(0,d.b)(),{i18n:u}=(0,f.d)(),p="function"==typeof o&&`${se}--has-on-click`,m=r&&`${se}--align-label-${r}`,g;t[0]!==a||t[1]!==p||t[2]!==m?(g=[se,a,p,m].filter(Boolean),t[0]=a,t[1]=p,t[2]=m,t[3]=g):g=t[3];let b=g.join(" "),y;if(t[4]!==b||t[5]!==n||t[6]!==c||t[7]!==l||t[8]!==u||t[9]!==i||t[10]!==o||t[11]!==s){let e=i;e||(e=og({collectionConfig:n,data:l,dateFormat:c.admin.dateFormat,fallback:l?.filename,i18n:u})),y=(0,h.jsxs)("button",{className:b,onClick:o,title:e,type:"button",children:[(0,h.jsx)("div",{className:`${se}__thumbnail`,children:s}),(0,h.jsx)("div",{className:`${se}__label`,children:e})]}),t[4]=b,t[5]=n,t[6]=c,t[7]=l,t[8]=u,t[9]=i,t[10]=o,t[11]=s,t[12]=y}else y=t[12];return y},sr=[];for(sa=0;sa<256;++sa)sr.push((sa+256).toString(16).slice(1));var sa,sn,sl=new Uint8Array(16),si="u">typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),so=function(e,t,r){if(si&&!t&&!e)return si();var a=(e=e||{}).random||(e.rng||function(){if(!sn&&!(sn="u">typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return sn(sl)})();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){r=r||0;for(var n=0;n<16;++n)t[r+n]=a[n];return t}return function(e,t=0){return(sr[e[t+0]]+sr[e[t+1]]+sr[e[t+2]]+sr[e[t+3]]+"-"+sr[e[t+4]]+sr[e[t+5]]+"-"+sr[e[t+6]]+sr[e[t+7]]+"-"+sr[e[t+8]]+sr[e[t+9]]+"-"+sr[e[t+10]]+sr[e[t+11]]+sr[e[t+12]]+sr[e[t+13]]+sr[e[t+14]]+sr[e[t+15]]).toLowerCase()}(a)},ss=()=>{let[e]=(0,c.useState)(()=>`pattern${so()}`);return(0,h.jsxs)("svg",{fill:"none",height:"151",preserveAspectRatio:"xMidYMid slice",viewBox:"0 0 231 151",width:"231",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsxs)("g",{clipPath:`url(#${e})`,children:[(0,h.jsx)("rect",{fill:"#D9D9D9",height:"100%",rx:"2",width:"100%"}),(0,h.jsx)("rect",{fill:"#BCBCBC",height:"116.063",transform:"rotate(52.0687 33.7051 79.3051)",width:"85.8593",x:"33.7051",y:"79.3051"}),(0,h.jsx)("rect",{fill:"#BCBCBC",height:"116.063",transform:"rotate(52.0687 86.1219 92.6272)",width:"85.8593",x:"86.1219",y:"92.6272"}),(0,h.jsx)("circle",{cx:"189",cy:"45",fill:"#BCBCBC",r:"19"}),(0,h.jsx)("rect",{fill:"#B8B8B8",height:"5",rx:"2.5",width:"98",x:"66",y:"70"}),(0,h.jsx)("rect",{fill:"#B8B8B8",height:"5",rx:"2.5",width:"76",x:"77",y:"82"})]}),(0,h.jsx)("defs",{children:(0,h.jsx)("clipPath",{id:`${e}`,children:(0,h.jsx)("rect",{fill:"white",height:"151",width:"231"})})})]})},sc=()=>(0,h.jsx)("svg",{className:"icon icon--search",fill:"none",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{className:"stroke",d:"M16 16L13.1333 13.1333M14.6667 9.33333C14.6667 12.2789 12.2789 14.6667 9.33333 14.6667C6.38781 14.6667 4 12.2789 4 9.33333C4 6.38781 6.38781 4 9.33333 4C12.2789 4 14.6667 6.38781 14.6667 9.33333Z",strokeLinecap:"square"})}),su="block-search",sd=e=>{let t=(0,v.c)(5),{setSearchTerm:r}=e,{t:a}=(0,f.d)(),n;t[0]!==r?(n=e=>{r(e.target.value)},t[0]=r,t[1]=n):n=t[1];let l=n,i;return t[2]!==l||t[3]!==a?(i=(0,h.jsxs)("div",{className:su,children:[(0,h.jsx)("input",{className:`${su}__input`,onChange:l,placeholder:a("fields:searchForBlock")}),(0,h.jsx)(sc,{})]}),t[2]=l,t[3]=a,t[4]=i):i=t[4],i},sf="blocks-drawer",sp=e=>{let{addRow:t,addRowIndex:r,blocks:a,drawerSlug:n,labels:l}=e,[i,o]=(0,c.useState)(""),[s,u]=(0,c.useState)(a),{closeModal:p,isModalOpen:g}=le(),{i18n:b,t:v}=(0,f.d)(),{config:y}=(0,d.b)(),x=(0,c.useMemo)(()=>{let e={_none:[]};return s.forEach(t=>{if("object"==typeof t&&t.admin?.group){let r=t.admin.group,a="string"==typeof r?r:m(r,b);Object.hasOwn(e,a)?e[a].push(t):e[a]=[t]}else e._none.push(t)}),e},[s,b]);return(0,c.useEffect)(()=>{g(n)||o("")},[g,n]),(0,c.useEffect)(()=>{let e=i.toLowerCase();u(a?.reduce((t,r)=>{let a="string"==typeof r?y.blocksMap[r]:r;return("string"==typeof a.labels.singular?a.labels.singular.toLowerCase():"object"==typeof a.labels.singular?m(a.labels.singular,b).toLowerCase():"").includes(e)&&t.push(a),t},[]))},[i,a,b,y.blocksMap]),(0,h.jsxs)(ir,{slug:n,title:v("fields:addLabel",{label:m(l.singular,b)}),children:[(0,h.jsx)(sd,{setSearchTerm:o}),(0,h.jsx)("div",{className:`${sf}__blocks-wrapper`,children:(0,h.jsx)("ul",{className:`${sf}__block-groups`,children:Object.entries(x).map(([e,a])=>a.length?(0,h.jsxs)("li",{className:[`${sf}__block-group`,"_none"===e&&`${sf}__block-group-none`].filter(Boolean).join(" "),children:["_none"!==e&&(0,h.jsx)("h3",{className:`${sf}__block-group-label`,children:e}),(0,h.jsx)("ul",{className:`${sf}__blocks`,children:a.map((e,a)=>{let{slug:l,imageAltText:i,imageURL:o,labels:s}="string"==typeof e?y.blocksMap[e]:e;return(0,h.jsx)("li",{className:`${sf}__block`,children:(0,h.jsx)(st,{alignLabel:"center",label:m(s?.singular,b),onClick:()=>{t(r,l),p(n)},thumbnail:(0,h.jsx)("div",{className:`${sf}__default-image`,children:o?(0,h.jsx)("img",{alt:i,src:o}):(0,h.jsx)(ss,{})})})},a)})})]},e):null)})})]})},sh=e=>{let t,r=(0,v.c)(28),{addRow:a,blocks:n,blockType:l,copyRow:i,duplicateRow:o,hasMaxRows:s,isSortable:u,labels:d,moveRow:f,pasteRow:p,removeRow:m,rowCount:g,rowIndex:b}=e,{closeModal:y,openModal:x}=le(),w=l9("blocks-drawer"),[j,C]=c.default.useState(null),S;if(r[0]!==a||r[1]!==y||r[2]!==w||r[3]!==j?(S=(e,t)=>{"function"==typeof a&&a(j,t),y(w)},r[0]=a,r[1]=y,r[2]=w,r[3]=j,r[4]=S):S=r[4],r[5]!==l||r[6]!==n||r[7]!==i||r[8]!==w||r[9]!==o||r[10]!==s||r[11]!==u||r[12]!==d||r[13]!==f||r[14]!==x||r[15]!==p||r[16]!==m||r[17]!==g||r[18]!==b||r[19]!==S){let e,a;r[21]!==w||r[22]!==x?(e=e=>{C(e),x(w)},r[21]=w,r[22]=x,r[23]=e):e=r[23],r[24]!==l||r[25]!==o||r[26]!==b?(a=()=>o(b,l),r[24]=l,r[25]=o,r[26]=b,r[27]=a):a=r[27],t=(0,h.jsxs)(c.default.Fragment,{children:[(0,h.jsx)(sp,{addRow:S,addRowIndex:b,blocks:n,drawerSlug:w,labels:d}),(0,h.jsx)(oX,{addRow:e,copyRow:i,duplicateRow:a,hasMaxRows:s,index:b,isSortable:u,moveRow:f,pasteRow:p,removeRow:m,rowCount:g})]}),r[5]=l,r[6]=n,r[7]=i,r[8]=w,r[9]=o,r[10]=s,r[11]=u,r[12]=d,r[13]=f,r[14]=x,r[15]=p,r[16]=m,r[17]=g,r[18]=b,r[19]=S,r[20]=t}else t=r[20];return t},sm="section-title",sg=e=>{let t=(0,v.c)(14),{customOnChange:r,customValue:a,path:n,readOnly:l}=e,i;t[0]!==n?(i={path:n},t[0]=n,t[1]=i):i=t[1];let{setValue:o,value:s}=oR(i),{t:c}=(0,f.d)(),u;t[2]===Symbol.for("react.memo_cache_sentinel")?(u=[sm].filter(Boolean),t[2]=u):u=t[2];let d=u.join(" "),p;t[3]!==r||t[4]!==o?(p=r||(e=>{e.stopPropagation(),e.preventDefault(),o(e.target.value)}),t[3]=r,t[4]=o,t[5]=p):p=t[5];let m=p,g=a||s,b;return t[6]!==a||t[7]!==m||t[8]!==n||t[9]!==l||t[10]!==c||t[11]!==g||t[12]!==s?(b=(0,h.jsx)("div",{className:d,"data-value":g,children:(0,h.jsx)("input",{className:`${sm}__input`,id:n,name:n,onChange:m,placeholder:c("general:untitled"),readOnly:l,type:"text",value:a||s||""})}),t[6]=a,t[7]=m,t[8]=n,t[9]=l,t[10]=c,t[11]=g,t[12]=s,t[13]=b):b=t[13],b},sb="blocks-field",sv=e=>{let t=(0,v.c)(42),{addRow:r,attributes:a,block:n,blocks:l,copyRow:i,duplicateRow:o,errorCount:s,fields:c,hasMaxRows:u,isLoading:p,isSortable:g,Label:b,labels:y,listeners:x,moveRow:w,parentPath:j,pasteRow:C,path:S,permissions:$,readOnly:_,removeRow:k,row:E,rowCount:N,rowIndex:P,schemaPath:D,setCollapse:T,setNodeRef:O,transform:R}=e,A=o7(p,500),{i18n:I}=(0,f.d)(),M=al()&&s>0,L=!n.admin?.disableBlockName,F=M?`${sb}__row--has-errors`:`${sb}__row--no-errors`,B;t[0]!==F?(B=[`${sb}__row`,F].filter(Boolean),t[0]=F,t[1]=B):B=t[1];let z=B.join(" "),U;if(!0===$)U=!0;else{let e=$?.blocks?.[n.slug];U=!0===e||e?.fields}let V=`${j?.split(".").join("-")}-row-${P}`,H;if(t[2]!==b||t[3]!==r||t[4]!==a||t[5]!==n.fields||t[6]!==n.labels||t[7]!==U||t[8]!==l||t[9]!==z||t[10]!==i||t[11]!==o||t[12]!==s||t[13]!==M||t[14]!==c||t[15]!==u||t[16]!==I||t[17]!==A||t[18]!==g||t[19]!==y||t[20]!==x||t[21]!==w||t[22]!==j||t[23]!==C||t[24]!==S||t[25]!==_||t[26]!==k||t[27]!==E.blockType||t[28]!==E.collapsed||t[29]!==E.id||t[30]!==N||t[31]!==P||t[32]!==D||t[33]!==T||t[34]!==O||t[35]!==L||t[36]!==V||t[37]!==R){let e;t[39]!==E.id||t[40]!==T?(e=e=>T(E.id,e),t[39]=E.id,t[40]=T,t[41]=e):e=t[41],H=(0,h.jsx)("div",{id:V,ref:O,style:{transform:R},children:(0,h.jsx)(o2,{actions:_?void 0:(0,h.jsx)(sh,{addRow:r,blocks:l,blockType:E.blockType,copyRow:i,duplicateRow:o,fields:n.fields,hasMaxRows:u,isSortable:g,labels:y,moveRow:w,pasteRow:C,removeRow:k,rowCount:N,rowIndex:P}),className:z,collapsibleStyle:M?"error":"default",dragHandleProps:g?{id:E.id,attributes:a,listeners:x}:void 0,header:A?(0,h.jsx)(d.e,{height:"1rem",width:"8rem"}):(0,h.jsxs)("div",{className:`${sb}__block-header`,children:[(0,h.jsx)(am,{CustomComponent:b,label:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("span",{className:`${sb}__block-number`,children:String(P+1).padStart(2,"0")}),(0,h.jsx)(o9,{className:`${sb}__block-pill ${sb}__block-pill-${E.blockType}`,pillStyle:"white",size:"small",children:m(n.labels.singular,I)}),L&&(0,h.jsx)(sg,{path:`${S}.blockName`,readOnly:_})]}),path:S,rowNumber:P}),M&&(0,h.jsx)(nF,{count:s,i18n:I,withMessage:!0})]}),isCollapsed:E.collapsed,onToggle:e,children:A?(0,h.jsx)(d.e,{}):(0,h.jsx)(gO,{className:`${sb}__fields`,fields:c,margins:"small",parentIndexPath:"",parentPath:S,parentSchemaPath:D,permissions:U,readOnly:_})},E.id)},`${j}-row-${P}`),t[2]=b,t[3]=r,t[4]=a,t[5]=n.fields,t[6]=n.labels,t[7]=U,t[8]=l,t[9]=z,t[10]=i,t[11]=o,t[12]=s,t[13]=M,t[14]=c,t[15]=u,t[16]=I,t[17]=A,t[18]=g,t[19]=y,t[20]=x,t[21]=w,t[22]=j,t[23]=C,t[24]=S,t[25]=_,t[26]=k,t[27]=E.blockType,t[28]=E.collapsed,t[29]=E.id,t[30]=N,t[31]=P,t[32]=D,t[33]=T,t[34]=O,t[35]=L,t[36]=V,t[37]=R,t[38]=H}else H=t[38];return H},sy="blocks-field",sx=oM(e=>{let{i18n:t,t:r}=(0,f.d)(),{field:a,field:{name:n,type:l,admin:{className:i,description:o,isSortable:s=!0}={},blockReferences:u,blocks:p,label:g,labels:b,localized:v,maxRows:y,minRows:x,required:w},path:j,permissions:C,readOnly:S,schemaPath:$,validate:_}=e,k=$??n,E=x??w?1:0,{setDocFieldPreferences:N}=o$(),{addFieldRow:P,dispatchFields:D,getFields:T,moveFieldRow:O,removeFieldRow:R,replaceState:A,setModified:I}=ar(),{code:M}=i_(),{config:{localization:L},config:F}=(0,d.b)(),B=l9("blocks-drawer"),z=al(),U={plural:r("fields:blocks"),singular:r("fields:block"),...b},V=!L||!L.fallback||M===L.defaultLocale,{blocksFilterOptions:H,customComponents:{AfterInput:q,BeforeInput:K,Description:W,Error:G,Label:Y}={},disabled:X,errorPaths:Q,path:J,rows:Z=[],showError:ee,valid:et,value:er}=oR({hasRows:!0,potentiallyStalePath:j,validate:(0,c.useCallback)((e,t)=>!V&&null===e||("function"==typeof _?_(e,{...t,maxRows:y,minRows:E,required:w}):void 0),[y,E,w,_,V])}),{clientBlocks:ea,clientBlocksAfterFilter:en}=(0,c.useMemo)(()=>{let e=[];if(u)for(let t of u){let r="string"==typeof t?F.blocksMap[t]:t;r&&e.push(r)}else e=p;if(Array.isArray(H)){let t=e.filter(e=>{let t="string"==typeof e?e:e.slug;return H.includes(t)});return{clientBlocks:e,clientBlocksAfterFilter:t}}return{clientBlocks:e,clientBlocksAfterFilter:e}},[u,p,H,F.blocksMap]),el=(0,c.useCallback)((e,t)=>{P({blockType:t,path:J,rowIndex:e,schemaPath:k}),setTimeout(()=>{oG(`${J}-row-${e+1}`)},0)},[P,J,k]),ei=(0,c.useCallback)(e=>{D({type:"DUPLICATE_ROW",path:J,rowIndex:e}),I(!0),setTimeout(()=>{oG(`${J}-row-${e+1}`)},0)},[D,J,I]),eo=(0,c.useCallback)(e=>{R({path:J,rowIndex:e})},[J,R]),es=(0,c.useCallback)((e,t)=>{O({moveFromIndex:e,moveToIndex:t,path:J})},[O,J]),ec=(0,c.useCallback)(e=>{let{collapsedIDs:t,updatedRows:r}=iD({collapsed:e,rows:Z});D({type:"SET_ALL_ROWS_COLLAPSED",path:J,updatedRows:r}),N(J,{collapsed:t})},[D,J,Z,N]),eu=(0,c.useCallback)((e,t)=>{let{collapsedIDs:r,updatedRows:a}=iP({collapsed:t,rowID:e,rows:Z});D({type:"SET_ROW_COLLAPSED",path:J,updatedRows:a}),N(J,{collapsed:r})},[D,J,Z,N]),ed=(0,c.useCallback)(e=>{let t=ni({type:l,blocks:ea,getDataToCopy:()=>nf({formState:{...T()},path:J,rowIndex:e}),path:J,rowIndex:e,t:r});"string"==typeof t?a_.error(t):a_.success(r("general:copied"))},[ea,J,r,l,T]),ef=(0,c.useCallback)(e=>{let t=no({onPaste:t=>{A(np({dataFromClipboard:t,formState:{...T()},path:J,rowIndex:e})),I(!0)},path:J,schemaBlocks:ea,t:r});"string"==typeof t&&a_.error(t)},[ea,T,J,A,I,r]),ep=(0,c.useCallback)(e=>{A(np({dataFromClipboard:e,formState:{...T()},path:J})),I(!0)},[T,J,A,I]),eh=y&&Z.length>=y,em=Q.length,eg=z&&em+ +!et>0,eb=Z.length<E||w&&0===Z.length,ev=S&&0===Z.length,ey=(0,c.useMemo)(()=>oL(a),[a]);return(0,h.jsxs)("div",{className:[oF,sy,i,eg?`${sy}--has-error`:`${sy}--has-no-error`].filter(Boolean).join(" "),id:`field-${J?.replace(/\./g,"__")}`,style:ey,children:[ee&&(0,h.jsx)(rY,{CustomComponent:G,Fallback:(0,h.jsx)(nU,{path:J,showError:ee})}),(0,h.jsxs)("header",{className:`${sy}__header`,children:[(0,h.jsxs)("div",{className:`${sy}__header-wrap`,children:[(0,h.jsxs)("div",{className:`${sy}__heading-with-error`,children:[(0,h.jsx)("h3",{children:(0,h.jsx)(rY,{CustomComponent:Y,Fallback:(0,h.jsx)(iN,{as:"span",label:g,localized:v,path:J,required:w})})}),eg&&em>0&&(0,h.jsx)(nF,{count:em,i18n:t,withMessage:!0})]}),(0,h.jsxs)("ul",{className:`${sy}__header-actions`,children:[Z.length>0&&(0,h.jsxs)(c.Fragment,{children:[(0,h.jsx)("li",{children:(0,h.jsx)("button",{className:`${sy}__header-action`,onClick:()=>ec(!0),type:"button",children:r("fields:collapseAll")})}),(0,h.jsx)("li",{children:(0,h.jsx)("button",{className:`${sy}__header-action`,onClick:()=>ec(!1),type:"button",children:r("fields:showAll")})})]}),(0,h.jsx)("li",{children:(0,h.jsx)(nd,{allowCopy:Z?.length>0,allowPaste:!S,blocks:ea,className:`${sy}__header-action`,disabled:X,getDataToCopy:()=>nf({formState:{...T()},path:J}),onPaste:ep,path:J,type:l})})]})]}),(0,h.jsx)(rY,{CustomComponent:W,Fallback:(0,h.jsx)(nz,{description:o,path:J})})]}),K,(0,h.jsx)(oW,{fieldValue:er,localized:v,path:J,readOnly:S}),(Z.length>0||!et&&(ev||eb))&&(0,h.jsxs)(nM,{className:`${sy}__rows`,ids:Z.map(e=>e.id),onDragEnd:({moveFromIndex:e,moveToIndex:t})=>es(e,t),children:[Z.map((e,t)=>{let{blockType:r,isLoading:a}=e,n=F.blocksMap[r]??ea.find(e=>e.slug===r);if(n){let r=`${J}.${t}`,l=Q.filter(e=>e.startsWith(r+".")).length;return(0,h.jsx)(nI,{disabled:S||X||!s,id:e.id,children:i=>(0,h.jsx)(sv,{...i,addRow:el,block:n,blocks:ea,copyRow:ed,duplicateRow:ei,errorCount:l,fields:n.fields,hasMaxRows:eh,isLoading:a,isSortable:s,Label:Z?.[t]?.customComponents?.RowLabel,labels:U,moveRow:es,parentPath:J,pasteRow:ef,path:r,permissions:C,readOnly:S||X,removeRow:eo,row:e,rowCount:Z.length,rowIndex:t,schemaPath:k+n.slug,setCollapse:eu})},e.id)}return null}),!V&&(0,h.jsxs)(c.default.Fragment,{children:[eb&&(0,h.jsx)(aB,{type:"error",children:r("validation:requiresAtLeast",{count:E,label:m(E>1?U.plural:U.singular,t)||r(E>1?"general:row":"general:rows")})}),ev&&(0,h.jsx)(aB,{children:r("validation:fieldHasNo",{label:m(U.plural,t)})})]})]}),!eh&&(0,h.jsxs)(c.Fragment,{children:[(0,h.jsx)(it,{className:`${sy}__drawer-toggler`,disabled:S||X,slug:B,children:(0,h.jsx)(na,{buttonStyle:"icon-label",disabled:S||X,el:"span",icon:"plus",iconPosition:"left",iconStyle:"with-border",children:r("fields:addLabel",{label:m(U.singular,t)})})}),(0,h.jsx)(sp,{addRow:el,addRowIndex:Z?.length||0,blocks:en,drawerSlug:B,labels:U})]}),q]})}),sw=(0,c.lazy)(()=>e.A(961070)),sj=e=>(0,h.jsx)(c.Suspense,{fallback:(0,h.jsx)(d.e,{}),children:(0,h.jsx)(sw,{...e})}),sC={js:"javascript",ts:"typescript"},sS=oM(e=>{let{field:t,field:{admin:{className:r,description:a,editorOptions:n,language:l="javascript"}={},label:i,localized:o,required:s},onMount:u,path:d,readOnly:f,validate:p}=e,m=c.default.useRef("formState"),[g,b]=(0,c.useState)(Date.now()),{customComponents:{AfterInput:v,BeforeInput:y,Description:x,Error:w,Label:j}={},disabled:C,initialValue:S,path:$,setValue:_,showError:k,value:E}=oR({potentiallyStalePath:d,validate:(0,c.useCallback)((e,t)=>{if("function"==typeof p)return p(e,{...t,required:s})},[p,s])}),N=c.default.useRef((E||S)!==void 0?E??S:void 0),P=(0,c.useCallback)(e=>{if(!(f||C)){m.current="internalEditor";try{_(e||null),N.current=e}catch{_(e||null),N.current=e}}},[f,C,_]);(0,c.useEffect)(()=>{"formState"===m.current&&(N.current=(E||S)!==void 0?E??S:void 0,b(Date.now())),m.current="formState"},[S,$,E]);let D=(0,c.useMemo)(()=>oL(t),[t]);return(0,h.jsxs)("div",{className:[oF,"code-field",r,k&&"error",(f||C)&&"read-only"].filter(Boolean).join(" "),style:D,children:[(0,h.jsx)(rY,{CustomComponent:j,Fallback:(0,h.jsx)(iN,{label:i,localized:o,path:$,required:s})}),(0,h.jsxs)("div",{className:`${oF}__wrap`,children:[(0,h.jsx)(rY,{CustomComponent:w,Fallback:(0,h.jsx)(nU,{path:$,showError:k})}),y,(0,h.jsx)(sj,{defaultLanguage:sC[l]||l,onChange:P,onMount:u,options:n,readOnly:f||C,recalculatedHeightAt:g,value:N.current,wrapperProps:{id:`field-${$?.replace(/\./g,"__")}`}}),v]}),(0,h.jsx)(rY,{CustomComponent:x,Fallback:(0,h.jsx)(nz,{description:a,path:$})})]})}),s$=e=>e.reduce((e,t)=>{let r="fields"in t?t.fields:void 0;return r?E(t)?e.push(`${t.name}.`):e.push(...s$(r)):"tabs"===t.type?"tabs"in t&&t.tabs?.forEach(t=>{"name"in t?e.push(`${t.name}.`):e.push(...s$(t.fields))}):E(t)&&e.push(t.name),e},[]),s_=e=>{let t,r=(0,v.c)(12),{fields:a,path:n,setErrorCount:l}=e,[i]=ad(),o=al(),s;r[0]!==a?(s=s$(a),r[0]=a,r[1]=s):s=r[1];let c=s,u;return r[2]!==i||r[3]!==o||r[4]!==n||r[5]!==c||r[6]!==l?(u=()=>{if(o){let e=0;Object.entries(i).forEach(t=>{let[r]=t;if(c?.some(e=>{let t=[...n,e].join(".");return t.endsWith(".")?r.startsWith(t):r===t})){let t=i[r];"valid"in t&&!t.valid&&(e+=1)}}),l(e)}},r[2]=i,r[3]=o,r[4]=n,r[5]=c,r[6]=l,r[7]=u):u=r[7],r[8]!==a||r[9]!==i||r[10]!==o?(t=[i,o,a],r[8]=a,r[9]=i,r[10]=o,r[11]=t):t=r[11],iT(u,250,t),null},sk="collapsible-field",sE=oM(e=>{let{field:t,field:{admin:{className:r,description:a,initCollapsed:n=!1}={},fields:l,label:i}={},indexPath:o,parentPath:s,parentSchemaPath:u,path:d,permissions:p,readOnly:g}=e,{i18n:b}=(0,f.d)(),{getPreference:v,setPreference:y}=ix(),{preferencesKey:x}=o$(),[w,j]=(0,c.useState)(),C=`collapsible-${d?.replace(/\./g,"__")}`,[S,$]=(0,c.useState)(0),_=S>0,{customComponents:{AfterInput:k,BeforeInput:E,Description:N,Label:P}={},disabled:D}=oR({path:d}),T=(0,c.useCallback)(async e=>{let t=await v(x);x&&y(x,{...t,...d?{fields:{...t?.fields||{},[d]:{...t?.fields?.[d],collapsed:e}}}:{fields:{...t?.fields||{},[C]:{...t?.fields?.[C],collapsed:e}}}})},[x,C,v,y,d]);(0,c.useEffect)(()=>{(async()=>{if(x){let e=await v(x),t=d?e?.fields?.[d]?.collapsed:e?.fields?.[C]?.collapsed;j(void 0!==t?!!t:"boolean"==typeof n&&n)}else j("boolean"==typeof n&&n)})()},[v,x,C,n,d]);let O=(0,c.useMemo)(()=>oL(t),[t]);return"boolean"!=typeof w?null:(0,h.jsxs)(c.Fragment,{children:[(0,h.jsx)(s_,{fields:l,path:d.split(".").slice(0,-1),setErrorCount:$}),(0,h.jsxs)("div",{className:[oF,sk,r,_?`${sk}--has-error`:`${sk}--has-no-error`].filter(Boolean).join(" "),id:`field-${C}`,style:O,children:[E,(0,h.jsx)(o2,{className:`${sk}__collapsible`,collapsibleStyle:_?"error":"default",header:(0,h.jsxs)("div",{className:`${sk}__row-label-wrap`,children:[(0,h.jsx)(am,{CustomComponent:P,label:m(i,b),path:d}),_&&(0,h.jsx)(nF,{count:S,i18n:b,withMessage:!0})]}),initCollapsed:w,onToggle:T,children:(0,h.jsx)(gO,{fields:l,margins:"small",parentIndexPath:o,parentPath:s,parentSchemaPath:u,permissions:p,readOnly:g||D})}),k,(0,h.jsx)(rY,{CustomComponent:N,Fallback:(0,h.jsx)(nz,{description:a,path:d})})]})]})}),sN=(0,c.lazy)(()=>e.A(680183)),sP=e=>(0,h.jsx)(c.Suspense,{fallback:(0,h.jsx)(d.e,{height:50}),children:(0,h.jsx)(sN,{...e})});function sD(e){return(sD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sT(e){var t=function(e,t){if("object"!=sD(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=sD(a))return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sD(t)?t:t+""}function sO(e,t,r){return(t=sT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function sA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sR(Object(r),!0).forEach(function(t){sO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function sI(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}function sM(e,t){if(e){if("string"==typeof e)return sI(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?sI(e,t):void 0}}function sL(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,l,i,o=[],s=!0,c=!1;try{if(l=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(a=l.call(r)).done)&&(o.push(a.value),o.length!==t);s=!0);}catch(e){c=!0,n=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw n}}return o}}(e,t)||sM(e,t)||function(){throw TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function sF(e,t){if(null==e)return{};var r,a,n=nG(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.includes(r)||({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var sB=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function sz(e){var t=e.defaultInputValue,r=e.defaultMenuIsOpen,a=e.defaultValue,n=e.inputValue,l=e.menuIsOpen,i=e.onChange,o=e.onInputChange,s=e.onMenuClose,u=e.onMenuOpen,d=e.value,f=sF(e,sB),p=sL((0,c.useState)(void 0!==n?n:void 0===t?"":t),2),h=p[0],m=p[1],g=sL((0,c.useState)(void 0!==l?l:void 0!==r&&r),2),b=g[0],v=g[1],y=sL((0,c.useState)(void 0!==d?d:void 0===a?null:a),2),x=y[0],w=y[1],j=(0,c.useCallback)(function(e,t){"function"==typeof i&&i(e,t),w(e)},[i]),C=(0,c.useCallback)(function(e,t){var r;"function"==typeof o&&(r=o(e,t)),m(void 0!==r?r:e)},[o]),S=(0,c.useCallback)(function(){"function"==typeof u&&u(),v(!0)},[u]),$=(0,c.useCallback)(function(){"function"==typeof s&&s(),v(!1)},[s]),_=void 0!==n?n:h,k=void 0!==l?l:b,E=void 0!==d?d:x;return sA(sA({},f),{},{inputValue:_,menuIsOpen:k,onChange:j,onInputChange:C,onMenuClose:$,onMenuOpen:S,value:E})}function sU(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,sT(a.key),a)}}function sV(e){return(sV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sH=function(){return!!e})()}function sq(e){return function(e){if(Array.isArray(e))return sI(e)}(e)||function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||sM(e)||function(){throw TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var sK=function(){function e(e){var t=this;this._insertTag=function(e){var r;r=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,r),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(((t=document.createElement("style")).setAttribute("data-emotion",this.key),void 0!==this.nonce&&t.setAttribute("nonce",this.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t));var t,r=this.tags[this.tags.length-1];if(this.isSpeedy){var a=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(r);try{a.insertRule(e,a.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),sW="-ms-",sG="-moz-",sY="-webkit-",sX="comm",sQ="rule",sJ="decl",sZ="@keyframes",s0=Math.abs,s1=String.fromCharCode,s3=Object.assign;function s2(e,t,r){return e.replace(t,r)}function s6(e,t){return e.indexOf(t)}function s5(e,t){return 0|e.charCodeAt(t)}function s4(e,t,r){return e.slice(t,r)}function s8(e){return e.length}function s9(e,t){return t.push(e),e}var s7=1,ce=1,ct=0,cr=0,ca=0,cn="";function cl(e,t,r,a,n,l,i){return{value:e,root:t,parent:r,type:a,props:n,children:l,line:s7,column:ce,length:i,return:""}}function ci(e,t){return s3(cl("",null,null,"",null,null,0),e,{length:-e.length},t)}function co(){return ca=cr<ct?s5(cn,cr++):0,ce++,10===ca&&(ce=1,s7++),ca}function cs(){return s5(cn,cr)}function cc(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function cu(e){return s7=ce=1,ct=s8(cn=e),cr=0,[]}function cd(e){var t,r;return(t=cr-1,r=function e(t){for(;co();)switch(ca){case t:return cr;case 34:case 39:34!==t&&39!==t&&e(ca);break;case 40:41===t&&e(t);break;case 92:co()}return cr}(91===e?e+2:40===e?e+1:e),s4(cn,t,r)).trim()}function cf(e,t,r,a,n,l,i,o,s,c,u){for(var d=n-1,f=0===n?l:[""],p=f.length,h=0,m=0,g=0;h<a;++h)for(var b=0,v=s4(e,d+1,d=s0(m=i[h])),y=e;b<p;++b)(y=(m>0?f[b]+" "+v:s2(v,/&\f/g,f[b])).trim())&&(s[g++]=y);return cl(e,t,r,0===n?sQ:o,s,c,u)}function cp(e,t,r,a){return cl(e,t,r,sJ,s4(e,0,a),s4(e,a+1,-1),a)}function ch(e,t){for(var r="",a=e.length,n=0;n<a;n++)r+=t(e[n],n,e,t)||"";return r}function cm(e,t,r,a){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case sJ:return e.return=e.return||e.value;case sX:return"";case sZ:return e.return=e.value+"{"+ch(e.children,a)+"}";case sQ:e.value=e.props.join(",")}return s8(r=ch(e.children,a))?e.return=e.value+"{"+r+"}":""}var cg=function(e,t,r){for(var a=0,n=0;a=n,n=cs(),38===a&&12===n&&(t[r]=1),!cc(n);)co();return s4(cn,e,cr)},cb=function(e,t){var r=-1,a=44;do switch(cc(a)){case 0:38===a&&12===cs()&&(t[r]=1),e[r]+=cg(cr-1,t,r);break;case 2:e[r]+=cd(a);break;case 4:if(44===a){e[++r]=58===cs()?"&\f":"",t[r]=e[r].length;break}default:e[r]+=s1(a)}while(a=co())return e},cv=function(e,t){var r;return r=cb(cu(e),t),cn="",r},cy=new WeakMap,cx=function(e){if(!("rule"!==e.type||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,a=e.column===r.column&&e.line===r.line;"rule"!==r.type;)if(!(r=r.parent))return;if(!(1===e.props.length&&58!==t.charCodeAt(0)&&!cy.get(r))&&!a){cy.set(e,!0);for(var n=[],l=cv(t,n),i=r.props,o=0,s=0;o<l.length;o++)for(var c=0;c<i.length;c++,s++)e.props[s]=n[o]?l[o].replace(/&\f/g,i[c]):i[c]+" "+l[o]}}},cw=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},cj=[function(e,t,r,a){if(e.length>-1&&!e.return)switch(e.type){case sJ:e.return=function e(t,r){switch(45^s5(t,0)?(((r<<2^s5(t,0))<<2^s5(t,1))<<2^s5(t,2))<<2^s5(t,3):0){case 5103:return sY+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return sY+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return sY+t+sG+t+sW+t+t;case 6828:case 4268:return sY+t+sW+t+t;case 6165:return sY+t+sW+"flex-"+t+t;case 5187:return sY+t+s2(t,/(\w+).+(:[^]+)/,sY+"box-$1$2"+sW+"flex-$1$2")+t;case 5443:return sY+t+sW+"flex-item-"+s2(t,/flex-|-self/,"")+t;case 4675:return sY+t+sW+"flex-line-pack"+s2(t,/align-content|flex-|-self/,"")+t;case 5548:return sY+t+sW+s2(t,"shrink","negative")+t;case 5292:return sY+t+sW+s2(t,"basis","preferred-size")+t;case 6060:return sY+"box-"+s2(t,"-grow","")+sY+t+sW+s2(t,"grow","positive")+t;case 4554:return sY+s2(t,/([^-])(transform)/g,"$1"+sY+"$2")+t;case 6187:return s2(s2(s2(t,/(zoom-|grab)/,sY+"$1"),/(image-set)/,sY+"$1"),t,"")+t;case 5495:case 3959:return s2(t,/(image-set\([^]*)/,sY+"$1$`$1");case 4968:return s2(s2(t,/(.+:)(flex-)?(.*)/,sY+"box-pack:$3"+sW+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+sY+t+t;case 4095:case 3583:case 4068:case 2532:return s2(t,/(.+)-inline(.+)/,sY+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(s8(t)-1-r>6)switch(s5(t,r+1)){case 109:if(45!==s5(t,r+4))break;case 102:return s2(t,/(.+:)(.+)-([^]+)/,"$1"+sY+"$2-$3$1"+sG+(108==s5(t,r+3)?"$3":"$2-$3"))+t;case 115:return~s6(t,"stretch")?e(s2(t,"stretch","fill-available"),r)+t:t}break;case 4949:if(115!==s5(t,r+1))break;case 6444:switch(s5(t,s8(t)-3-(~s6(t,"!important")&&10))){case 107:return s2(t,":",":"+sY)+t;case 101:return s2(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+sY+(45===s5(t,14)?"inline-":"")+"box$3$1"+sY+"$2$3$1"+sW+"$2box$3")+t}break;case 5936:switch(s5(t,r+11)){case 114:return sY+t+sW+s2(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return sY+t+sW+s2(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return sY+t+sW+s2(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return sY+t+sW+t+t}return t}(e.value,e.length);break;case sZ:return ch([ci(e,{value:s2(e.value,"@","@"+sY)})],a);case sQ:if(e.length){var n,l;return n=e.props,l=function(t){var r;switch(r=t,(r=/(::plac\w+|:read-\w+)/.exec(r))?r[0]:r){case":read-only":case":read-write":return ch([ci(e,{props:[s2(t,/:(read-\w+)/,":"+sG+"$1")]})],a);case"::placeholder":return ch([ci(e,{props:[s2(t,/:(plac\w+)/,":"+sY+"input-$1")]}),ci(e,{props:[s2(t,/:(plac\w+)/,":"+sG+"$1")]}),ci(e,{props:[s2(t,/:(plac\w+)/,sW+"input-$1")]})],a)}return""},n.map(l).join("")}}}],cC=function(e,t,r){var a=e.key+"-"+t.name;!1===r&&void 0===e.registered[a]&&(e.registered[a]=t.styles)},cS=function(e,t,r){cC(e,t,r);var a=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var n=t;do e.insert(t===n?"."+a:"",n,e.sheet,!0),n=n.next;while(void 0!==n)}},c$={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},c_=/[A-Z]|^ms/g,ck=/_EMO_([^_]+?)_([^]*?)_EMO_/g,cE=function(e){return 45===e.charCodeAt(1)},cN=function(e){return null!=e&&"boolean"!=typeof e},cP=(cO=function(e){return cE(e)?e:e.replace(c_,"-$&").toLowerCase()},cR=Object.create(null),function(e){return void 0===cR[e]&&(cR[e]=cO(e)),cR[e]}),cD=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(ck,function(e,t,r){return cA={name:t,styles:r,next:cA},t})}return 1===c$[e]||cE(e)||"number"!=typeof t||0===t?t:t+"px"};function cT(e,t,r){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return cA={name:r.name,styles:r.styles,next:cA},r.name;if(void 0!==r.styles){var a=r.next;if(void 0!==a)for(;void 0!==a;)cA={name:a.name,styles:a.styles,next:cA},a=a.next;return r.styles+";"}return function(e,t,r){var a="";if(Array.isArray(r))for(var n=0;n<r.length;n++)a+=cT(e,t,r[n])+";";else for(var l in r){var i=r[l];if("object"!=typeof i)null!=t&&void 0!==t[i]?a+=l+"{"+t[i]+"}":cN(i)&&(a+=cP(l)+":"+cD(l,i)+";");else if(Array.isArray(i)&&"string"==typeof i[0]&&(null==t||void 0===t[i[0]]))for(var o=0;o<i.length;o++)cN(i[o])&&(a+=cP(l)+":"+cD(l,i[o])+";");else{var s=cT(e,t,i);switch(l){case"animation":case"animationName":a+=cP(l)+":"+s+";";break;default:a+=l+"{"+s+"}"}}}return a}(e,t,r);case"function":if(void 0!==e){var n=cA,l=r(e);return cA=n,cT(e,t,l)}}if(null==t)return r;var i=t[r];return void 0!==i?i:r}var cO,cR,cA,cI=/label:\s*([^\s;{]+)\s*(;|$)/g;function cM(e,t,r){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var a=!0,n="";cA=void 0;var l=e[0];null==l||void 0===l.raw?(a=!1,n+=cT(r,t,l)):n+=l[0];for(var i=1;i<e.length;i++)n+=cT(r,t,e[i]),a&&(n+=l[i]);cI.lastIndex=0;for(var o,s="";null!==(o=cI.exec(n));)s+="-"+o[1];return{name:function(e){for(var t,r=0,a=0,n=e.length;n>=4;++a,n-=4)t=(65535&(t=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24))*0x5bd1e995+((t>>>16)*59797<<16),t^=t>>>24,r=(65535&t)*0x5bd1e995+((t>>>16)*59797<<16)^(65535&r)*0x5bd1e995+((r>>>16)*59797<<16);switch(n){case 3:r^=(255&e.charCodeAt(a+2))<<16;case 2:r^=(255&e.charCodeAt(a+1))<<8;case 1:r^=255&e.charCodeAt(a),r=(65535&r)*0x5bd1e995+((r>>>16)*59797<<16)}return r^=r>>>13,(((r=(65535&r)*0x5bd1e995+((r>>>16)*59797<<16))^r>>>15)>>>0).toString(36)}(n)+s,styles:n,next:cA}}var cL=!!c.useInsertionEffect&&c.useInsertionEffect||function(e){return e()},cF=c.createContext("u">typeof HTMLElement?function(e){var t=e.key;if("css"===t){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var a,n=e.stylisPlugins||cj,l={},i=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),r=1;r<t.length;r++)l[t[r]]=!0;i.push(e)});var o,s,c,u,d=(s=(o=[cx,cw].concat(n,[cm,(c=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&c(e)})])).length,function(e,t,r,a){for(var n="",l=0;l<s;l++)n+=o[l](e,t,r,a)||"";return n}),f=function(e){var t,r;return ch((r=function e(t,r,a,n,l,i,o,s,c){for(var u,d=0,f=0,p=o,h=0,m=0,g=0,b=1,v=1,y=1,x=0,w="",j=l,C=i,S=n,$=w;v;)switch(g=x,x=co()){case 40:if(108!=g&&58==s5($,p-1)){-1!=s6($+=s2(cd(x),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:$+=cd(x);break;case 9:case 10:case 13:case 32:$+=function(e){for(;(ca=cs())&&ca<33;)co();return cc(e)>2||cc(ca)>3?"":" "}(g);break;case 92:$+=function(e,t){for(var r;--t&&co()&&!(ca<48||ca>102||ca>57&&ca<65||ca>70&&ca<97););return r=cr+(t<6&&32==cs()&&32==co()),s4(cn,e,r)}(cr-1,7);continue;case 47:switch(cs()){case 42:case 47:s9((u=function(e,t){for(;co()&&e+ca!==57&&(e+ca!==84||47!==cs()););return"/*"+s4(cn,t,cr-1)+"*"+s1(47===e?e:co())}(co(),cr),cl(u,r,a,sX,s1(ca),s4(u,2,-2),0)),c);break;default:$+="/"}break;case 123*b:s[d++]=s8($)*y;case 125*b:case 59:case 0:switch(x){case 0:case 125:v=0;case 59+f:-1==y&&($=s2($,/\f/g,"")),m>0&&s8($)-p&&s9(m>32?cp($+";",n,a,p-1):cp(s2($," ","")+";",n,a,p-2),c);break;case 59:$+=";";default:if(s9(S=cf($,r,a,d,f,l,s,w,j=[],C=[],p),i),123===x)if(0===f)e($,r,S,S,j,i,p,s,C);else switch(99===h&&110===s5($,3)?100:h){case 100:case 108:case 109:case 115:e(t,S,S,n&&s9(cf(t,S,S,0,0,l,s,w,l,j=[],p),C),l,C,p,s,n?j:C);break;default:e($,S,S,S,[""],C,0,s,C)}}d=f=m=0,b=y=1,w=$="",p=o;break;case 58:p=1+s8($),m=g;default:if(b<1){if(123==x)--b;else if(125==x&&0==b++&&125==(ca=cr>0?s5(cn,--cr):0,ce--,10===ca&&(ce=1,s7--),ca))continue}switch($+=s1(x),x*b){case 38:y=f>0?1:($+="\f",-1);break;case 44:s[d++]=(s8($)-1)*y,y=1;break;case 64:45===cs()&&($+=cd(co())),h=cs(),f=p=s8(w=$+=function(e){for(;!cc(cs());)co();return s4(cn,e,cr)}(cr)),x++;break;case 45:45===g&&2==s8($)&&(b=0)}}return i}("",null,null,null,[""],t=cu(t=e),0,[0],t),cn="",r),d)},p={key:t,sheet:new sK({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:l,registered:{},insert:function(e,t,r,a){u=r,f(e?e+"{"+t.styles+"}":t.styles),a&&(p.inserted[t.name]=!0)}};return p.sheet.hydrate(i),p}({key:"css"}):null);cF.Provider;var cB=c.createContext({}),cz={}.hasOwnProperty,cU="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",cV=function(e,t){var r={};for(var a in t)cz.call(t,a)&&(r[a]=t[a]);return r[cU]=e,r},cH=function(e){var t=e.cache,r=e.serialized,a=e.isStringTag;return cC(t,r,a),cL(function(){return cS(t,r,a)}),null},cq=(ut=function(e,t,r){var a,n,l,i=e.css;"string"==typeof i&&void 0!==t.registered[i]&&(i=t.registered[i]);var o=e[cU],s=[i],u="";"string"==typeof e.className?(a=t.registered,n=e.className,l="",n.split(" ").forEach(function(e){void 0!==a[e]?s.push(a[e]+";"):e&&(l+=e+" ")}),u=l):null!=e.className&&(u=e.className+" ");var d=cM(s,void 0,c.useContext(cB));u+=t.key+"-"+d.name;var f={};for(var p in e)cz.call(e,p)&&"css"!==p&&p!==cU&&(f[p]=e[p]);return f.className=u,r&&(f.ref=r),c.createElement(c.Fragment,null,c.createElement(cH,{cache:t,serialized:d,isStringTag:"string"==typeof o}),c.createElement(o,f))},(0,c.forwardRef)(function(e,t){return ut(e,(0,c.useContext)(cF),t)}));(0,p.e)(rU());var cK=function(e,t){var r=arguments;if(null==t||!cz.call(t,"css"))return c.createElement.apply(void 0,r);var a=r.length,n=Array(a);n[0]=cq,n[1]=cV(e,t);for(var l=2;l<a;l++)n[l]=r[l];return c.createElement.apply(null,n)};function cW(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return cM(t)}ur=cK||(cK={}),ua||(ua=ur.JSX||(ur.JSX={})),(0,f.l)();var cG=c.useLayoutEffect,cY=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],cX=function(){};function cQ(e,t){for(var r=arguments.length,a=Array(r>2?r-2:0),n=2;n<r;n++)a[n-2]=arguments[n];var l=[].concat(a);if(t&&e)for(var i in t)t.hasOwnProperty(i)&&t[i]&&l.push("".concat(i?"-"===i[0]?e+i:e+"__"+i:e));return l.filter(function(e){return e}).map(function(e){return String(e).trim()}).join(" ")}var cJ=function(e){return Array.isArray(e)?e.filter(Boolean):"object"===sD(e)&&null!==e?[e]:[]},cZ=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,sA({},sF(e,cY))},c0=function(e,t,r){var a=e.cx,n=e.getStyles,l=e.getClassNames,i=e.className;return{css:n(t,e),className:a(r??{},l(t,e),i)}};function c1(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function c3(e){return c1(e)?window.pageYOffset:e.scrollTop}function c2(e,t){c1(e)?window.scrollTo(0,t):e.scrollTop=t}function c6(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:cX,n=c3(e),l=t-n,i=0;!function t(){var o;i+=10,c2(e,l*((o=(o=i)/r-1)*o*o+1)+n),i<r?window.requestAnimationFrame(t):a(e)}()}function c5(e,t){var r=e.getBoundingClientRect(),a=t.getBoundingClientRect(),n=t.offsetHeight/3;a.bottom+n>r.bottom?c2(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+n,e.scrollHeight)):a.top-n<r.top&&c2(e,Math.max(t.offsetTop-n,0))}function c4(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}var c8=!1,c9="u">typeof window?window:{};c9.addEventListener&&c9.removeEventListener&&(c9.addEventListener("p",cX,{get passive(){return c8=!0}}),c9.removeEventListener("p",cX,!1));var c7=c8;function ue(e){return null!=e}var ut,ur,ua,un,ul=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return Object.entries(e).filter(function(e){var t=sL(e,1)[0];return!r.includes(t)}).reduce(function(e,t){var r=sL(t,2),a=r[0],n=r[1];return e[a]=n,e},{})},ui=["children","innerProps"],uo=["children","innerProps"],us=function(e){return"auto"===e?"bottom":e},uc=(0,c.createContext)(null),uu=function(e){var t=e.children,r=e.minMenuHeight,a=e.maxMenuHeight,n=e.menuPlacement,l=e.menuPosition,i=e.menuShouldScrollIntoView,o=e.theme,s=((0,c.useContext)(uc)||{}).setPortalPlacement,u=(0,c.useRef)(null),d=sL((0,c.useState)(a),2),f=d[0],p=d[1],h=sL((0,c.useState)(null),2),m=h[0],g=h[1],b=o.spacing.controlHeight;return cG(function(){var e=u.current;if(e){var t="fixed"===l,o=function(e){var t,r=e.maxHeight,a=e.menuEl,n=e.minHeight,l=e.placement,i=e.shouldScroll,o=e.isFixedPosition,s=e.controlHeight,c=function(e){var t=getComputedStyle(e),r="absolute"===t.position,a=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var n=e;n=n.parentElement;)if(t=getComputedStyle(n),!(r&&"static"===t.position)&&a.test(t.overflow+t.overflowY+t.overflowX))return n;return document.documentElement}(a),u={placement:"bottom",maxHeight:r};if(!a||!a.offsetParent)return u;var d=c.getBoundingClientRect().height,f=a.getBoundingClientRect(),p=f.bottom,h=f.height,m=f.top,g=a.offsetParent.getBoundingClientRect().top,b=o||c1(t=c)?window.innerHeight:t.clientHeight,v=c3(c),y=parseInt(getComputedStyle(a).marginBottom,10),x=parseInt(getComputedStyle(a).marginTop,10),w=g-x,j=b-m,C=w+v,S=d-v-m,$=p-b+v+y,_=v+m-x;switch(l){case"auto":case"bottom":if(j>=h)return{placement:"bottom",maxHeight:r};if(S>=h&&!o)return i&&c6(c,$,160),{placement:"bottom",maxHeight:r};if(!o&&S>=n||o&&j>=n)return i&&c6(c,$,160),{placement:"bottom",maxHeight:o?j-y:S-y};if("auto"===l||o){var k=r,E=o?w:C;return E>=n&&(k=Math.min(E-y-s,r)),{placement:"top",maxHeight:k}}if("bottom"===l)return i&&c2(c,$),{placement:"bottom",maxHeight:r};break;case"top":if(w>=h)return{placement:"top",maxHeight:r};if(C>=h&&!o)return i&&c6(c,_,160),{placement:"top",maxHeight:r};if(!o&&C>=n||o&&w>=n){var N=r;return(!o&&C>=n||o&&w>=n)&&(N=o?w-x:C-x),i&&c6(c,_,160),{placement:"top",maxHeight:N}}return{placement:"bottom",maxHeight:r};default:throw Error('Invalid placement provided "'.concat(l,'".'))}return u}({maxHeight:a,menuEl:e,minHeight:r,placement:n,shouldScroll:i&&!t,isFixedPosition:t,controlHeight:b});p(o.maxHeight),g(o.placement),s?.(o.placement)}},[a,n,l,i,r,s,b]),t({ref:u,placerProps:sA(sA({},e),{},{placement:m||us(n),maxHeight:f})})},ud=function(e,t){var r=e.theme,a=r.spacing.baseUnit,n=r.colors;return sA({textAlign:"center"},t?{}:{color:n.neutral40,padding:"".concat(2*a,"px ").concat(3*a,"px")})},uf=["size"],up=["innerProps","isRtl","size"],uh={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},um=function(e){var t=e.size,r=sF(e,uf);return cK("svg",nW({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:uh},r))},ug=function(e){return cK(um,nW({size:20},e),cK("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},ub=function(e){return cK(um,nW({size:20},e),cK("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},uv=function(e,t){var r=e.isFocused,a=e.theme,n=a.spacing.baseUnit,l=a.colors;return sA({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:r?l.neutral60:l.neutral20,padding:2*n,":hover":{color:r?l.neutral80:l.neutral40}})},uy=function(){var e=cW.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(un||(uI=[`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`],uM||(uM=uI.slice(0)),un=Object.freeze(Object.defineProperties(uI,{raw:{value:Object.freeze(uM)}})))),ux=function(e){var t=e.delay,r=e.offset;return cK("span",{css:cW({animation:"".concat(uy," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},uw=["data"],uj=["innerRef","isDisabled","isHidden","inputClassName"],uC={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},uS={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":sA({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},uC)},u$=function(e){var t=e.children,r=e.innerProps;return cK("div",r,t)},u_={ClearIndicator:function(e){var t=e.children,r=e.innerProps;return cK("div",nW({},c0(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),t||cK(ug,null))},Control:function(e){var t=e.children,r=e.isDisabled,a=e.isFocused,n=e.innerRef,l=e.innerProps,i=e.menuIsOpen;return cK("div",nW({ref:n},c0(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":a,"control--menu-is-open":i}),l,{"aria-disabled":r||void 0}),t)},DropdownIndicator:function(e){var t=e.children,r=e.innerProps;return cK("div",nW({},c0(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),t||cK(ub,null))},DownChevron:ub,CrossIcon:ug,Group:function(e){var t=e.children,r=e.cx,a=e.getStyles,n=e.getClassNames,l=e.Heading,i=e.headingProps,o=e.innerProps,s=e.label,c=e.theme,u=e.selectProps;return cK("div",nW({},c0(e,"group",{group:!0}),o),cK(l,nW({},i,{selectProps:u,theme:c,getStyles:a,getClassNames:n,cx:r}),s),cK("div",null,t))},GroupHeading:function(e){var t=cZ(e);t.data;var r=sF(t,uw);return cK("div",nW({},c0(e,"groupHeading",{"group-heading":!0}),r))},IndicatorsContainer:function(e){var t=e.children,r=e.innerProps;return cK("div",nW({},c0(e,"indicatorsContainer",{indicators:!0}),r),t)},IndicatorSeparator:function(e){var t=e.innerProps;return cK("span",nW({},t,c0(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,r=e.value,a=cZ(e),n=a.innerRef,l=a.isDisabled,i=a.isHidden,o=a.inputClassName,s=sF(a,uj);return cK("div",nW({},c0(e,"input",{"input-container":!0}),{"data-value":r||""}),cK("input",nW({className:t({input:!0},o),ref:n,style:sA({label:"input",color:"inherit",background:0,opacity:+!i,width:"100%"},uC),disabled:l},s)))},LoadingIndicator:function(e){var t=e.innerProps,r=e.isRtl,a=e.size,n=sF(e,up);return cK("div",nW({},c0(sA(sA({},n),{},{innerProps:t,isRtl:r,size:void 0===a?4:a}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),cK(ux,{delay:0,offset:r}),cK(ux,{delay:160,offset:!0}),cK(ux,{delay:320,offset:!r}))},Menu:function(e){var t=e.children,r=e.innerRef,a=e.innerProps;return cK("div",nW({},c0(e,"menu",{menu:!0}),{ref:r},a),t)},MenuList:function(e){var t=e.children,r=e.innerProps,a=e.innerRef,n=e.isMulti;return cK("div",nW({},c0(e,"menuList",{"menu-list":!0,"menu-list--is-multi":n}),{ref:a},r),t)},MenuPortal:function(e){var t=e.appendTo,r=e.children,a=e.controlElement,n=e.innerProps,l=e.menuPlacement,i=e.menuPosition,o=(0,c.useRef)(null),s=(0,c.useRef)(null),d=sL((0,c.useState)(us(l)),2),p=d[0],h=d[1],m=(0,c.useMemo)(function(){return{setPortalPlacement:h}},[]),g=sL((0,c.useState)(null),2),b=g[0],v=g[1],y=(0,c.useCallback)(function(){if(a){var e,t={bottom:(e=a.getBoundingClientRect()).bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width},r="fixed"===i?0:window.pageYOffset,n=t[p]+r;(n!==b?.offset||t.left!==b?.rect.left||t.width!==b?.rect.width)&&v({offset:n,rect:t})}},[a,i,p,b?.offset,b?.rect.left,b?.rect.width]);cG(function(){y()},[y]);var x=(0,c.useCallback)(function(){"function"==typeof s.current&&(s.current(),s.current=null),a&&o.current&&(s.current=(0,f.k)(a,o.current,y,{elementResize:"ResizeObserver"in window}))},[a,y]);cG(function(){x()},[x]);var w=(0,c.useCallback)(function(e){o.current=e,x()},[x]);if(!t&&"fixed"!==i||!b)return null;var j=cK("div",nW({ref:w},c0(sA(sA({},e),{},{offset:b.offset,position:i,rect:b.rect}),"menuPortal",{"menu-portal":!0}),n),r);return cK(uc.Provider,{value:m},t?(0,u.createPortal)(j,t):j)},LoadingMessage:function(e){var t=e.children,r=void 0===t?"Loading...":t,a=e.innerProps,n=sF(e,uo);return cK("div",nW({},c0(sA(sA({},n),{},{children:r,innerProps:a}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),a),r)},NoOptionsMessage:function(e){var t=e.children,r=void 0===t?"No options":t,a=e.innerProps,n=sF(e,ui);return cK("div",nW({},c0(sA(sA({},n),{},{children:r,innerProps:a}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),a),r)},MultiValue:function(e){var t=e.children,r=e.components,a=e.data,n=e.innerProps,l=e.isDisabled,i=e.removeProps,o=e.selectProps,s=r.Container,c=r.Label,u=r.Remove;return cK(s,{data:a,innerProps:sA(sA({},c0(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":l})),n),selectProps:o},cK(c,{data:a,innerProps:sA({},c0(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:o},t),cK(u,{data:a,innerProps:sA(sA({},c0(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},i),selectProps:o}))},MultiValueContainer:u$,MultiValueLabel:u$,MultiValueRemove:function(e){var t=e.children,r=e.innerProps;return cK("div",nW({role:"button"},r),t||cK(ug,{size:14}))},Option:function(e){var t=e.children,r=e.isDisabled,a=e.isFocused,n=e.isSelected,l=e.innerRef,i=e.innerProps;return cK("div",nW({},c0(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":a,"option--is-selected":n}),{ref:l,"aria-disabled":r},i),t)},Placeholder:function(e){var t=e.children,r=e.innerProps;return cK("div",nW({},c0(e,"placeholder",{placeholder:!0}),r),t)},SelectContainer:function(e){var t=e.children,r=e.innerProps,a=e.isDisabled,n=e.isRtl;return cK("div",nW({},c0(e,"container",{"--is-disabled":a,"--is-rtl":n}),r),t)},SingleValue:function(e){var t=e.children,r=e.isDisabled,a=e.innerProps;return cK("div",nW({},c0(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),a),t)},ValueContainer:function(e){var t=e.children,r=e.innerProps,a=e.isMulti,n=e.hasValue;return cK("div",nW({},c0(e,"valueContainer",{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":n}),r),t)}},uk=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function uE(e,t){if(e.length!==t.length)return!1;for(var r,a,n=0;n<e.length;n++)if(!((r=e[n])===(a=t[n])||uk(r)&&uk(a)))return!1;return!0}var uN={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},uP=function(e){return cK("span",nW({css:uN},e))},uD={guidance:function(e){var t=e.isSearchable,r=e.isMulti,a=e.tabSelectsValue,n=e.context,l=e.isInitialFocus;switch(n){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return l?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,r=e.label,a=void 0===r?"":r,n=e.labels,l=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(n.length>1?"s":""," ").concat(n.join(","),", selected.");case"select-option":return l?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(e){var t=e.context,r=e.focused,a=e.options,n=e.label,l=void 0===n?"":n,i=e.selectValue,o=e.isDisabled,s=e.isSelected,c=e.isAppleDevice,u=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&i)return"value ".concat(l," focused, ").concat(u(i,r),".");if("menu"===t&&c){var d="".concat(s?" selected":"").concat(o?" disabled":"");return"".concat(l).concat(d,", ").concat(u(a,r),".")}return""},onFilter:function(e){var t=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(t?" for search term "+t:"",".")}},uT=function(e){var t=e.ariaSelection,r=e.focusedOption,a=e.focusedValue,n=e.focusableOptions,l=e.isFocused,i=e.selectValue,o=e.selectProps,s=e.id,u=e.isAppleDevice,d=o.ariaLiveMessages,f=o.getOptionLabel,p=o.inputValue,h=o.isMulti,m=o.isOptionDisabled,g=o.isSearchable,b=o.menuIsOpen,v=o.options,y=o.screenReaderStatus,x=o.tabSelectsValue,w=o.isLoading,j=o["aria-label"],C=o["aria-live"],S=(0,c.useMemo)(function(){return sA(sA({},uD),d||{})},[d]),$=(0,c.useMemo)(function(){var e="";if(t&&S.onChange){var r=t.option,a=t.options,n=t.removedValue,l=t.removedValues,o=t.value,s=n||r||(Array.isArray(o)?null:o),c=s?f(s):"",u=a||l||void 0,d=u?u.map(f):[],p=sA({isDisabled:s&&m(s,i),label:c,labels:d},t);e=S.onChange(p)}return e},[t,S,m,i,f]),_=(0,c.useMemo)(function(){var e="",t=r||a,l=!!(r&&i&&i.includes(r));if(t&&S.onFocus){var o={focused:t,label:f(t),isDisabled:m(t,i),isSelected:l,options:n,context:t===r?"menu":"value",selectValue:i,isAppleDevice:u};e=S.onFocus(o)}return e},[r,a,f,m,S,n,i,u]),k=(0,c.useMemo)(function(){var e="";if(b&&v.length&&!w&&S.onFilter){var t=y({count:n.length});e=S.onFilter({inputValue:p,resultsMessage:t})}return e},[n,p,b,S,v,y,w]),E=t?.action==="initial-input-focus",N=(0,c.useMemo)(function(){var e="";if(S.guidance){var t=a?"value":b?"menu":"input";e=S.guidance({"aria-label":j,context:t,isDisabled:r&&m(r,i),isMulti:h,isSearchable:g,tabSelectsValue:x,isInitialFocus:E})}return e},[j,r,a,h,m,g,b,S,i,x,E]),P=cK(c.Fragment,null,cK("span",{id:"aria-selection"},$),cK("span",{id:"aria-focused"},_),cK("span",{id:"aria-results"},k),cK("span",{id:"aria-guidance"},N));return cK(c.Fragment,null,cK(uP,{id:s},E&&P),cK(uP,{"aria-live":C,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},l&&!E&&P))},uO=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],uR=RegExp("["+uO.map(function(e){return e.letters}).join("")+"]","g"),uA={};for(uB=0;uB<uO.length;uB++)for(uL=uO[uB],uF=0;uF<uL.letters.length;uF++)uA[uL.letters[uF]]=uL.base;var uI,uM,uL,uF,uB,uz=function(e){return e.replace(uR,function(e){return uA[e]})},uU=function(e,t){void 0===t&&(t=uE);var r=null;function a(){for(var a=[],n=0;n<arguments.length;n++)a[n]=arguments[n];if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;var l=e.apply(this,a);return r={lastResult:l,lastArgs:a,lastThis:this},l}return a.clear=function(){r=null},a}(uz),uV=function(e){return e.replace(/^\s+|\s+$/g,"")},uH=function(e){return"".concat(e.label," ").concat(e.value)},uq=["innerRef"];function uK(e){var t=e.innerRef,r=ul(sF(e,uq),"onExited","in","enter","exit","appear");return cK("input",nW({ref:t},r,{css:cW({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var uW=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()},uG=["boxSizing","height","overflow","paddingRight","position"],uY={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function uX(e){e.cancelable&&e.preventDefault()}function uQ(e){e.stopPropagation()}function uJ(){var e=this.scrollTop,t=this.scrollHeight,r=e+this.offsetHeight;0===e?this.scrollTop=1:r===t&&(this.scrollTop=e-1)}function uZ(){return"ontouchstart"in window||navigator.maxTouchPoints}var u0=!!("u">typeof window&&window.document&&window.document.createElement),u1=0,u3={capture:!1,passive:!1},u2=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},u6={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function u5(e){var t,r,a,n,l,i,o,s,u,d,f,p,h,m,g,b,v,y,x,w,j,C,S,$,_=e.children,k=e.lockEnabled,E=e.captureEnabled,N=(r=(t={isEnabled:void 0===E||E,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}).isEnabled,a=t.onBottomArrive,n=t.onBottomLeave,l=t.onTopArrive,i=t.onTopLeave,o=(0,c.useRef)(!1),s=(0,c.useRef)(!1),u=(0,c.useRef)(0),d=(0,c.useRef)(null),f=(0,c.useCallback)(function(e,t){if(null!==d.current){var r=d.current,c=r.scrollTop,u=r.scrollHeight,f=r.clientHeight,p=d.current,h=t>0,m=u-f-c,g=!1;m>t&&o.current&&(n&&n(e),o.current=!1),h&&s.current&&(i&&i(e),s.current=!1),h&&t>m?(a&&!o.current&&a(e),p.scrollTop=u,g=!0,o.current=!0):!h&&-t>c&&(l&&!s.current&&l(e),p.scrollTop=0,g=!0,s.current=!0),g&&uW(e)}},[a,n,l,i]),p=(0,c.useCallback)(function(e){f(e,e.deltaY)},[f]),h=(0,c.useCallback)(function(e){u.current=e.changedTouches[0].clientY},[]),m=(0,c.useCallback)(function(e){var t=u.current-e.changedTouches[0].clientY;f(e,t)},[f]),g=(0,c.useCallback)(function(e){if(e){var t=!!c7&&{passive:!1};e.addEventListener("wheel",p,t),e.addEventListener("touchstart",h,t),e.addEventListener("touchmove",m,t)}},[m,h,p]),b=(0,c.useCallback)(function(e){e&&(e.removeEventListener("wheel",p,!1),e.removeEventListener("touchstart",h,!1),e.removeEventListener("touchmove",m,!1))},[m,h,p]),(0,c.useEffect)(function(){if(r){var e=d.current;return g(e),function(){b(e)}}},[r,g,b]),function(e){d.current=e}),P=(y=(v={isEnabled:k}).isEnabled,w=void 0===(x=v.accountForScrollbars)||x,j=(0,c.useRef)({}),C=(0,c.useRef)(null),S=(0,c.useCallback)(function(e){if(u0){var t=document.body,r=t&&t.style;if(w&&uG.forEach(function(e){var t=r&&r[e];j.current[e]=t}),w&&u1<1){var a=parseInt(j.current.paddingRight,10)||0,n=document.body?document.body.clientWidth:0,l=window.innerWidth-n+a||0;Object.keys(uY).forEach(function(e){var t=uY[e];r&&(r[e]=t)}),r&&(r.paddingRight="".concat(l,"px"))}t&&uZ()&&(t.addEventListener("touchmove",uX,u3),e&&(e.addEventListener("touchstart",uJ,u3),e.addEventListener("touchmove",uQ,u3))),u1+=1}},[w]),$=(0,c.useCallback)(function(e){if(u0){var t=document.body,r=t&&t.style;u1=Math.max(u1-1,0),w&&u1<1&&uG.forEach(function(e){var t=j.current[e];r&&(r[e]=t)}),t&&uZ()&&(t.removeEventListener("touchmove",uX,u3),e&&(e.removeEventListener("touchstart",uJ,u3),e.removeEventListener("touchmove",uQ,u3)))}},[w]),(0,c.useEffect)(function(){if(y){var e=C.current;return S(e),function(){$(e)}}},[y,S,$]),function(e){C.current=e});return cK(c.Fragment,null,k&&cK("div",{onClick:u2,css:u6}),_(function(e){N(e),P(e)}))}var u4={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},u8=function(e){var t=e.name,r=e.onFocus;return cK("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:u4,value:"",onChange:function(){}})};function u9(e){var t;return"u">typeof window&&null!=window.navigator&&e.test((null==(t=window.navigator.userAgentData)?void 0:t.platform)||window.navigator.platform)}var u7=function(e){return e.label},de=function(e){return e.value},dt={clearIndicator:uv,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var r=e.isDisabled,a=e.isFocused,n=e.theme,l=n.colors,i=n.borderRadius;return sA({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:n.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:r?l.neutral5:l.neutral0,borderColor:r?l.neutral10:a?l.primary:l.neutral20,borderRadius:i,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(l.primary):void 0,"&:hover":{borderColor:a?l.primary:l.neutral30}})},dropdownIndicator:uv,group:function(e,t){var r=e.theme.spacing;return t?{}:{paddingBottom:2*r.baseUnit,paddingTop:2*r.baseUnit}},groupHeading:function(e,t){var r=e.theme,a=r.colors,n=r.spacing;return sA({label:"group",cursor:"default",display:"block"},t?{}:{color:a.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*n.baseUnit,paddingRight:3*n.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var r=e.isDisabled,a=e.theme,n=a.spacing.baseUnit,l=a.colors;return sA({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:r?l.neutral10:l.neutral20,marginBottom:2*n,marginTop:2*n})},input:function(e,t){var r=e.isDisabled,a=e.value,n=e.theme,l=n.spacing,i=n.colors;return sA(sA({visibility:r?"hidden":"visible",transform:a?"translateZ(0)":""},uS),t?{}:{margin:l.baseUnit/2,paddingBottom:l.baseUnit/2,paddingTop:l.baseUnit/2,color:i.neutral80})},loadingIndicator:function(e,t){var r=e.isFocused,a=e.size,n=e.theme,l=n.colors,i=n.spacing.baseUnit;return sA({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"},t?{}:{color:r?l.neutral60:l.neutral20,padding:2*i})},loadingMessage:ud,menu:function(e,t){var r,a=e.placement,n=e.theme,l=n.borderRadius,i=n.spacing,o=n.colors;return sA((sO(r={label:"menu"},a?({bottom:"top",top:"bottom"})[a]:"bottom","100%"),sO(r,"position","absolute"),sO(r,"width","100%"),sO(r,"zIndex",1),r),t?{}:{backgroundColor:o.neutral0,borderRadius:l,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:i.menuGutter,marginTop:i.menuGutter})},menuList:function(e,t){var r=e.maxHeight,a=e.theme.spacing.baseUnit;return sA({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:a,paddingTop:a})},menuPortal:function(e){var t=e.rect,r=e.offset,a=e.position;return{left:t.left,position:a,top:r,width:t.width,zIndex:1}},multiValue:function(e,t){var r=e.theme,a=r.spacing,n=r.borderRadius,l=r.colors;return sA({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:l.neutral10,borderRadius:n/2,margin:a.baseUnit/2})},multiValueLabel:function(e,t){var r=e.theme,a=r.borderRadius,n=r.colors,l=e.cropWithEllipsis;return sA({overflow:"hidden",textOverflow:l||void 0===l?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:a/2,color:n.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var r=e.theme,a=r.spacing,n=r.borderRadius,l=r.colors,i=e.isFocused;return sA({alignItems:"center",display:"flex"},t?{}:{borderRadius:n/2,backgroundColor:i?l.dangerLight:void 0,paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:l.dangerLight,color:l.danger}})},noOptionsMessage:ud,option:function(e,t){var r=e.isDisabled,a=e.isFocused,n=e.isSelected,l=e.theme,i=l.spacing,o=l.colors;return sA({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:n?o.primary:a?o.primary25:"transparent",color:r?o.neutral20:n?o.neutral0:"inherit",padding:"".concat(2*i.baseUnit,"px ").concat(3*i.baseUnit,"px"),":active":{backgroundColor:r?void 0:n?o.primary:o.primary50}})},placeholder:function(e,t){var r=e.theme,a=r.spacing,n=r.colors;return sA({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:n.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},singleValue:function(e,t){var r=e.isDisabled,a=e.theme,n=a.spacing,l=a.colors;return sA({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:r?l.neutral40:l.neutral80,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2})},valueContainer:function(e,t){var r=e.theme.spacing,a=e.isMulti,n=e.hasValue,l=e.selectProps.controlShouldRenderValue;return sA({alignItems:"center",display:a&&n&&l?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(2*r.baseUnit,"px")})}},dr={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},da={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:c4(),captureMenuScroll:!c4(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var r=sA({ignoreCase:!0,ignoreAccents:!0,stringify:uH,trim:!0,matchFrom:"any"},void 0),a=r.ignoreCase,n=r.ignoreAccents,l=r.stringify,i=r.trim,o=r.matchFrom,s=i?uV(t):t,c=i?uV(l(e)):l(e);return a&&(s=s.toLowerCase(),c=c.toLowerCase()),n&&(s=uU(s),c=uz(c)),"start"===o?c.substr(0,s.length)===s:c.indexOf(s)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:u7,getOptionValue:de,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function dn(e,t,r,a){var n=dp(e,t,r),l=dh(e,t,r),i=dd(e,t),o=df(e,t);return{type:"option",data:t,isDisabled:n,isSelected:l,label:i,value:o,index:a}}function dl(e,t){return e.options.map(function(r,a){if("options"in r){var n=r.options.map(function(r,a){return dn(e,r,t,a)}).filter(function(t){return dc(e,t)});return n.length>0?{type:"group",data:r,options:n,index:a}:void 0}var l=dn(e,r,t,a);return dc(e,l)?l:void 0}).filter(ue)}function di(e){return e.reduce(function(e,t){return"group"===t.type?e.push.apply(e,sq(t.options.map(function(e){return e.data}))):e.push(t.data),e},[])}function ds(e,t){return e.reduce(function(e,r){return"group"===r.type?e.push.apply(e,sq(r.options.map(function(e){return{data:e.data,id:"".concat(t,"-").concat(r.index,"-").concat(e.index)}}))):e.push({data:r.data,id:"".concat(t,"-").concat(r.index)}),e},[])}function dc(e,t){var r=e.inputValue,a=t.data,n=t.isSelected,l=t.label,i=t.value;return(!dg(e)||!n)&&dm(e,{label:l,value:i,data:a},void 0===r?"":r)}var du=function(e,t){var r;return(null==(r=e.find(function(e){return e.data===t}))?void 0:r.id)||null},dd=function(e,t){return e.getOptionLabel(t)},df=function(e,t){return e.getOptionValue(t)};function dp(e,t,r){return"function"==typeof e.isOptionDisabled&&e.isOptionDisabled(t,r)}function dh(e,t,r){if(r.indexOf(t)>-1)return!0;if("function"==typeof e.isOptionSelected)return e.isOptionSelected(t,r);var a=df(e,t);return r.some(function(t){return df(e,t)===a})}function dm(e,t,r){return!e.filterOption||e.filterOption(t,r)}var dg=function(e){var t=e.hideSelectedOptions,r=e.isMulti;return void 0===t?r:t},db=1,dv=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");l.prototype=Object.create(e&&e.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Object.defineProperty(l,"prototype",{writable:!1}),e&&nY(l,e);var t,r,a,n=(t=sH(),function(){var e,r=sV(l);e=t?Reflect.construct(r,arguments,sV(this).constructor):r.apply(this,arguments);if(e&&("object"==sD(e)||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");if(void 0===this)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return this});function l(e){var t;if(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l),(t=n.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},t.blockOptionHover=!1,t.isComposing=!1,t.commonProps=void 0,t.initialTouchX=0,t.initialTouchY=0,t.openAfterFocus=!1,t.scrollToFocusedOptionOnUpdate=!1,t.userIsDragging=void 0,t.isAppleDevice=u9(/^Mac/i)||u9(/^iPhone/i)||u9(/^iPad/i)||u9(/^Mac/i)&&navigator.maxTouchPoints>1,t.controlRef=null,t.getControlRef=function(e){t.controlRef=e},t.focusedOptionRef=null,t.getFocusedOptionRef=function(e){t.focusedOptionRef=e},t.menuListRef=null,t.getMenuListRef=function(e){t.menuListRef=e},t.inputRef=null,t.getInputRef=function(e){t.inputRef=e},t.focus=t.focusInput,t.blur=t.blurInput,t.onChange=function(e,r){var a=t.props,n=a.onChange;r.name=a.name,t.ariaOnChange(e,r),n(e,r)},t.setValue=function(e,r,a){var n=t.props,l=n.closeMenuOnSelect,i=n.isMulti,o=n.inputValue;t.onInputChange("",{action:"set-value",prevInputValue:o}),l&&(t.setState({inputIsHiddenAfterUpdate:!i}),t.onMenuClose()),t.setState({clearFocusValueOnUpdate:!0}),t.onChange(e,{action:r,option:a})},t.selectOption=function(e){var r=t.props,a=r.blurInputOnSelect,n=r.isMulti,l=r.name,i=t.state.selectValue,o=n&&t.isOptionSelected(e,i),s=t.isOptionDisabled(e,i);if(o){var c=t.getOptionValue(e);t.setValue(i.filter(function(e){return t.getOptionValue(e)!==c}),"deselect-option",e)}else{if(s)return void t.ariaOnChange(e,{action:"select-option",option:e,name:l});n?t.setValue([].concat(sq(i),[e]),"select-option",e):t.setValue(e,"select-option")}a&&t.blurInput()},t.removeValue=function(e){var r,a=t.props.isMulti,n=t.state.selectValue,l=t.getOptionValue(e),i=n.filter(function(e){return t.getOptionValue(e)!==l}),o=(r=i[0]||null,a?i:r);t.onChange(o,{action:"remove-value",removedValue:e}),t.focusInput()},t.clearValue=function(){var e,r,a=t.state.selectValue;t.onChange((e=t.props.isMulti,r=[],e?r:null),{action:"clear",removedValues:a})},t.popValue=function(){var e,r=t.props.isMulti,a=t.state.selectValue,n=a[a.length-1],l=a.slice(0,a.length-1),i=(e=l[0]||null,r?l:e);n&&t.onChange(i,{action:"pop-value",removedValue:n})},t.getFocusedOptionId=function(e){return du(t.state.focusableOptionsWithIds,e)},t.getFocusableOptionsWithIds=function(){return ds(dl(t.props,t.state.selectValue),t.getElementId("option"))},t.getValue=function(){return t.state.selectValue},t.cx=function(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return cQ.apply(void 0,[t.props.classNamePrefix].concat(r))},t.getOptionLabel=function(e){return dd(t.props,e)},t.getOptionValue=function(e){return df(t.props,e)},t.getStyles=function(e,r){var a=t.props.unstyled,n=dt[e](r,a);n.boxSizing="border-box";var l=t.props.styles[e];return l?l(n,r):n},t.getClassNames=function(e,r){var a,n;return null==(a=(n=t.props.classNames)[e])?void 0:a.call(n,r)},t.getElementId=function(e){return"".concat(t.state.instancePrefix,"-").concat(e)},t.getComponents=function(){var e;return e=t.props,sA(sA({},u_),e.components)},t.buildCategorizedOptions=function(){return dl(t.props,t.state.selectValue)},t.getCategorizedOptions=function(){return t.props.menuIsOpen?t.buildCategorizedOptions():[]},t.buildFocusableOptions=function(){return di(t.buildCategorizedOptions())},t.getFocusableOptions=function(){return t.props.menuIsOpen?t.buildFocusableOptions():[]},t.ariaOnChange=function(e,r){t.setState({ariaSelection:sA({value:e},r)})},t.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),t.focusInput())},t.onMenuMouseMove=function(e){t.blockOptionHover=!1},t.onControlMouseDown=function(e){if(!e.defaultPrevented){var r=t.props.openMenuOnClick;t.state.isFocused?t.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&t.onMenuClose():r&&t.openMenu("first"):(r&&(t.openAfterFocus=!0),t.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},t.onDropdownIndicatorMouseDown=function(e){if(!(e&&"mousedown"===e.type&&0!==e.button)&&!t.props.isDisabled){var r=t.props,a=r.isMulti,n=r.menuIsOpen;t.focusInput(),n?(t.setState({inputIsHiddenAfterUpdate:!a}),t.onMenuClose()):t.openMenu("first"),e.preventDefault()}},t.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(t.clearValue(),e.preventDefault(),t.openAfterFocus=!1,"touchend"===e.type?t.focusInput():setTimeout(function(){return t.focusInput()}))},t.onScroll=function(e){"boolean"==typeof t.props.closeMenuOnScroll?e.target instanceof HTMLElement&&c1(e.target)&&t.props.onMenuClose():"function"==typeof t.props.closeMenuOnScroll&&t.props.closeMenuOnScroll(e)&&t.props.onMenuClose()},t.onCompositionStart=function(){t.isComposing=!0},t.onCompositionEnd=function(){t.isComposing=!1},t.onTouchStart=function(e){var r=e.touches,a=r&&r.item(0);a&&(t.initialTouchX=a.clientX,t.initialTouchY=a.clientY,t.userIsDragging=!1)},t.onTouchMove=function(e){var r=e.touches,a=r&&r.item(0);if(a){var n=Math.abs(a.clientX-t.initialTouchX),l=Math.abs(a.clientY-t.initialTouchY);t.userIsDragging=n>5||l>5}},t.onTouchEnd=function(e){t.userIsDragging||(t.controlRef&&!t.controlRef.contains(e.target)&&t.menuListRef&&!t.menuListRef.contains(e.target)&&t.blurInput(),t.initialTouchX=0,t.initialTouchY=0)},t.onControlTouchEnd=function(e){t.userIsDragging||t.onControlMouseDown(e)},t.onClearIndicatorTouchEnd=function(e){t.userIsDragging||t.onClearIndicatorMouseDown(e)},t.onDropdownIndicatorTouchEnd=function(e){t.userIsDragging||t.onDropdownIndicatorMouseDown(e)},t.handleInputChange=function(e){var r=t.props.inputValue,a=e.currentTarget.value;t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange(a,{action:"input-change",prevInputValue:r}),t.props.menuIsOpen||t.onMenuOpen()},t.onInputFocus=function(e){t.props.onFocus&&t.props.onFocus(e),t.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(t.openAfterFocus||t.props.openMenuOnFocus)&&t.openMenu("first"),t.openAfterFocus=!1},t.onInputBlur=function(e){var r=t.props.inputValue;t.menuListRef&&t.menuListRef.contains(document.activeElement)?t.inputRef.focus():(t.props.onBlur&&t.props.onBlur(e),t.onInputChange("",{action:"input-blur",prevInputValue:r}),t.onMenuClose(),t.setState({focusedValue:null,isFocused:!1}))},t.onOptionHover=function(e){if(!(t.blockOptionHover||t.state.focusedOption===e)){var r=t.getFocusableOptions().indexOf(e);t.setState({focusedOption:e,focusedOptionId:r>-1?t.getFocusedOptionId(e):null})}},t.shouldHideSelectedOptions=function(){return dg(t.props)},t.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),t.focus()},t.onKeyDown=function(e){var r=t.props,a=r.isMulti,n=r.backspaceRemovesValue,l=r.escapeClearsValue,i=r.inputValue,o=r.isClearable,s=r.isDisabled,c=r.menuIsOpen,u=r.onKeyDown,d=r.tabSelectsValue,f=r.openMenuOnFocus,p=t.state,h=p.focusedOption,m=p.focusedValue,g=p.selectValue;if(!s&&!("function"==typeof u&&(u(e),e.defaultPrevented))){switch(t.blockOptionHover=!0,e.key){case"ArrowLeft":if(!a||i)return;t.focusValue("previous");break;case"ArrowRight":if(!a||i)return;t.focusValue("next");break;case"Delete":case"Backspace":if(i)return;if(m)t.removeValue(m);else{if(!n)return;a?t.popValue():o&&t.clearValue()}break;case"Tab":if(t.isComposing||e.shiftKey||!c||!d||!h||f&&t.isOptionSelected(h,g))return;t.selectOption(h);break;case"Enter":if(229===e.keyCode)break;if(c){if(!h||t.isComposing)return;t.selectOption(h);break}return;case"Escape":c?(t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange("",{action:"menu-close",prevInputValue:i}),t.onMenuClose()):o&&l&&t.clearValue();break;case" ":if(i)return;if(!c){t.openMenu("first");break}if(!h)return;t.selectOption(h);break;case"ArrowUp":c?t.focusOption("up"):t.openMenu("last");break;case"ArrowDown":c?t.focusOption("down"):t.openMenu("first");break;case"PageUp":if(!c)return;t.focusOption("pageup");break;case"PageDown":if(!c)return;t.focusOption("pagedown");break;case"Home":if(!c)return;t.focusOption("first");break;case"End":if(!c)return;t.focusOption("last");break;default:return}e.preventDefault()}},t.state.instancePrefix="react-select-"+(t.props.instanceId||++db),t.state.selectValue=cJ(e.value),e.menuIsOpen&&t.state.selectValue.length){var r=t.getFocusableOptionsWithIds(),a=t.buildFocusableOptions(),i=a.indexOf(t.state.selectValue[0]);t.state.focusableOptionsWithIds=r,t.state.focusedOption=a[i],t.state.focusedOptionId=du(r,a[i])}return t}return r=[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&c5(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.isDisabled,a=t.menuIsOpen,n=this.state.isFocused;(n&&!r&&e.isDisabled||n&&a&&!e.menuIsOpen)&&this.focusInput(),n&&r&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):n||r||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(c5(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,r=this.state,a=r.selectValue,n=r.isFocused,l=this.buildFocusableOptions(),i="first"===e?0:l.length-1;if(!this.props.isMulti){var o=l.indexOf(a[0]);o>-1&&(i=o)}this.scrollToFocusedOptionOnUpdate=!(n&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:l[i],focusedOptionId:this.getFocusedOptionId(l[i])},function(){return t.onMenuOpen()})}},{key:"focusValue",value:function(e){var t=this.state,r=t.selectValue,a=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var n=r.indexOf(a);a||(n=-1);var l=r.length-1,i=-1;if(r.length){switch(e){case"previous":i=0===n?0:-1===n?l:n-1;break;case"next":n>-1&&n<l&&(i=n+1)}this.setState({inputIsHidden:-1!==i,focusedValue:r[i]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,r=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var n=0,l=a.indexOf(r);r||(l=-1),"up"===e?n=l>0?l-1:a.length-1:"down"===e?n=(l+1)%a.length:"pageup"===e?(n=l-t)<0&&(n=0):"pagedown"===e?(n=l+t)>a.length-1&&(n=a.length-1):"last"===e&&(n=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[n],focusedValue:null,focusedOptionId:this.getFocusedOptionId(a[n])})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(dr):sA(sA({},dr),this.props.theme):dr}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,r=this.getStyles,a=this.getClassNames,n=this.getValue,l=this.selectOption,i=this.setValue,o=this.props,s=o.isMulti,c=o.isRtl,u=o.options;return{clearValue:e,cx:t,getStyles:r,getClassNames:a,getValue:n,hasValue:this.hasValue(),isMulti:s,isRtl:c,options:u,selectOption:l,selectProps:o,setValue:i,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,r=e.isMulti;return void 0===t?r:t}},{key:"isOptionDisabled",value:function(e,t){return dp(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return dh(this.props,e,t)}},{key:"filterOption",value:function(e,t){return dm(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"!=typeof this.props.formatOptionLabel)return this.getOptionLabel(e);var r=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:r,selectValue:a})}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,r=e.isSearchable,a=e.inputId,n=e.inputValue,l=e.tabIndex,i=e.form,o=e.menuIsOpen,s=e.required,u=this.getComponents().Input,d=this.state,f=d.inputIsHidden,p=d.ariaSelection,h=this.commonProps,m=a||this.getElementId("input"),g=sA(sA(sA({"aria-autocomplete":"list","aria-expanded":o,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":s,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},o&&{"aria-controls":this.getElementId("listbox")}),!r&&{"aria-readonly":!0}),this.hasValue()?p?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return r?c.createElement(u,nW({},h,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:m,innerRef:this.getInputRef,isDisabled:t,isHidden:f,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:l,form:i,type:"text",value:n},g)):c.createElement(uK,nW({id:m,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:cX,onFocus:this.onInputFocus,disabled:t,tabIndex:l,inputMode:"none",form:i,value:""},g))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),r=t.MultiValue,a=t.MultiValueContainer,n=t.MultiValueLabel,l=t.MultiValueRemove,i=t.SingleValue,o=t.Placeholder,s=this.commonProps,u=this.props,d=u.controlShouldRenderValue,f=u.isDisabled,p=u.isMulti,h=u.inputValue,m=u.placeholder,g=this.state,b=g.selectValue,v=g.focusedValue,y=g.isFocused;if(!this.hasValue()||!d)return h?null:c.createElement(o,nW({},s,{key:"placeholder",isDisabled:f,isFocused:y,innerProps:{id:this.getElementId("placeholder")}}),m);if(p)return b.map(function(t,i){var o=t===v,u="".concat(e.getOptionLabel(t),"-").concat(e.getOptionValue(t));return c.createElement(r,nW({},s,{components:{Container:a,Label:n,Remove:l},isFocused:o,isDisabled:f,key:u,index:i,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault()}},data:t}),e.formatOptionLabel(t,"value"))});if(h)return null;var x=b[0];return c.createElement(i,nW({},s,{data:x,isDisabled:f}),this.formatOptionLabel(x,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,r=this.props,a=r.isDisabled,n=r.isLoading,l=this.state.isFocused;if(!this.isClearable()||!e||a||!this.hasValue()||n)return null;var i={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return c.createElement(e,nW({},t,{innerProps:i,isFocused:l}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,r=this.props,a=r.isDisabled,n=r.isLoading,l=this.state.isFocused;return e&&n?c.createElement(e,nW({},t,{innerProps:{"aria-hidden":"true"},isDisabled:a,isFocused:l})):null}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,r=e.IndicatorSeparator;if(!t||!r)return null;var a=this.commonProps,n=this.props.isDisabled,l=this.state.isFocused;return c.createElement(r,nW({},a,{isDisabled:n,isFocused:l}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,r=this.props.isDisabled,a=this.state.isFocused,n={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return c.createElement(e,nW({},t,{innerProps:n,isDisabled:r,isFocused:a}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),r=t.Group,a=t.GroupHeading,n=t.Menu,l=t.MenuList,i=t.MenuPortal,o=t.LoadingMessage,s=t.NoOptionsMessage,u=t.Option,d=this.commonProps,f=this.state.focusedOption,p=this.props,h=p.captureMenuScroll,m=p.inputValue,g=p.isLoading,b=p.loadingMessage,v=p.minMenuHeight,y=p.maxMenuHeight,x=p.menuIsOpen,w=p.menuPlacement,j=p.menuPosition,C=p.menuPortalTarget,S=p.menuShouldBlockScroll,$=p.menuShouldScrollIntoView,_=p.noOptionsMessage,k=p.onMenuScrollToTop,E=p.onMenuScrollToBottom;if(!x)return null;var N,P=function(t,r){var a=t.type,n=t.data,l=t.isDisabled,i=t.isSelected,o=t.label,s=t.value,p=f===n,h=l?void 0:function(){return e.onOptionHover(n)},m=l?void 0:function(){return e.selectOption(n)},g="".concat(e.getElementId("option"),"-").concat(r),b={id:g,onClick:m,onMouseMove:h,onMouseOver:h,tabIndex:-1,role:"option","aria-selected":e.isAppleDevice?void 0:i};return c.createElement(u,nW({},d,{innerProps:b,data:n,isDisabled:l,isSelected:i,key:g,label:o,type:a,value:s,isFocused:p,innerRef:p?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())N=this.getCategorizedOptions().map(function(t){if("group"===t.type){var n=t.data,l=t.options,i=t.index,o="".concat(e.getElementId("group"),"-").concat(i),s="".concat(o,"-heading");return c.createElement(r,nW({},d,{key:o,data:n,options:l,Heading:a,headingProps:{id:s,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map(function(e){return P(e,"".concat(i,"-").concat(e.index))}))}if("option"===t.type)return P(t,"".concat(t.index))});else if(g){var D=b({inputValue:m});if(null===D)return null;N=c.createElement(o,d,D)}else{var T=_({inputValue:m});if(null===T)return null;N=c.createElement(s,d,T)}var O={minMenuHeight:v,maxMenuHeight:y,menuPlacement:w,menuPosition:j,menuShouldScrollIntoView:$},R=c.createElement(uu,nW({},d,O),function(t){var r=t.ref,a=t.placerProps,i=a.placement,o=a.maxHeight;return c.createElement(n,nW({},d,O,{innerRef:r,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:g,placement:i}),c.createElement(u5,{captureEnabled:h,onTopArrive:k,onBottomArrive:E,lockEnabled:S},function(t){return c.createElement(l,nW({},d,{innerRef:function(r){e.getMenuListRef(r),t(r)},innerProps:{role:"listbox","aria-multiselectable":d.isMulti,id:e.getElementId("listbox")},isLoading:g,maxHeight:o,focusedOption:f}),N)}))});return C||"fixed"===j?c.createElement(i,nW({},d,{appendTo:C,controlElement:this.controlRef,menuPlacement:w,menuPosition:j}),R):R}},{key:"renderFormField",value:function(){var e=this,t=this.props,r=t.delimiter,a=t.isDisabled,n=t.isMulti,l=t.name,i=t.required,o=this.state.selectValue;if(i&&!this.hasValue()&&!a)return c.createElement(u8,{name:l,onFocus:this.onValueInputFocus});if(!(!l||a))if(n)if(r){var s=o.map(function(t){return e.getOptionValue(t)}).join(r);return c.createElement("input",{name:l,type:"hidden",value:s})}else{var u=o.length>0?o.map(function(t,r){return c.createElement("input",{key:"i-".concat(r),name:l,type:"hidden",value:e.getOptionValue(t)})}):c.createElement("input",{name:l,type:"hidden",value:""});return c.createElement("div",null,u)}else{var d=o[0]?this.getOptionValue(o[0]):"";return c.createElement("input",{name:l,type:"hidden",value:d})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,r=t.ariaSelection,a=t.focusedOption,n=t.focusedValue,l=t.isFocused,i=t.selectValue,o=this.getFocusableOptions();return c.createElement(uT,nW({},e,{id:this.getElementId("live-region"),ariaSelection:r,focusedOption:a,focusedValue:n,isFocused:l,selectValue:i,focusableOptions:o,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,r=e.IndicatorsContainer,a=e.SelectContainer,n=e.ValueContainer,l=this.props,i=l.className,o=l.id,s=l.isDisabled,u=l.menuIsOpen,d=this.state.isFocused,f=this.commonProps=this.getCommonProps();return c.createElement(a,nW({},f,{className:i,innerProps:{id:o,onKeyDown:this.onKeyDown},isDisabled:s,isFocused:d}),this.renderLiveRegion(),c.createElement(t,nW({},f,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:s,isFocused:d,menuIsOpen:u}),c.createElement(n,nW({},f,{isDisabled:s}),this.renderPlaceholderOrValue(),this.renderInput()),c.createElement(r,nW({},f,{isDisabled:s}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],a=[{key:"getDerivedStateFromProps",value:function(e,t){var r,a=t.prevProps,n=t.clearFocusValueOnUpdate,l=t.inputIsHiddenAfterUpdate,i=t.ariaSelection,o=t.isFocused,s=t.prevWasFocused,c=t.instancePrefix,u=e.options,d=e.value,f=e.menuIsOpen,p=e.inputValue,h=e.isMulti,m=cJ(d),g={};if(a&&(d!==a.value||u!==a.options||f!==a.menuIsOpen||p!==a.inputValue)){var b,v=f?di(dl(e,m)):[],y=f?ds(dl(e,m),"".concat(c,"-option")):[],x=n?function(e,t){var r=e.focusedValue,a=e.selectValue.indexOf(r);if(a>-1){if(t.indexOf(r)>-1)return r;if(a<t.length)return t[a]}return null}(t,m):null,w=(b=t.focusedOption)&&v.indexOf(b)>-1?b:v[0],j=du(y,w);g={selectValue:m,focusedOption:w,focusedOptionId:j,focusableOptionsWithIds:y,focusedValue:x,clearFocusValueOnUpdate:!1}}var C=null!=l&&e!==a?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},S=i,$=o&&s;return o&&!$&&(S={value:(r=m[0]||null,h?m:r),options:m,action:"initial-input-focus"},$=!s),i?.action==="initial-input-focus"&&(S=null),sA(sA(sA({},g),C),{},{prevProps:e,ariaSelection:S,prevWasFocused:$})}}],r&&sU(l.prototype,r),a&&sU(l,a),Object.defineProperty(l,"prototype",{writable:!1}),l}(c.Component);dv.defaultProps=da;var dy=(0,c.forwardRef)(function(e,t){var r=sz(e);return c.createElement(dv,nW({ref:t},r))}),dx=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],dw=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,a=String(e).toLowerCase(),n=String(r.getOptionValue(t)).toLowerCase(),l=String(r.getOptionLabel(t)).toLowerCase();return n===a||l===a},dj=function(e){return'Create "'.concat(e,'"')},dC=function(e,t,r,a){return!(!e||t.some(function(t){return dw(e,t,a)})||r.some(function(t){return dw(e,t,a)}))},dS=function(e,t){return{label:t,value:e,__isNew__:!0}},d$=(0,c.forwardRef)(function(e,t){var r,a,n,l,i,o,s,u,d,f,p,h,m,g,b,v,y,x,w,j,C,S,$,_,k,E,N,P,D=(n=void 0!==(a=(r=sz(e)).allowCreateWhileLoading)&&a,i=void 0===(l=r.createOptionPosition)?"last":l,s=void 0===(o=r.formatCreateLabel)?dj:o,d=void 0===(u=r.isValidNewOption)?dC:u,p=void 0===(f=r.getNewOptionData)?dS:f,h=r.onCreateOption,g=void 0===(m=r.options)?[]:m,b=r.onChange,x=void 0===(y=(v=sF(r,dx)).getOptionValue)?de:y,j=void 0===(w=v.getOptionLabel)?u7:w,C=v.inputValue,S=v.isLoading,$=v.isMulti,_=v.value,k=v.name,E=(0,c.useMemo)(function(){return d(C,cJ(_),g,{getOptionValue:x,getOptionLabel:j})?p(C,s(C)):void 0},[s,p,j,x,C,d,g,_]),N=(0,c.useMemo)(function(){return(n||!S)&&E?"first"===i?[E].concat(sq(g)):[].concat(sq(g),[E]):g},[n,i,S,E,g]),P=(0,c.useCallback)(function(e,t){if("select-option"!==t.action)return b(e,t);var r=Array.isArray(e)?e:[e];if(r[r.length-1]===E){if(h)h(C);else{var a,n=p(C,C);b((a=[].concat(sq(cJ(_)),[n]),$?a:n),{action:"create-option",name:k,option:n})}return}b(e,t)},[p,C,$,k,E,h,b,_]),sA(sA({},v),{},{options:N,onChange:P}));return c.createElement(dv,nW({ref:t},D))}),d_="clear-indicator",dk=e=>{let{clearValue:t,innerProps:{ref:r,...a}}=e;return(0,h.jsx)("div",{className:d_,ref:"string"==typeof r?null:r,...a,onKeyDown:e=>{"Enter"===e.key&&(t(),e.stopPropagation())},role:"button",tabIndex:0,children:(0,h.jsx)(f.a,{className:`${d_}__icon`})})},dE=e=>{let{children:t,innerProps:r,selectProps:{customProps:{disableKeyDown:a,disableMouseDown:n}={}}={}}=e;return(0,h.jsx)(c.default.Fragment,{children:(0,h.jsx)(u_.Control,{...e,innerProps:{...r,onKeyDown:e=>{if(a){e.stopPropagation();let t=new CustomEvent("bypassKeyDown",{detail:e});document.dispatchEvent(t)}},onMouseDown:e=>{n||r.onMouseDown(e)}},children:t})})},dN="dropdown-indicator",dP=e=>{let{innerProps:{ref:t,...r}}=e;return(0,h.jsx)("button",{className:dN,ref:t,...r,onKeyDown:e=>{"Enter"===e.key&&(e.key=" ")},type:"button",children:(0,h.jsx)(az,{className:`${dN}__icon`})})},dD=e=>(0,h.jsx)(c.default.Fragment,{children:(0,h.jsx)(u_.Input,{...e,"aria-activedescendant":void 0})}),dT="multi-value";function dO(e,t){return"function"==typeof t?t(e):e.value}var dR=e=>{let t=(0,v.c)(26),{className:r,data:a,innerProps:n,isDisabled:l,selectProps:i}=e,o;t[0]!==i?(o=void 0===i?{}:i,t[0]=i,t[1]=o):o=t[1];let{customProps:s,getOptionValue:u,isSortable:d}=o,f;t[2]!==s?(f=void 0===s?{}:s,t[2]=s,t[3]=f):f=t[3];let{disableMouseDown:p}=f,m;t[4]!==a||t[5]!==u?(m=dO(a,u),t[4]=a,t[5]=u,t[6]=m):m=t[6];let g=!d,b;t[7]!==m||t[8]!==g?(b={id:m,disabled:g},t[7]=m,t[8]=g,t[9]=b):b=t[9];let{attributes:y,isDragging:x,listeners:w,setNodeRef:j,transform:C}=nA(b),S=!l&&d&&"draggable",$=x&&`${dT}--is-dragging`,_;t[10]!==r||t[11]!==S||t[12]!==$?(_=[dT,r,S,$].filter(Boolean),t[10]=r,t[11]=S,t[12]=$,t[13]=_):_=t[13];let k=_.join(" "),E;if(t[14]!==y||t[15]!==k||t[16]!==p||t[17]!==n||t[18]!==d||t[19]!==w||t[20]!==e||t[21]!==j||t[22]!==C){let r;t[24]!==p?(r=e=>{p||e.stopPropagation()},t[24]=p,t[25]=r):r=t[25],E=(0,h.jsx)(c.default.Fragment,{children:(0,h.jsx)(u_.MultiValue,{...e,className:k,innerProps:{...d?{...y,...w}:{},...n,onMouseDown:r,ref:j,style:d?{transform:C,...y?.style}:{}}})}),t[14]=y,t[15]=k,t[16]=p,t[17]=n,t[18]=d,t[19]=w,t[20]=e,t[21]=j,t[22]=C,t[23]=E}else E=t[23];return E},dA="multi-value-label",dI=e=>{let{data:t,selectProps:{customProps:{draggableProps:r,editableProps:a}={}}={}}=e,n=`${dA}__text`;return(0,h.jsx)("div",{className:dA,children:(0,h.jsx)(u_.MultiValueLabel,{...e,innerProps:{className:n,...a&&a(t,n,e.selectProps)||{},...r||{}}})})},dM="multi-value-remove",dL=e=>{let t=(0,v.c)(12),{innerProps:r}=e,{className:a,onClick:n,onTouchEnd:l}=r,[i,o]=c.default.useState(!1),{t:s}=(0,f.d)(),u;if(t[0]!==a||t[1]!==n||t[2]!==l||t[3]!==i||t[4]!==s){let e,r,c,d=s("general:remove"),p;t[6]!==a?(p=[dM,a].filter(Boolean),t[6]=a,t[7]=p):p=t[7],t[8]!==n?(e=e=>{o(!1),n(e)},t[8]=n,t[9]=e):e=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(r=()=>o(!0),c=()=>o(!1),t[10]=r,t[11]=c):(r=t[10],c=t[11]),u=(0,h.jsxs)("button",{"aria-label":d,className:p.join(" "),onClick:e,onKeyDown:dF,onMouseDown:dB,onMouseEnter:r,onMouseLeave:c,onTouchEnd:l,type:"button",children:[(0,h.jsx)(ne,{className:`${dM}__tooltip`,show:i,children:s("general:remove")}),(0,h.jsx)(f.a,{className:`${dM}__icon`})]}),t[0]=a,t[1]=n,t[2]=l,t[3]=i,t[4]=s,t[5]=u}else u=t[5];return u};function dF(e){"Enter"===e.key&&e.stopPropagation()}function dB(e){return e.stopPropagation()}var dz=e=>{let{children:t,className:r}=e;return(0,h.jsx)(c.default.Fragment,{children:(0,h.jsx)(u_.SingleValue,{...e,className:["react-select--single-value",r].filter(Boolean).join(" "),children:t})})},dU="value-container",dV=e=>{let{selectProps:{customProps:t}={}}=e;return(0,h.jsxs)("div",{className:dU,ref:t?.droppableRef,children:[t?.valueContainerLabel&&(0,h.jsx)("span",{className:`${dU}__label`,children:t?.valueContainerLabel}),(0,h.jsx)(u_.ValueContainer,{...e})]})},dH=e=>{let{i18n:t,t:r}=(0,f.d)(),[a,n]=c.default.useState(""),l=(0,c.useId)(),[i,o]=c.default.useState(!1);(0,c.useEffect)(()=>{o(!0)},[]);let{className:s,components:u,customProps:p,disabled:g=!1,filterOption:b,getOptionValue:v,isClearable:y=!0,isCreatable:x,isLoading:w,isSearchable:j=!0,noOptionsMessage:C=()=>r("general:noOptions"),numberOnly:S=!1,onChange:$,onMenuClose:_,onMenuOpen:k,options:E,placeholder:N=r("general:selectValue"),showError:P,value:D}=e,T=()=>r("general:loading")+"...",O=[s,"react-select",P&&"react-select--error"].filter(Boolean).join(" "),R={menu:e=>({...e,zIndex:void 0})};return i?x?(0,h.jsx)(d$,{captureMenuScroll:!0,isLoading:w,...e,className:O,classNamePrefix:"rs",components:{ClearIndicator:dk,Control:dE,DropdownIndicator:dP,Input:dD,MultiValue:dR,MultiValueLabel:dI,MultiValueRemove:dL,SingleValue:dz,ValueContainer:dV,...u},filterOption:b,inputValue:a,instanceId:l,isClearable:y,isDisabled:g,isSearchable:j,loadingMessage:T,menuPlacement:"auto",noOptionsMessage:C,onChange:$,onInputChange:e=>n(e),onKeyDown:e=>{if(!0===S){let t=!/\D/.test(e.key),r=["Tab","Escape","Backspace","Enter","ArrowRight","ArrowLeft","ArrowUp","ArrowDown"].includes(e.key);if(!t&&!r)return void e.preventDefault()}if(!(!D||!a||""===a.trim())&&!(b&&!b(null,a)))switch(e.key){case"Enter":case"Tab":$([...D,{label:a,value:a}]),n(""),e.preventDefault()}},onMenuClose:_,onMenuOpen:k,options:E,placeholder:m(N,t),styles:R,unstyled:!0,value:D}):(0,h.jsx)(dy,{captureMenuScroll:!0,customProps:p,isLoading:w,...e,className:O,classNamePrefix:"rs",components:{ClearIndicator:dk,Control:dE,DropdownIndicator:dP,Input:dD,MultiValue:dR,MultiValueLabel:dI,MultiValueRemove:dL,SingleValue:dz,ValueContainer:dV,...u},filterOption:b,getOptionValue:v,instanceId:l,isClearable:y,isDisabled:g,isSearchable:j,loadingMessage:T,menuPlacement:"auto",noOptionsMessage:C,onChange:$,onMenuClose:_,onMenuOpen:k,options:E,placeholder:m(N,t),styles:R,unstyled:!0,value:D}):(0,h.jsx)(d.e,{height:"calc(var(--base) * 2 + 2px)"})},dq=e=>{let{getOptionValue:t,onChange:r,value:a}=e,n=[];return a&&(n=(Array.isArray(a)?a:[a]).map(e=>dO(e,t))),(0,h.jsx)(nM,{className:"react-select-container",ids:n,onDragEnd:({moveFromIndex:e,moveToIndex:t})=>{let n=a;a&&Array.isArray(a)&&(n=ny(a,e,t)),r(n)},children:(0,h.jsx)(dH,{...e})})},dK=e=>{let{isMulti:t,isSortable:r}=e;return t&&r?(0,h.jsx)(dq,{...e}):(0,h.jsx)(dH,{...e})},dW=e=>e.map(e=>"object"==typeof e&&(e.value||""===e.value)?e:{label:e,value:e}),dG=e=>{let{id:t,onChange:r,options:a,required:n,selectedTimezone:l}=e,{t:i}=(0,f.d)(),o=dW(a),s=(0,c.useMemo)(()=>o.find(e=>("string"==typeof e?e:e.value)===(l||"UTC")),[o,l]);return(0,h.jsxs)("div",{className:"timezone-picker-wrapper",children:[(0,h.jsx)(iN,{htmlFor:t,label:`${i("general:timezone")} ${n?"*":""}`,required:n,unstyled:!0}),(0,h.jsx)(dK,{className:"timezone-picker",inputId:t,isClearable:!0,isCreatable:!1,onChange:e=>{r&&r(e?.value||"")},options:o,value:s})]})},dY="date-time-field",dX=oM(e=>{let{field:t,field:{admin:{className:r,date:a,description:n,placeholder:l}={},label:i,localized:o,required:s,timezone:u},path:p,readOnly:g,validate:b}=e,v=a?.pickerAppearance||"default",y=Intl.DateTimeFormat().resolvedOptions().timeZone,{config:x}=(0,d.b)(),{i18n:w}=(0,f.d)(),{dispatchFields:j,setModified:C}=ar(),{customComponents:{AfterInput:S,BeforeInput:$,Description:_,Error:k,Label:E}={},disabled:N,path:P,setValue:D,showError:T,value:O}=oR({potentiallyStalePath:p,validate:(0,c.useCallback)((e,t)=>{if("function"==typeof b)return b(e,{...t,required:s})},[b,s])}),R=P+"_tz",A=au(([e,t])=>e?.[R]),I=x.admin.timezones.supportedTimezones,M=["dayOnly","default","monthOnly"].includes(v),L=A?.value,F=(0,c.useMemo)(()=>{if(u&&L&&y&&O){let e=iF.tz(L),t=iF.tz(y),r=od(new iF(O).withTimeZone(L),e);return od(r,t).toISOString()}return O},[u,L,O,y]),B=(0,c.useMemo)(()=>oL(t),[t]),z=(0,c.useCallback)(e=>{if(!(g||N))if(u&&L&&e){let t=iF.tz(L);if(M){let r=e.getTimezoneOffset()/60,a=e.getHours()+r;e.setHours(a),D(od(e,t).toISOString()||null)}else D(od(new iF(e),t).toISOString()||null)}else D(e?.toISOString()||null)},[g,N,u,L,M,D]),U=(0,c.useCallback)(e=>{R&&(j({type:"UPDATE",path:R,value:e}),C(!0))},[j,C,R]);return(0,h.jsxs)("div",{className:[oF,dY,r,T&&`${dY}--has-error`,(g||N)&&"read-only"].filter(Boolean).join(" "),style:B,children:[(0,h.jsx)(rY,{CustomComponent:E,Fallback:(0,h.jsx)(iN,{label:i,localized:o,path:P,required:s})}),(0,h.jsxs)("div",{className:`${oF}__wrap`,id:`field-${P.replace(/\./g,"__")}`,children:[(0,h.jsx)(rY,{CustomComponent:k,Fallback:(0,h.jsx)(nU,{path:P,showError:T})}),$,(0,h.jsx)(sP,{...a,onChange:z,overrides:{...a?.overrides},placeholder:m(l,w),readOnly:g||N,value:F}),u&&I.length>0&&(0,h.jsx)(dG,{id:`${P}-timezone-picker`,onChange:U,options:I,required:s,selectedTimezone:L}),S]}),(0,h.jsx)(rY,{CustomComponent:_,Fallback:(0,h.jsx)(nz,{description:n,path:P})})]})}),dQ=oM(e=>{let{field:t,field:{admin:{autoComplete:r,className:a,description:n,placeholder:l}={},label:i,localized:o,required:s}={},path:u,readOnly:d,validate:p}=e,{i18n:g}=(0,f.d)(),{customComponents:{AfterInput:b,BeforeInput:v,Description:y,Error:x,Label:w}={},disabled:j,path:C,setValue:S,showError:$,value:_}=oR({potentiallyStalePath:u,validate:(0,c.useCallback)((e,t)=>{if("function"==typeof p)return p(e,{...t,required:s})},[p,s])}),k=(0,c.useMemo)(()=>oL(t),[t]);return(0,h.jsxs)("div",{className:[oF,"email",a,$&&"error",(d||j)&&"read-only"].filter(Boolean).join(" "),style:k,children:[(0,h.jsx)(rY,{CustomComponent:w,Fallback:(0,h.jsx)(iN,{label:i,localized:o,path:C,required:s})}),(0,h.jsxs)("div",{className:`${oF}__wrap`,children:[(0,h.jsx)(rY,{CustomComponent:x,Fallback:(0,h.jsx)(nU,{path:C,showError:$})}),v,(0,h.jsx)("input",{autoComplete:r,disabled:d||j,id:`field-${C.replace(/\./g,"__")}`,name:C,onChange:S,placeholder:m(l,g),required:s,type:"email",value:_||""}),b]}),(0,h.jsx)(rY,{CustomComponent:y,Fallback:(0,h.jsx)(nz,{description:n,path:C})})]})}),dJ=(0,c.createContext)(!1),dZ=({children:e,withinRow:t=!0})=>(0,h.jsx)(dJ,{value:t,children:e}),d0=(0,c.createContext)(!1),d1=({children:e,withinTab:t=!0})=>(0,h.jsx)(d0,{value:t,children:e}),d3=(0,c.createContext)(!1),d2=({children:e,withinGroup:t=!0})=>(0,h.jsx)(d3,{value:t,children:e}),d6="group-field",d5=oM(e=>{let{field:t,field:{admin:{className:r,description:a,hideGutter:n}={},fields:l,label:i},indexPath:o,parentPath:s,parentSchemaPath:u,path:d,permissions:p,readOnly:g,schemaPath:b}=e,v=b??("group"===t.type&&P(t)?t.name:d),{i18n:y}=(0,f.d)(),{isWithinCollapsible:x}=o1(),w=(0,c.use)(d3),j=(0,c.use)(dJ),C=(0,c.use)(d0),{customComponents:{AfterInput:S,BeforeInput:$,Description:_,Label:k}={},errorPaths:E}=oR({path:d}),N=al(),D=E.length,T=N&&D>0,O=!(x||w||j),R=(0,c.useMemo)(()=>oL(t),[t]);return(0,h.jsxs)("div",{className:[oF,d6,O&&`${d6}--top-level`,x&&`${d6}--within-collapsible`,w&&`${d6}--within-group`,j&&`${d6}--within-row`,C&&`${d6}--within-tab`,!n&&w&&`${d6}--gutter`,T&&`${d6}--has-error`,r].filter(Boolean).join(" "),id:`field-${d?.replace(/\./g,"__")}`,style:R,children:[(0,h.jsx)(d2,{children:(0,h.jsxs)("div",{className:`${d6}__wrap`,children:[!!(k||_||i||T)&&(0,h.jsxs)("div",{className:`${d6}__header`,children:[!!(k||_||i)&&(0,h.jsxs)("header",{children:[(0,h.jsx)(rY,{CustomComponent:k,Fallback:(0,h.jsx)("h3",{className:`${d6}__title`,children:(0,h.jsx)(iN,{as:"span",label:m(i,y),localized:!1,path:d,required:!1})})}),(0,h.jsx)(rY,{CustomComponent:_,Fallback:(0,h.jsx)(nz,{description:a,path:d})})]}),T&&(0,h.jsx)(nF,{count:D,i18n:y,withMessage:!0})]}),$,P(t)?(0,h.jsx)(gO,{fields:l,margins:"small",parentIndexPath:"",parentPath:d,parentSchemaPath:v,permissions:!0===p?p:p?.fields,readOnly:g}):(0,h.jsx)(gO,{fields:l,margins:"small",parentIndexPath:o,parentPath:s,parentSchemaPath:u,permissions:p,readOnly:g})]})}),S]})}),d4=oM(e=>{let t=(0,v.c)(13),{disableModifyingForm:r,path:a,value:n}=e,l=void 0===r||r,i;t[0]!==a?(i={potentiallyStalePath:a},t[0]=a,t[1]=i):i=t[1];let{formInitializing:o,path:s,setValue:u,value:d}=oR(i),f,p;t[2]!==l||t[3]!==o||t[4]!==u||t[5]!==n?(f=()=>{void 0===n||o||u(n,l)},p=[n,u,l,o],t[2]=l,t[3]=o,t[4]=u,t[5]=n,t[6]=f,t[7]=p):(f=t[6],p=t[7]),(0,c.useEffect)(f,p);let m=`field-${s?.replace(/\./g,"__")}`,g=d||"",b;return t[8]!==s||t[9]!==u||t[10]!==m||t[11]!==g?(b=(0,h.jsx)("input",{id:m,name:s,onChange:u,type:"hidden",value:g}),t[8]=s,t[9]=u,t[10]=m,t[11]=g,t[12]=b):b=t[12],b}),d8=(0,p.e)(rV(),1),d9=(0,c.createContext)({}),d7=({children:e,...t})=>(0,h.jsx)(d9,{value:{isInDrawer:!!t.drawerSlug,...t},children:e}),fe=()=>{let e=(0,c.use)(d9);if(!e)throw Error("useListDrawerContext must be used within a ListDrawerContextProvider");return e};function ft(e){return ro(e.toString(),{depth:10,ignoreQueryPrefix:!0})}var fr=(0,c.createContext)({}),fa=()=>(0,c.use)(fr),fn=(0,c.createContext)(!1),fl=e=>{let t={...e};return Object.entries(t).forEach(([e,r])=>{if("columns"===e&&("[]"===r||Array.isArray(t[e])&&0===t[e].length)&&delete t[e],"where"!==e||"object"!=typeof r||Object.keys(r).length||delete t[e],("limit"===e||"page"===e)&&"string"==typeof r){let a=parseInt(r,10);t[e]=Number.isNaN(a)?void 0:a}"page"===e&&0===r&&delete t[e],""===r&&delete t[e]}),t},fi=({children:e,collectionSlug:t,data:r,modifySearchParams:a,onQueryChange:n,orderableFieldName:l,query:i})=>{let o=(0,b.useRouter)(),s=(0,b.useSearchParams)(),{startRouteTransition:u}=aR(),[f,p]=(0,c.useState)(!1),{getEntityConfig:m}=(0,d.b)(),g=m({collectionSlug:t}),v=(0,c.useMemo)(()=>fl(ft(s)),[s]),y=(0,c.useRef)({});y.current.modified=f;let{onQueryChange:x}=fe(),[w,j]=(0,c.useState)(()=>a?v:{limit:i.limit,sort:i.sort}),C=(0,c.useCallback)(async(e,t)=>{var r;let l,s;p(void 0===t||t);let c=(r={defaults:{limit:i.limit,sort:i.sort}},l="page"in e?e.page:w?.page,["where","search","groupBy"].some(t=>t in e&&!["limit","page"].includes(t))&&(l=1),["where","search","page","limit","groupBy","sort"].some(t=>t in e)||(s={...w?.queryByGroup||{},...e.queryByGroup?Object.fromEntries(Object.entries(e.queryByGroup).map(([e,t])=>[e,{...w?.queryByGroup?.[e]||{},...t}])):{}}),{...w,...e,columns:"columns"in e?e.columns:w.columns,groupBy:"groupBy"in e?e.groupBy:w?.groupBy??r?.defaults?.groupBy,limit:"limit"in e?e.limit:w?.limit??r?.defaults?.limit,page:l,preset:"preset"in e?e.preset:w?.preset,queryByGroup:s,search:"search"in e?e.search:w?.search,sort:"sort"in e?e.sort:w?.sort??r?.defaults?.sort,where:"where"in e?e.where:w?.where});a?u(()=>o.replace(`${tZ({...c,columns:JSON.stringify(c.columns),queryByGroup:JSON.stringify(c.queryByGroup)},{addQueryPrefix:!0})}`)):("function"==typeof x||"function"==typeof n)&&(x||n)(c),j(c)},[w,i.limit,i.sort,a,x,n,u,o]),S=(0,c.useCallback)(async e=>{await C({page:e})},[C]),$=c.default.useCallback(async e=>{await C({limit:e,page:1})},[C]),_=(0,c.useCallback)(async e=>{await C({search:""===e?void 0:e})},[C]),k=(0,c.useCallback)(async e=>{await C({sort:e})},[C]),E=(0,c.useCallback)(async e=>{await C({where:e})},[C]),N=id(()=>{let e=fl({...w||{},...i||{}}),t=`?${tZ({...e,columns:JSON.stringify(e.columns),queryByGroup:JSON.stringify(e.queryByGroup)})}`;window.location.search!==t&&(j(e),window.history.replaceState(null,"",t))});return(0,c.useEffect)(()=>{a&&N()},[a,i]),(0,h.jsx)(fr,{value:{collectionSlug:t,data:r,handlePageChange:S,handlePerPageChange:$,handleSearchChange:_,handleSortChange:k,handleWhereChange:E,isGroupingBy:!!(g?.admin?.groupBy&&w?.groupBy),orderableFieldName:l,query:w,refineListData:C,setModified:p,...y.current},children:(0,h.jsx)(fn,{value:f,children:e})})},fo=(0,c.createContext)(void 0),fs=()=>{let e=c.default.use(fo);if(void 0===e)throw Error("useServerFunctions must be used within a ServerFunctionsProvider");return e},fc=({children:e,serverFunction:t})=>{if(!t)throw Error("ServerFunctionsProvider requires a serverFunction prop");let r=(0,c.useCallback)(async e=>await t({name:"render-document-slots",args:e}),[t]),a=(0,c.useCallback)(async e=>{let{signal:r,...a}=e;try{if(!r?.aborted){let e=await t({name:"schedule-publish",args:{...a}});if(!r?.aborted)return e}}catch(e){console.error(e)}let n=`Error scheduling ${a.type}`;return a.doc&&(n+=` for document with ID ${a.doc.value} in collection ${a.doc.relationTo}`),{error:n}},[t]),n=(0,c.useCallback)(async e=>{let{signal:r,...a}=e||{};try{if(!r?.aborted){let e=await t({name:"form-state",args:{fallbackLocale:!1,...a}});if(!r?.aborted)return e}}catch(e){console.error(e)}return{state:null}},[t]),l=(0,c.useCallback)(async e=>{let{signal:r,...a}=e||{};try{if(!r?.aborted){let e=await t({name:"table-state",args:{fallbackLocale:!1,...a}});if(!r?.aborted)return e}}catch(e){console.error(e)}},[t]),i=(0,c.useCallback)(async e=>{let{signal:r,...a}=e||{};try{return await t({name:"render-document",args:{fallbackLocale:!1,...a}})}catch(e){console.error(e)}},[t]),o=(0,c.useCallback)(async e=>{let{signal:r,...a}=e||{};try{let e=await t({name:"copy-data-from-locale",args:a});if(!r?.aborted)return e}catch(e){console.error(e)}},[t]),s=(0,c.useCallback)(async e=>{let{signal:r,...a}=e||{};try{let e=await t({name:"get-folder-results-component-and-data",args:a});if(!r?.aborted)return e}catch(e){console.error(e)}},[t]),u=(0,c.useCallback)(async e=>{try{return await t({name:"render-field",args:e})}catch(e){console.error(e)}},[t]);return(0,h.jsx)(fo,{value:{_internal_renderField:u,copyDataFromLocale:o,getDocumentSlots:r,getFolderResultsComponentAndData:s,getFormState:n,getTableState:l,renderDocument:i,schedulePublish:a,serverFunction:t},children:e})},fu=(0,c.createContext)({}),fd=()=>(0,c.use)(fu),ff=({children:e,collectionSlug:t,columnState:r,LinkedCellOverride:a})=>{let{getEntityConfig:n}=(0,d.b)(),{query:l,refineListData:i}=fa(),{admin:{defaultColumns:o}={}}=n({collectionSlug:t}),[s,u]=c.default.useOptimistic(r,(e,t)=>t),f=(0,c.useRef)({}),p=(0,c.useCallback)(async e=>{let t=(s||[]).map(t=>t.accessor===e?{...t,active:!t.active}:t);(0,c.startTransition)(()=>{u(t)}),await i({columns:t9(t)})},[i,s,u]),m=(0,c.useCallback)(async e=>{let{fromIndex:t,toIndex:r}=e,a=[...s||[]],[n]=a.splice(t,1);a.splice(r,0,n),(0,c.startTransition)(()=>{u(a)}),await i({columns:t9(a)})},[s,i,u]),g=(0,c.useCallback)(async e=>{let t=l.columns;e.forEach(e=>{let r=t.findIndex(t=>e===t);void 0!==r&&"-"===t[r][0]&&(t[r]=e.slice(1))}),await i({columns:t})},[l,i]),b=c.default.useCallback(async()=>{await i({columns:o||[]})},[o,i]);return(0,h.jsx)(fu,{value:{columns:s,LinkedCellOverride:a,moveColumn:m,resetColumnsState:b,setActiveColumns:g,toggleColumn:p,...f.current},children:e})},fp="pill-selector",fh=({draggable:e,onClick:t,pills:r})=>{let a=c.default.useMemo(()=>e?({children:t})=>(0,h.jsx)(nM,{className:fp,ids:r.map(e=>e.name),onDragEnd:({moveFromIndex:t,moveToIndex:r})=>{e.onDragEnd({moveFromIndex:t,moveToIndex:r})},children:t}):({children:e})=>(0,h.jsx)("div",{className:fp,children:e}),[e,r]);return(0,h.jsx)(a,{children:r.map((r,a)=>(0,h.jsx)(o9,{alignIcon:"left","aria-checked":r.selected,className:[`${fp}__pill`,r.selected&&`${fp}__pill--selected`].filter(Boolean).join(" "),draggable:!!e,icon:r.selected?(0,h.jsx)(f.a,{}):(0,h.jsx)(aH,{}),id:r.name,onClick:()=>{t&&t({pill:r})},size:"small",children:r.Label??(0,h.jsx)("span",{className:`${fp}__pill-label`,children:r.name})},r.key??`${r.name}-${a}`))})},fm=({collectionSlug:e})=>{let{columns:t,moveColumn:r,toggleColumn:a}=fd(),n=(0,c.useId)(),l=nq(),i=(0,c.useMemo)(()=>t?.filter(e=>!(k(e.field)&&!_(e.field))&&!e?.field?.admin?.disableListColumn),[t]),o=(0,c.useMemo)(()=>i?i.map((t,r)=>{let{accessor:a,active:i,field:o}=t,s="labelWithPrefix"in o&&void 0!==o.labelWithPrefix?o.labelWithPrefix:"label"in o&&void 0!==o.label?o.label:"name"in o&&void 0!==o.name?o.name:void 0;return{name:a,key:`${e}-${a}-${r}${l?`-${l}-`:""}${n}`,Label:(0,h.jsx)(iN,{label:s,unstyled:!0}),selected:i}}):null,[e,l,i,n]);return o?(0,h.jsx)(fh,{draggable:{onDragEnd:({moveFromIndex:e,moveToIndex:t})=>{r({fromIndex:e,toIndex:t})}},onClick:({pill:e})=>{a(e.name)},pills:o}):null},fg=e=>{let t=(0,v.c)(3),{getEntityConfig:r}=(0,d.b)(),a;t[0]!==r||t[1]!==e?(a=()=>e?("string"==typeof e?[e]:e).map(e=>r({collectionSlug:e})):[],t[0]=r,t[1]=e,t[2]=a):a=t[2];let[n]=(0,c.useState)(a);return n},fb=e=>{let t,r=(0,v.c)(13),{delayBeforeShow:a,inTimeout:n,minShowTime:l,outTimeout:i,show:o}=e,s=n+l+i,[u,f]=(0,d.d)(a),[p,h]=c.useState(!1),[m,g]=c.useState(!1),b=c.useRef(0),y=c.useRef(void 0),x;r[0]!==i?(x=()=>{g(!0),y.current=setTimeout(()=>{h(!1),g(!1)},i)},r[0]=i,r[1]=x):x=r[1];let w=x,j,C;return r[2]!==u||r[3]!==p||r[4]!==o||r[5]!==s||r[6]!==w?(j=()=>{let e=u&&!p&&o,t=p&&!o;if(e)b.current=Date.now(),h(!0);else if(t){let e=s-(Date.now()-b.current);clearTimeout(y.current),y.current=setTimeout(w,Math.max(0,e))}},C=[p,o,w,s,u],r[2]=u,r[3]=p,r[4]=o,r[5]=s,r[6]=w,r[7]=j,r[8]=C):(j=r[7],C=r[8]),c.useEffect(j,C),r[9]!==p||r[10]!==m||r[11]!==f?(t={isMounted:p,isUnmounting:m,triggerDelayedRender:f},r[9]=p,r[10]=m,r[11]=f,r[12]=t):t=r[12],t},fv={isLoading:!1,loaders:[],loadingText:"",overlayType:null},fy=(e,t)=>{let r=[...e.loaders],{type:a="fullscreen",key:n="user",loadingText:l}=t.payload;if("add"===t.type)r.push({type:a,key:n,loadingText:l});else if("remove"===t.type){let e=r.findIndex(e=>e.key===n&&e.type===a);r.splice(e,1)}let i=r?.length>0?r[r.length-1]:null;return{isLoading:!!i,loaders:r,loadingText:i?.loadingText||e?.loadingText,overlayType:i?.type||e?.overlayType}},fx=(0,c.createContext)({isOnScreen:!1,toggleLoadingOverlay:void 0}),fw=({children:e})=>{let{t:t}=(0,f.d)(),r=t("general:loading"),[a,n]=c.default.useReducer(fy,fv),{isMounted:l,isUnmounting:i,triggerDelayedRender:o}=fb({delayBeforeShow:1e3,inTimeout:250,minShowTime:500,outTimeout:250,show:a.isLoading}),s=c.default.useCallback(({type:e,isLoading:t,key:a,loadingText:l=r})=>{t?(o(),n({type:"add",payload:{type:e,key:a,loadingText:l}})):n({type:"remove",payload:{type:e,key:a}})},[o,r]);return(0,h.jsxs)(fx,{value:{isOnScreen:l,toggleLoadingOverlay:s},children:[l&&(0,h.jsx)(fS,{animationDuration:"250ms",loadingText:a.loadingText||r,overlayType:a.overlayType,show:!i}),e]})},fj=()=>{let e=c.default.use(fx);if(void 0===e)throw Error("useLoadingOverlay must be used within a LoadingOverlayProvider");return e},fC="loading-overlay",fS=e=>{let t=(0,v.c)(8),{animationDuration:r,loadingText:a,overlayType:n,show:l}=e,{t:i}=(0,f.d)(),o=void 0===l||l?`${fC}--entering`:`${fC}--exiting`,s=n?`${fC}--${n}`:"",c;t[0]!==o||t[1]!==s?(c=[fC,o,s].filter(Boolean),t[0]=o,t[1]=s,t[2]=c):c=t[2];let u=c.join(" "),d=r||"500ms",p;return t[3]!==a||t[4]!==i||t[5]!==u||t[6]!==d?(p=(0,h.jsxs)("div",{className:u,style:{animationDuration:d},children:[(0,h.jsxs)("div",{className:`${fC}__bars`,children:[(0,h.jsx)("div",{className:`${fC}__bar`}),(0,h.jsx)("div",{className:`${fC}__bar`}),(0,h.jsx)("div",{className:`${fC}__bar`}),(0,h.jsx)("div",{className:`${fC}__bar`}),(0,h.jsx)("div",{className:`${fC}__bar`})]}),(0,h.jsx)("span",{className:`${fC}__text`,children:a||i("general:loading")})]}),t[3]=a,t[4]=i,t[5]=u,t[6]=d,t[7]=p):p=t[7],p},f$=e=>{let t=(0,v.c)(7),{name:r,type:a,loadingText:n,show:l}=e,i=void 0===a?"fullscreen":a,{toggleLoadingOverlay:o}=fj(),s,u;return t[0]!==r||t[1]!==n||t[2]!==l||t[3]!==o||t[4]!==i?(s=()=>(o({type:i,isLoading:l,key:r,loadingText:n||void 0}),()=>{o({type:i,isLoading:!1,key:r})}),u=[l,o,r,i,n],t[0]=r,t[1]=n,t[2]=l,t[3]=o,t[4]=i,t[5]=s,t[6]=u):(s=t[5],u=t[6]),c.default.useEffect(s,u),null},f_=e=>{let t=(0,v.c)(6),{name:r,type:a,action:n,formIsLoading:l,loadingSuffix:i}=e,o=void 0===a?"fullscreen":a,s=void 0!==l&&l,c=ai(),{i18n:u,t:d}=(0,f.d)(),p=`${{create:d("general:creating"),loading:d("general:loading"),update:d("general:updating")}[n]} ${i?m(i,u):""}`,g;return t[0]!==s||t[1]!==c||t[2]!==r||t[3]!==p||t[4]!==o?(g=(0,h.jsx)(f$,{loadingText:p.trim(),name:r,show:s||c,type:o}),t[0]=s,t[1]=c,t[2]=r,t[3]=p,t[4]=o,t[5]=g):g=t[5],g};function fk(e){if(e)try{e.abort()}catch{}}function fE(e){let t=new AbortController;if(e.current)try{e.current.abort()}catch{}return e.current=t,t}var fN=(0,c.createContext)({}),fP=({children:e,...t})=>(0,h.jsx)(fN,{value:t,children:e}),fD=()=>{let e=(0,c.use)(fN);if(!e)throw Error("useDocumentDrawerContext must be used within a DocumentDrawerProvider");return e},fT=({id:e,collectionSlug:t,disableActions:r,drawerSlug:a,initialData:n,onDelete:l,onDuplicate:i,onSave:o,overrideEntityVisibility:s=!0,redirectAfterCreate:u,redirectAfterDelete:p,redirectAfterDuplicate:m,redirectAfterRestore:g})=>{let{getEntityConfig:b}=(0,d.b)(),v=i_(),[y]=(0,c.useState)(()=>b({collectionSlug:t})),x=c.default.useRef(null),{closeModal:w}=le(),{t:j}=(0,f.d)(),{renderDocument:C}=fs(),[S,$]=(0,c.useState)(void 0),[_,k]=(0,c.useState)(!0),E=(0,c.useRef)(!1),N=(0,c.useCallback)((e,l=!1)=>{let i=fE(x);(async()=>{l&&k(!0);try{let l=await C({collectionSlug:t,disableActions:r,docID:e,drawerSlug:a,initialData:n,locale:v,overrideEntityVisibility:s,redirectAfterCreate:u,redirectAfterDelete:void 0!==p&&p,redirectAfterDuplicate:void 0!==m&&m,redirectAfterRestore:void 0!==g&&g,signal:i.signal});l?.Document&&($(l.Document),k(!1))}catch(e){a_.error(e?.message||j("error:unspecific")),w(a)}x.current=null})()},[t,r,a,n,p,m,g,C,u,w,s,j,v]),P=(0,c.useCallback)(e=>{"create"===e.operation&&N(e.doc.id),"function"==typeof o&&o({...e,collectionConfig:y})},[o,y,N]),D=(0,c.useCallback)(e=>{N(e.doc.id),"function"==typeof i&&i({...e,collectionConfig:y})},[i,y,N]),T=(0,c.useCallback)(e=>{"function"==typeof l&&l({...e,collectionConfig:y}),w(a)},[l,w,a,y]),O=(0,c.useCallback)(()=>{N(void 0,!0)},[N]);return(0,c.useEffect)(()=>{S||E.current||(N(e,!0),E.current=!0)},[S,N,e]),(0,c.useEffect)(()=>{let e=x.current;return()=>{fk(e)}},[]),_?(0,h.jsx)(fS,{}):(0,h.jsx)(fP,{clearDoc:O,drawerSlug:a,onDelete:T,onDuplicate:D,onSave:P,children:S})},fO="doc-drawer",fR=e=>{let t=(0,v.c)(2),{children:r,className:a,collectionSlug:n,disabled:l,drawerSlug:i,onClick:o,operation:s,...c}=e,{t:u}=(0,f.d)(),[d]=fg(n),p=u("create"===s?"fields:addNewLabel":"general:editLabel",{label:d?.labels.singular}),m;return t[0]!==a?(m=[a,`${fO}__toggler`].filter(Boolean),t[0]=a,t[1]=m):m=t[1],(0,h.jsx)(it,{"aria-label":p,className:m.join(" "),disabled:l,onClick:o,slug:i,...c,children:r})},fA=e=>{let{drawerSlug:t}=e;return(0,h.jsx)(ir,{className:fO,gutter:!1,Header:null,slug:t,children:(0,h.jsx)(fT,{...e})})},fI=e=>{let t,r=(0,v.c)(38),{id:a,collectionSlug:n,overrideEntityVisibility:l}=e,i=nq(),o=(0,c.useId)(),{closeModal:s,modalState:u,openModal:d,toggleModal:f}=le(),[p,m]=(0,c.useState)(!1),g;r[0]!==n||r[1]!==i||r[2]!==a||r[3]!==o?(g=(({id:e,collectionSlug:t,depth:r,uuid:a})=>`doc-drawer_${t}_${r}${e?`_${e}`:""}_${a}`)({id:a,collectionSlug:n,depth:i,uuid:o}),r[0]=n,r[1]=i,r[2]=a,r[3]=o,r[4]=g):g=r[4];let b=g,y,x;r[5]!==b||r[6]!==u?(y=()=>{m(!!u[b]?.isOpen)},x=[u,b],r[5]=b,r[6]=u,r[7]=y,r[8]=x):(y=r[7],x=r[8]),(0,c.useEffect)(y,x),r[9]!==b||r[10]!==f?(t=()=>{f(b)},r[9]=b,r[10]=f,r[11]=t):t=r[11];let w=t,j;r[12]!==s||r[13]!==b?(j=()=>{s(b)},r[12]=s,r[13]=b,r[14]=j):j=r[14];let C=j,S;r[15]!==b||r[16]!==d?(S=()=>{d(b)},r[15]=b,r[16]=d,r[17]=S):S=r[17];let $=S,_;r[18]!==n||r[19]!==b||r[20]!==a||r[21]!==l?(_=e=>(0,c.createElement)(fA,{...e,collectionSlug:n,drawerSlug:b,id:a,key:b,overrideEntityVisibility:l}),r[18]=n,r[19]=b,r[20]=a,r[21]=l,r[22]=_):_=r[22];let k=_,E;r[23]!==n||r[24]!==b||r[25]!==a?(E=e=>(0,h.jsx)(fR,{...e,collectionSlug:n,drawerSlug:b,operation:a?"update":"create"}),r[23]=n,r[24]=b,r[25]=a,r[26]=E):E=r[26];let N=E,P;r[27]!==C||r[28]!==b||r[29]!==i||r[30]!==p||r[31]!==$||r[32]!==w?(P={closeDrawer:C,drawerDepth:i,drawerSlug:b,isDrawerOpen:p,openDrawer:$,toggleDrawer:w},r[27]=C,r[28]=b,r[29]=i,r[30]=p,r[31]=$,r[32]=w,r[33]=P):P=r[33];let D=P,T;return r[34]!==k||r[35]!==D||r[36]!==N?(T=[k,N,D],r[34]=k,r[35]=D,r[36]=N,r[37]=T):T=r[37],T};function fM(e,t){let r=(0,v.c)(4),[a,n]=(0,c.useState)(e),l,i;return r[0]!==t||r[1]!==e?(l=()=>{let r=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(r)}},i=[e,t],r[0]=t,r[1]=e,r[2]=l,r[3]=i):(l=r[2],i=r[3]),(0,c.useEffect)(l,i),a}function fL(e,t){switch(t.type){case"ADD_LOADED":{let r={...e};"object"!=typeof r[t.relationTo]&&(r[t.relationTo]={});let a=[...t.idsToLoad];return Array.isArray(t.docs)&&t.docs.forEach(e=>{a.splice(a.indexOf(e.id),1),r[t.relationTo][e.id]=e}),a.forEach(e=>{r[t.relationTo][e]=!1}),r}case"REQUEST":{let r={...e};return t.docs.forEach(({relationTo:e,value:t})=>{"object"!=typeof r[e]&&(r[e]={}),r[e][t]=null}),r}default:return e}}var fF=(0,c.createContext)({}),fB=e=>{let t,r=(0,v.c)(16),{children:a}=e,n;r[0]===Symbol.for("react.memo_cache_sentinel")?(n={},r[0]=n):n=r[0];let[l,i]=(0,c.useReducer)(fL,n),o=fM(l,100),{config:s}=(0,d.b)(),{collections:u,routes:p,serverURL:m}=s,{api:g}=p,{i18n:b}=(0,f.d)(),{code:y}=i_(),x=(0,c.useRef)(y),w;r[1]!==g||r[2]!==u||r[3]!==o||r[4]!==b||r[5]!==y||r[6]!==m?(w=e=>{let t=void 0!==e&&e;Object.entries(o).forEach(async e=>{let[r,a]=e,n=[];if(Object.entries(a).forEach(e=>{let[r,a]=e;(null===a||t)&&n.push(r)}),n.length>0){let e=`${m}${g}/${r}`,t=new URLSearchParams,a={};t.append("depth","0"),t.append("limit","250");let l=u.find(e=>e.slug===r);l.admin.enableListViewSelectAPI&&(a[l.admin.useAsTitle??"id"]=!0,l.upload&&(({collectionConfig:e,select:t})=>{e.upload&&t&&(t.mimeType=!0,t.thumbnailURL=!0,e.upload.imageSizes&&e.upload.imageSizes.length>0?e.upload.adminThumbnail&&"string"==typeof e.upload.adminThumbnail?t.sizes={[e.upload.adminThumbnail]:{filename:!0}}:t.sizes=e.upload.imageSizes.reduce((e,t)=>({...e,[t.name]:{filename:!0,url:!0,width:!0}}),{}):t.url=!0)})({collectionConfig:l,select:a})),y&&t.append("locale",y);let o=n.map(fU);t.append("where[id][in]",o.join(","));let s=`?${t.toString()}&${tZ({select:a})}`,c=await fetch(`${e}${s}`,{credentials:"include",headers:{"Accept-Language":b.language}});if(c.ok){let e=await c.json();e.docs&&i({type:"ADD_LOADED",docs:e.docs,idsToLoad:n,relationTo:r})}else i({type:"ADD_LOADED",docs:[],idsToLoad:n,relationTo:r})}})},r[1]=g,r[2]=u,r[3]=o,r[4]=b,r[5]=y,r[6]=m,r[7]=w):w=r[7];let j=w,C,S;r[8]!==j||r[9]!==y?(C=()=>{j(y&&x.current!==y),x.current=y},S=[y,j],r[8]=j,r[9]=y,r[10]=C,r[11]=S):(C=r[10],S=r[11]),(0,c.useEffect)(C,S),r[12]===Symbol.for("react.memo_cache_sentinel")?(t=e=>{i({type:"REQUEST",docs:e})},r[12]=t):t=r[12];let $=t,_;return r[13]!==a||r[14]!==l?(_=(0,h.jsx)(fF,{value:{documents:l,getRelationships:$},children:a}),r[13]=a,r[14]=l,r[15]=_):_=r[15],_},fz=()=>(0,c.use)(fF);function fU(e){return String(e)}var fV=({allowCreate:e,baseClass:t,buttonStyle:r,className:a,collections:n,i18n:l,icon:i,label:o,onClick:s,permissions:c,relationTo:u})=>e?Array.isArray(u)?(0,h.jsx)("div",{className:`${t}__add-new-polymorphic-wrapper`,children:(0,h.jsx)(a7,{button:(0,h.jsx)(na,{buttonStyle:r,className:a,icon:i,children:o}),buttonType:"custom",horizontalAlign:"center",render:({close:e})=>(0,h.jsx)(aK.ButtonGroup,{children:u.map(r=>c.collections[r]?.create?(0,h.jsx)(aK.Button,{className:`${t}__relation-button--${r}`,onClick:()=>{e(),s(r)},children:m(n.find(e=>e.slug===r).labels.singular,l)},r):null)}),size:"medium"})}):(0,h.jsx)(na,{buttonStyle:r,className:a,onClick:()=>s(),children:o}):null,fH=Symbol.for("react.lazy");function fq(e){return c.default.isValidElement(e)||e?.$$typeof===fH}var fK=({cellData:e,nowrap:t})=>{let r=e?.length>100?`${e.substring(0,100)}\u2026`:e;return(0,h.jsx)("code",{className:"code-cell",style:t?{whiteSpace:"nowrap"}:{},children:(0,h.jsx)("span",{children:r})})};function fW(e){let{blockType:t}=e;return t}var fG=e=>{let{cellData:t,field:r}=e,{admin:a}=r,{date:n}=void 0===a?{}:a,{config:l}=(0,d.b)(),{admin:i}=l,{dateFormat:o}=i,s=n?.displayFormat||o,{i18n:c}=(0,f.d)();return(0,h.jsx)("span",{children:t&&of({date:t,i18n:c,pattern:s})})},fY=()=>(0,h.jsxs)("svg",{height:"150",style:{backgroundColor:"#333333"},viewBox:"0 0 150 150",width:"150",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{d:"M82.8876 50.5H55.5555V100.5H94.4444V61.9818H82.8876V50.5Z",fill:"white"}),(0,h.jsx)("path",{d:"M82.8876 61.9818H94.4444L82.8876 50.5V61.9818Z",fill:"#9A9A9A"})]}),fX="thumbnail",fQ=e=>{let t=(0,v.c)(6),{className:r,doc:a,fileSrc:n,height:l,imageCacheTag:i,size:o,width:s}=e,u=void 0===r?"":r,{filename:f}=void 0===a?{}:a,[p,m]=c.default.useState(void 0),g=`${fX}--size-${o||"medium"}`,b;t[0]!==u||t[1]!==g?(b=[fX,g,u],t[0]=u,t[1]=g,t[2]=b):b=t[2];let y=b.join(" "),x,w;t[3]!==n?(x=()=>{if(!n)return void m(!1);m(void 0);let e=new Image;e.src=n,e.onload=()=>{m(!0)},e.onerror=()=>{m(!1)}},w=[n],t[3]=n,t[4]=x,t[5]=w):(x=t[4],w=t[5]),c.default.useEffect(x,w);let j=null;if(n){let e=n?.includes("?")?"&":"?";j=i?`${n}${e}${encodeURIComponent(i)}`:n}return(0,h.jsxs)("div",{className:y,children:[void 0===p&&(0,h.jsx)(d.e,{height:"100%"}),p&&(0,h.jsx)("img",{alt:f,height:l,src:j,width:s}),!1===p&&(0,h.jsx)(fY,{})]})};function fJ(e){let t,r=(0,v.c)(12),{alt:a,className:n,filename:l,fileSrc:i,imageCacheTag:o,size:s}=e,u=void 0===n?"":n,[f,p]=c.default.useState(void 0),m=`${fX}--size-${s||"medium"}`,g;r[0]!==u||r[1]!==m?(g=[fX,m,u],r[0]=u,r[1]=m,r[2]=g):g=r[2];let b=g.join(" "),y,x;r[3]!==i?(y=()=>{if(!i)return void p(!1);p(void 0);let e=new Image;e.src=i,e.onload=()=>{p(!0)},e.onerror=()=>{p(!1)}},x=[i],r[3]=i,r[4]=y,r[5]=x):(y=r[4],x=r[5]),c.default.useEffect(y,x);let w="";if(i){let e=i?.includes("?")?"&":"?";w=o?`${i}${e}${encodeURIComponent(o)}`:i}return r[6]!==a||r[7]!==b||r[8]!==f||r[9]!==l||r[10]!==w?(t=(0,h.jsxs)("div",{className:b,children:[void 0===f&&(0,h.jsx)(d.e,{height:"100%"}),f&&(0,h.jsx)("img",{alt:a||l,src:w}),!1===f&&(0,h.jsx)(fY,{})]}),r[6]=a,r[7]=b,r[8]=f,r[9]=l,r[10]=w,r[11]=t):t=r[11],t}var fZ="file",f0=({cellData:e,collectionConfig:t,field:r,rowData:a})=>{if(!(("displayPreview"in r?r.displayPreview:void 0)??t.upload?.displayPreview??!0))return(0,h.jsx)(h.Fragment,{children:String(e)});{let r=rc(a?.mimeType),n=r?a?.thumbnailURL||a?.url:a?.thumbnailURL;return r&&(n=rs({sizes:a?.sizes,thumbnailURL:a?.thumbnailURL,url:a?.url,width:a?.width})),(0,h.jsxs)("div",{className:fZ,children:[(0,h.jsx)(fQ,{className:`${fZ}__thumbnail`,collectionSlug:t?.slug,doc:{...a,filename:e},fileSrc:n,size:"small",uploadConfig:t?.upload}),(0,h.jsx)("span",{className:`${fZ}__filename`,children:String(e)})]})}},f1=!!("u">typeof window&&window.document&&window.document.createElement),f3=e=>{let t,r,a,n,l=(0,v.c)(40),{cellData:i,customCellProps:o,field:s,field:u}=e,{label:p}=u,g="relationTo"in s&&s.relationTo||"collection"in s&&s.collection,b="collection"in s?i?.docs:i,{config:y,getEntityConfig:x}=(0,d.b)(),{collections:w,routes:j}=y,[C,S]=a5(),$;l[0]===Symbol.for("react.memo_cache_sentinel")?($=[],l[0]=$):$=l[0];let[_,k]=(0,c.useState)($),{documents:E,getRelationships:N}=fz(),[P,D]=(0,c.useState)(!1),{i18n:T,t:O}=(0,f.d)(),R=!!f1&&S?.boundingClientRect?.top<window.innerHeight,A;if(l[1]!==b||l[2]!==N||l[3]!==P||l[4]!==R||l[5]!==g?(A=()=>{if((b||"number"==typeof b)&&R&&!P){let e=[],t=Array.isArray(b)?b:[b];t.slice(0,t.length<3?t.length:3).forEach(t=>{"object"==typeof t&&"relationTo"in t&&"value"in t&&e.push(t),("number"==typeof t||"string"==typeof t)&&"string"==typeof g&&e.push({relationTo:g,value:t})}),N(e),D(!0),k(e)}},l[1]=b,l[2]=N,l[3]=P,l[4]=R,l[5]=g,l[6]=A):A=l[6],l[7]!==b||l[8]!==w||l[9]!==N||l[10]!==P||l[11]!==R||l[12]!==g||l[13]!==j.api?(t=[b,g,w,R,j.api,P,N],l[7]=b,l[8]=w,l[9]=N,l[10]=P,l[11]=R,l[12]=g,l[13]=j.api,l[14]=t):t=l[14],(0,c.useEffect)(A,t),l[15]!==P?(r=()=>{P&&D(!1)},l[15]=P,l[16]=r):r=l[16],l[17]!==b?(a=[b],l[17]=b,l[18]=a):a=l[18],(0,c.useEffect)(r,a),l[19]!==b||l[20]!==y.admin||l[21]!==o||l[22]!==E||l[23]!==s||l[24]!==x||l[25]!==T||l[26]!==C||l[27]!==p||l[28]!==O||l[29]!==_){let e;l[31]!==y.admin||l[32]!==o||l[33]!==E||l[34]!==s||l[35]!==x||l[36]!==T||l[37]!==O||l[38]!==_.length?(e=(e,t)=>{let{relationTo:r,value:a}=e,n=E[r][a],l=x({collectionSlug:r}),i=og({collectionConfig:l,data:n||null,dateFormat:y.admin.dateFormat,fallback:`${O("general:untitled")} - ID: ${a}`,i18n:T}),u=null;return"upload"===s.type&&(("displayPreview"in s?s.displayPreview:void 0)??l.upload?.displayPreview??!0)&&n&&(u=(0,h.jsx)(f0,{cellData:i,collectionConfig:l,collectionSlug:l.slug,customCellProps:o,field:s,rowData:n})),(0,h.jsxs)(c.default.Fragment,{children:[!1===n&&`${O("general:untitled")} - ID: ${a}`,null===n&&`${O("general:loading")}...`,n?u||i:null,_.length>t+1&&", "]},t)},l[31]=y.admin,l[32]=o,l[33]=E,l[34]=s,l[35]=x,l[36]=T,l[37]=O,l[38]=_.length,l[39]=e):e=l[39],n=(0,h.jsxs)("div",{className:"relationship-cell",ref:C,children:[_.map(e),Array.isArray(b)&&b.length>3&&O("fields:itemsAndMore",{count:b.length-3,items:""}),0===_.length&&O("general:noLabel",{label:m(p||"",T)})]}),l[19]=b,l[20]=y.admin,l[21]=o,l[22]=E,l[23]=s,l[24]=x,l[25]=T,l[26]=C,l[27]=p,l[28]=O,l[29]=_,l[30]=n}else n=l[30];return n},f2=e=>{let t=(0,v.c)(7),{cellData:r,field:a}=e,{options:n}=a,{i18n:l}=(0,f.d)(),i;t[0]!==l||t[1]!==n?(i=e=>e.map(e=>m(n.filter(t=>t.value===e)?.[0]?.label,l)).join(", "),t[0]=l,t[1]=n,t[2]=i):i=t[2];let o=i,s;if(t[3]!==r||t[4]!==o||t[5]!==n){let e;e=C(n)?o(Array.isArray(r)?r:[r]):Array.isArray(r)?r.join(", "):r,s=(0,h.jsx)("span",{children:e}),t[3]=r,t[4]=o,t[5]=n,t[6]=s}else s=t[6];return s},f6={array:e=>{let t=(0,v.c)(2),{cellData:r,field:a}=e,{labels:n}=a,{i18n:l}=(0,f.d)(),i=r??[],o=1===i.length?`${i.length} ${m(n?.singular||l.t("general:rows"),l)}`:`${i.length} ${m(n?.plural||l.t("general:rows"),l)}`,s;return t[0]!==o?(s=(0,h.jsx)("span",{children:o}),t[0]=o,t[1]=s):s=t[1],s},blocks:e=>{let t,r=(0,v.c)(2),{cellData:a,field:n}=e,{blockReferences:l,blocks:i,labels:o}=n,{i18n:s}=(0,f.d)(),{config:c}=(0,d.b)(),u=Array.isArray(a)?a.map(fW):[],p=(l??i)?.map(e=>{let t="string"==typeof e?c.blocksMap[e]:e;return{slug:t.slug,label:m(t.labels.singular,s)}}),g=`0 ${m(o?.plural,s)}`,b=e=>e.map(e=>p.filter(t=>t.slug===e)?.[0]?.label).join(", ");if(u.length>5){let e=u.length-5;g=`${u.length} ${m(o?.plural,s)} - ${s.t("fields:itemsAndMore",{count:e,items:b(u.slice(0,5))})}`}else u.length>0&&(g=`${u.length} ${m(1===u.length?o?.singular:o?.plural,s)} - ${b(u)}`);return r[0]!==g?(t=(0,h.jsx)("span",{children:g}),r[0]=g,r[1]=t):t=r[1],t},checkbox:e=>{let t=(0,v.c)(3),{cellData:r}=e,{t:a}=(0,f.d)(),n=`general:${r}`,l;return t[0]!==a||t[1]!==n?(l=(0,h.jsx)("code",{className:"bool-cell",children:(0,h.jsx)("span",{children:a(n).toLowerCase()})}),t[0]=a,t[1]=n,t[2]=l):l=t[2],l},code:fK,date:fG,File:f0,join:f3,json:({cellData:e})=>{let t=e?.length>100?`${e.substring(0,100)}\u2026`:e;return(0,h.jsx)("code",{className:"json-cell",children:(0,h.jsx)("span",{children:JSON.stringify(t)})})},radio:f2,relationship:f3,select:f2,textarea:({cellData:e})=>{let t=e?.length>100?`${e.substring(0,100)}\u2026`:e;return(0,h.jsx)("span",{children:t})},upload:f3},f5=e=>{let t=(0,v.c)(16),{cellData:r,className:a,collectionSlug:n,field:l,field:i,link:o,linkURL:s,onClick:c,rowData:u,viewType:p}=e,{admin:g}=i,{i18n:b}=(0,f.d)(),{config:y,getEntityConfig:x}=(0,d.b)(),{routes:w}=y,{admin:j}=w,C,S;if(t[0]!==g||t[1]!==j||t[2]!==r||t[3]!==a||t[4]!==n||t[5]!==l||t[6]!==x||t[7]!==b||t[8]!==o||t[9]!==s||t[10]!==c||t[11]!==e||t[12]!==u||t[13]!==p){S=Symbol.for("react.early_return_sentinel");e:{let t=x({collectionSlug:n}),i=g&&"className"in g?g.className:void 0,d=a||(l.admin&&"className"in l.admin?l.admin.className:null)||i,f="span",v={className:d};if(o&&(v.prefetch=!1,f=aL,s?v.href=s:v.href=t?.slug?tE({adminRoute:j,path:`/collections/${t?.slug}${"trash"===p?"/trash":""}/${encodeURIComponent(u.id)}`}):""),"function"==typeof c&&(f="button",v.type="button",v.onClick=()=>{c({cellData:r,collectionSlug:t?.slug,rowData:u})}),_(l)){S=(0,h.jsx)(f,{...v,children:(0,h.jsx)(fK,{cellData:`ID: ${r}`,collectionConfig:t,collectionSlug:n,field:{...l,type:"code"},nowrap:!0,rowData:u})});break e}let y=((e,t,r)=>{if((t?.type==="select"||t?.type==="radio")&&Array.isArray(t.options)){let a=t.options.find(t=>"object"==typeof t?t.value===e:t===e);if(a)return"object"==typeof a&&"label"in a?fq(a.label)?a.label:m(a.label,r)||a.value:a}return e})(r,l,b),w="u">typeof r&&f6[l.type],$=null;if(fq(y))$=y;else if(w)$=(0,h.jsx)(w,{cellData:r,rowData:u,...e});else if(!w)if(t?.upload&&E(l)&&"filename"===l.name&&"text"===l.type){let a=f6.File;$=(0,h.jsx)(a,{cellData:r,rowData:u,...e,collectionConfig:t,field:l})}else{S=(0,h.jsxs)(f,{...v,children:[(""===y||typeof y>"u"||null===y)&&b.t("general:noLabel",{label:m(("label"in l?l.label:null)||"data",b)}),"string"==typeof y&&y,"number"==typeof y&&y,"object"==typeof y&&null!==y&&JSON.stringify(y)]});break e}if(("select"===l.type||"radio"===l.type)&&l.options.length&&r){let e=Array.isArray(r)?r.map(f4).join(" "):`selected--${r}`,t=[v.className,e].filter(Boolean).join(" ");S=(0,h.jsx)(f,{...v,className:t,children:$});break e}C=(0,h.jsx)(f,{...v,children:$})}t[0]=g,t[1]=j,t[2]=r,t[3]=a,t[4]=n,t[5]=l,t[6]=x,t[7]=b,t[8]=o,t[9]=s,t[10]=c,t[11]=e,t[12]=u,t[13]=p,t[14]=C,t[15]=S}else C=t[14],S=t[15];return S!==Symbol.for("react.early_return_sentinel")?S:C};function f4(e){return`selected--${e}`}var f8=c.default.createContext(null),f9=()=>c.default.use(f8),f7=e=>{let t=(0,v.c)(9),{clientProps:r,columnIndex:a,isLinkedColumn:n}=e,{drawerSlug:l,onSelect:i}=fe(),{LinkedCellOverride:o}=fd(),s;if(t[0]!==o||t[1]!==r||t[2]!==a||t[3]!==l||t[4]!==n||t[5]!==i){let e={...r,columnIndex:a};if(n&&l){let r;e.className="default-cell__first-cell",e.link=!1,t[7]!==i?(r=e=>{let{collectionSlug:t,rowData:r}=e;"function"==typeof i&&i({collectionSlug:t,doc:r,docID:r.id})},t[7]=i,t[8]=r):r=t[8],e.onClick=r}s=(0,h.jsx)(f8,{value:e,children:n&&o?o:(0,h.jsx)(f5,{...e})}),t[0]=o,t[1]=r,t[2]=a,t[3]=l,t[4]=n,t[5]=i,t[6]=s}else s=t[6];return s},pe=e=>{let t=(0,v.c)(3),{onDrawerOpen:r}=e,a=f9(),n;return t[0]!==a||t[1]!==r?(n=(0,h.jsxs)("div",{className:"drawer-link",children:[(0,h.jsx)(f5,{...a,className:"drawer-link__cell",link:!1,onClick:null}),(0,h.jsx)("button",{className:"drawer-link__doc-drawer-toggler",onClick:()=>{r(a.rowData.id)},type:"button",children:(0,h.jsx)(aU,{})})]}),t[0]=a,t[1]=r,t[2]=n):n=t[2],n},pt="clickable-arrow",pr="paginator__page",pa=({isCurrent:e,isFirstPage:t=!1,isLastPage:r=!1,page:a=1,updatePage:n})=>{let l=[pr,e&&`${pr}--is-current`,t&&`${pr}--is-first-page`,r&&`${pr}--is-last-page`].filter(Boolean).join(" ");return(0,h.jsx)("button",{className:l,onClick:()=>n(a),type:"button",children:a})},pn={ClickableArrow:e=>{let{direction:t="right",isDisabled:r=!1,updatePage:a}=e,n=[pt,r&&`${pt}--is-disabled`,t&&`${pt}--${t}`].filter(Boolean).join(" ");return(0,h.jsx)("button",{className:n,disabled:r,onClick:r?void 0:a,type:"button",children:(0,h.jsx)(az,{})})},Page:pa,Separator:()=>(0,h.jsx)("span",{className:"paginator__separator",children:""})},pl=e=>{let{hasNextPage:t=!1,hasPrevPage:r=!1,nextPage:a=null,numberOfNeighbors:n=1,onChange:l,page:i,prevPage:o=null,totalPages:s=null}=e;if(!r&&!t)return null;let c=e=>{"function"==typeof l&&l(e)},u=Array.from({length:s},(e,t)=>t+1),d=i-1-n;d<=0&&(d=0);let f=i-1+n+1,p=u.slice(d,f);return i-n-1>=2&&p.unshift({type:"Separator"}),i>n+1&&p.unshift({type:"Page",props:{isFirstPage:!0,page:1,updatePage:c}}),i+n+1<s&&p.push({type:"Separator"}),f<s&&p.push({type:"Page",props:{isLastPage:!0,page:s,updatePage:c}}),p.unshift({type:"ClickableArrow",props:{direction:"right",isDisabled:!t,updatePage:()=>c(a??i+1)}}),p.unshift({type:"ClickableArrow",props:{direction:"left",isDisabled:!r,updatePage:()=>c(o??Math.max(1,i-1))}}),(0,h.jsx)("div",{className:"paginator",children:p.map((e,t)=>{if("number"==typeof e)return(0,h.jsx)(pa,{isCurrent:i===e,page:e,updatePage:c},t);let r=pn[e.type];return(0,h.jsx)(r,{...e.props},t)})})},pi=()=>{let e=(0,v.c)(11),{data:t,handlePageChange:r}=fa(),a=t.nextPage||2,n;e[0]!==r?(n=e=>{r(e)},e[0]=r,e[1]=n):n=e[1];let l=t.page||1,i=t.prevPage||void 0,o;return e[2]!==t.hasNextPage||e[3]!==t.hasPrevPage||e[4]!==t.limit||e[5]!==t.totalPages||e[6]!==a||e[7]!==n||e[8]!==l||e[9]!==i?(o=(0,h.jsx)(pl,{hasNextPage:t.hasNextPage,hasPrevPage:t.hasPrevPage,limit:t.limit,nextPage:a,numberOfNeighbors:1,onChange:n,page:l,prevPage:i,totalPages:t.totalPages}),e[2]=t.hasNextPage,e[3]=t.hasPrevPage,e[4]=t.limit,e[5]=t.totalPages,e[6]=a,e[7]=n,e[8]=l,e[9]=i,e[10]=o):o=e[10],o},po="relationship-table",ps=e=>{let{AfterInput:t,allowCreate:r=!0,BeforeInput:a,disableTable:n=!1,field:l,fieldPath:i,filterOptions:o,initialData:s,initialDrawerData:u,Label:p,parent:g,relationTo:b}=e,[v,y]=(0,c.useState)(null),{config:x,getEntityConfig:w}=(0,d.b)(),{i18n:j,t:C}=(0,f.d)(),[S,$]=(0,c.useState)(),[_,k]=(0,c.useState)(!1),[E]=(0,c.useState)(()=>w({collectionSlug:b})),N=Array.isArray(b),[P,D]=(0,c.useState)(N?void 0:b),{permissions:T}=ig(),O=(0,c.useRef)(!1),[R,A]=(0,c.useState)(void 0),[I,,{closeDrawer:M,isDrawerOpen:L,openDrawer:F}]=fI({id:R,collectionSlug:P}),[B,z]=(0,c.useState)(!n),[U,V]=(0,c.useState)(()=>s?{...s,docs:Array.isArray(s.docs)?s.docs.reduce((e,t)=>"string"==typeof t||"number"==typeof t?[...e,{id:t}]:[...e,t],[]):[]}:void 0),[H,q]=(0,c.useState)(),{getTableState:K}=fs(),W=(0,c.useCallback)(async e=>{let t={limit:l?.defaultLimit||E?.admin?.pagination?.defaultLimit,sort:l.defaultSort||E?.defaultSort,...S||{},where:{...S?.where||{}}};o&&(t.where=t5(t.where,o));let r=l.admin.defaultColumns?l.admin.defaultColumns.map(e=>({accessor:e,active:!0})):void 0,a="boolean"==typeof l.admin.disableRowTypes?!l.admin.disableRowTypes:Array.isArray(b),{data:n,state:i,Table:s}=await K({collectionSlug:b,columns:t8(S?.columns)||r,data:e,enableRowSelections:!1,orderableFieldName:!l.orderable||Array.isArray(l.collection)?void 0:`_${l.collection}_${l.name}_order`,parent:g,query:t,renderRowTypes:a,tableAppearance:"condensed"});V(n),y(s),q(i),z(!1)},[l.defaultLimit,l.defaultSort,l.admin.defaultColumns,l.admin.disableRowTypes,l.collection,l.name,l.orderable,E?.admin?.pagination?.defaultLimit,E?.defaultSort,S,o,K,b,g]),G=id((e,t)=>{t||v&&!e||W()});(0,c.useEffect)(()=>{G(S,n)},[S,n]);let Y=(0,c.useCallback)(({doc:e,operation:t})=>{"create"===t&&M();let r=U?.docs?.findIndex(t=>t.id===e.id),a={docs:[]};if(-1!==r){let t=[...U.docs];t[r]=e,a.docs=t}else a.docs=[e,...U.docs];W(a)},[U?.docs,W,M]),X=(0,c.useCallback)(e=>{let t=U.docs.filter(t=>t.id!==e.id);W({...U,docs:t}),A(void 0)},[U,W]),Q=(0,c.useCallback)(e=>{O.current=!0,A(e||void 0)},[]);(0,c.useEffect)(()=>{O.current&&(O.current=!1,F())},[F]),(0,c.useEffect)(()=>{L||A(void 0)},[L]);let J=!1!==r&&T?.collections?.[N?b[0]:b]?.create;(0,c.useEffect)(()=>{N&&P&&F()},[P,F,N]),(0,c.useEffect)(()=>{N&&!L&&P&&D(void 0)},[L]);let Z=c.default.useMemo(()=>({columns:t8(H)?.map(({accessor:e})=>e),limit:l.defaultLimit??E?.admin?.pagination?.defaultLimit,sort:l.defaultSort??E?.defaultSort}),[H,l,E]);return(0,h.jsxs)("div",{className:po,children:[(0,h.jsxs)("div",{className:`${po}__header`,children:[p,(0,h.jsxs)("div",{className:`${po}__actions`,children:[(0,h.jsx)(fV,{allowCreate:!1!==r,baseClass:po,buttonStyle:"none",className:`${po}__add-new${N?"-polymorphic":" doc-drawer__toggler"}`,collections:x.collections,i18n:j,icon:N?"plus":void 0,label:j.t("fields:addNew"),onClick:N?D:F,permissions:T,relationTo:b}),(0,h.jsx)(o9,{"aria-controls":`${po}-columns`,"aria-expanded":_,className:`${po}__toggle-columns ${_?`${po}__buttons-active`:""}`,icon:(0,h.jsx)(az,{direction:_?"up":"down"}),onClick:()=>k(!_),pillStyle:"light",size:"small",children:C("general:columns")})]})]}),a,B?(0,h.jsx)("p",{children:C("general:loading")}):(0,h.jsxs)(c.Fragment,{children:[U?.docs&&0===U.docs.length&&(0,h.jsxs)("div",{className:`${po}__no-results`,children:[(0,h.jsx)("p",{children:j.t("general:noResults",{label:N?j.t("general:documents"):m(E?.labels?.plural,j)})}),(0,h.jsx)(fV,{allowCreate:J,baseClass:po,collections:x.collections,i18n:j,label:j.t("general:createNewLabel",{label:N?j.t("general:document"):m(E?.labels?.singular,j)}),onClick:N?D:F,permissions:T,relationTo:b})]}),U?.docs&&U.docs.length>0&&(0,h.jsx)(fB,{children:(0,h.jsx)(fi,{data:U,modifySearchParams:!1,onQueryChange:$,orderableFieldName:!l.orderable||Array.isArray(l.collection)?void 0:`_${l.collection}_${i.replaceAll(".","_")}_order`,query:Z,children:(0,h.jsxs)(ff,{collectionSlug:N?b[0]:b,columnState:H,LinkedCellOverride:(0,h.jsx)(pe,{currentDrawerID:R,onDrawerOpen:Q}),children:[(0,h.jsx)(oJ,{className:`${po}__columns`,height:_?"auto":0,id:`${po}-columns`,children:(0,h.jsx)("div",{className:`${po}__columns-inner`,children:E&&(0,h.jsx)(fm,{collectionSlug:E.slug})})}),v,(0,h.jsx)(pi,{})]})})})]}),t,(0,h.jsx)(I,{initialData:u,onDelete:X,onSave:Y})]})},pc="default"in d8.default?d8.default.default:d8.default,pu=({collectionSlug:e,config:t,docID:r,fields:a,segments:n})=>{let l=t2(a,{keepPresentationalFields:!0}),i=n[0],o=l.find(e=>e.name===i);if(!o)return null;if("relationship"===o.type||"upload"===o.type){let t=r;return Array.isArray(o.relationTo)&&(t={relationTo:e,value:r}),{[o.name]:o.hasMany?[t]:t}}let s=n.slice(1,n.length);if("tab"===o.type||"group"===o.type&&E(o))return{[o.name]:pu({collectionSlug:e,config:t,docID:r,fields:o.fields,segments:s})};if("array"===o.type){let a=pu({collectionSlug:e,config:t,docID:r,fields:o.fields,segments:s});return a.id=pc().toHexString(),{[o.name]:[a]}}if("blocks"===o.type)for(let a of o.blockReferences??o.blocks){let n="string"==typeof a?t.blocksMap[a]:a,l=pu({collectionSlug:e,config:t,docID:r,fields:n.fields,segments:s});if(l)return l.id=pc().toHexString(),l.blockType=n.slug,{[o.name]:[l]}}},pd=oM(e=>{let{field:t,field:{admin:{allowCreate:r,description:a},collection:n,label:l,localized:i,on:o,required:s},path:u}=e,{id:f,docConfig:p}=o$(),{config:m,getEntityConfig:g}=(0,d.b)(),{customComponents:{AfterInput:b,BeforeInput:v,Description:y,Error:x,Label:w}={},path:j,showError:C,value:S}=oR({potentiallyStalePath:u}),$=(0,c.useMemo)(()=>{if(!f)return null;let e=f;Array.isArray(t.targetField.relationTo)&&(e={relationTo:p.slug,value:e});let r=Array.isArray(n)?{}:{[o]:{equals:e}};return t.where?{and:[r,t.where]}:r},[f,n,t.targetField.relationTo,t.where,o,p?.slug]),_=(0,c.useMemo)(()=>{let e=g({collectionSlug:Array.isArray(t.collection)?t.collection[0]:t.collection});return pu({collectionSlug:p?.slug,config:m,docID:f,fields:e?.fields,segments:t.on.split(".")})},[g,t.collection,t.on,p?.slug,f,m]);return p?(0,h.jsxs)("div",{className:[oF,C&&"error","join"].filter(Boolean).join(" "),id:`field-${j?.replace(/\./g,"__")}`,children:[(0,h.jsx)(rY,{CustomComponent:x,Fallback:(0,h.jsx)(nU,{path:j,showError:C})}),(0,h.jsx)(ps,{AfterInput:b,allowCreate:"u">typeof f&&r,BeforeInput:v,disableTable:null===$,field:t,fieldPath:j,filterOptions:$,initialData:f&&S?S:{docs:[]},initialDrawerData:_,Label:(0,h.jsx)("h4",{style:{margin:0},children:w||(0,h.jsx)(iN,{label:l,localized:i,path:j,required:s})}),parent:Array.isArray(n)?{id:f,collectionSlug:p.slug,joinPath:j}:void 0,relationTo:n}),(0,h.jsx)(rY,{CustomComponent:y,Fallback:(0,h.jsx)(nz,{description:a,path:j})})]}):null}),pf=oM(e=>{let{field:t,field:{admin:{className:r,description:a,editorOptions:n,maxHeight:l}={},jsonSchema:i,label:o,localized:s,required:u},path:f,readOnly:p,validate:m}=e,{insertSpaces:g=d.j.insertSpaces,tabSize:b=d.j.tabSize}=n||{},v=(0,c.useCallback)(e=>{if(void 0!==e)return null===e?"":g?JSON.stringify(e,null,b):JSON.stringify(e,null,"	")},[b,g]),[y,x]=(0,c.useState)(),w=c.default.useRef("formState"),[j,C]=(0,c.useState)(Date.now()),{customComponents:{AfterInput:S,BeforeInput:$,Description:_,Error:k,Label:E}={},disabled:N,initialValue:P,path:D,setValue:T,showError:O,value:R}=oR({potentiallyStalePath:f,validate:(0,c.useCallback)((e,t)=>{if("function"==typeof m)return m(e,{...t,jsonError:y,required:u})},[m,u,y])}),A=c.default.useRef(v(R??P)),I=(0,c.useCallback)((e,t)=>{if(!i)return;t.languages.json.jsonDefaults.setDiagnosticsOptions({enableSchemaRequest:!0,schemas:[...t.languages.json.jsonDefaults.diagnosticsOptions.schemas||[],i],validate:!0});let r=i.uri,a=r.includes("?")?`${r}&${crypto.randomUUID?crypto.randomUUID():so()}`:`${r}?${crypto.randomUUID?crypto.randomUUID():so()}`;e.setModel(t.editor.createModel(v(R)||"","json",t.Uri.parse(a)))},[i,v,R]),M=(0,c.useCallback)(e=>{if(!(p||N)){w.current="internalEditor";try{T(e?JSON.parse(e):null),A.current=e,x(void 0)}catch(t){T(e||null),A.current=e,x(t)}}},[p,N,T]);(0,c.useEffect)(()=>{if("formState"===w.current){let e=v(R??P);e!==A.current&&(A.current=e,C(Date.now()))}w.current="formState"},[P,D,v,R]);let L=(0,c.useMemo)(()=>oL(t),[t]);return(0,h.jsxs)("div",{className:[oF,"json-field",r,O&&"error",(p||N)&&"read-only"].filter(Boolean).join(" "),style:L,children:[(0,h.jsx)(rY,{CustomComponent:E,Fallback:(0,h.jsx)(iN,{label:o,localized:s,path:D,required:u})}),(0,h.jsxs)("div",{className:`${oF}__wrap`,children:[(0,h.jsx)(rY,{CustomComponent:k,Fallback:(0,h.jsx)(nU,{message:y,path:D,showError:O})}),$,(0,h.jsx)(sj,{defaultLanguage:"json",maxHeight:l,onChange:M,onMount:I,options:n,readOnly:p||N,recalculatedHeightAt:j,value:A.current,wrapperProps:{id:`field-${D?.replace(/\./g,"__")}`}}),S]}),(0,h.jsx)(rY,{CustomComponent:_,Fallback:(0,h.jsx)(nz,{description:a,path:D})})]})}),pp=oM(e=>{let{field:t,field:{admin:{className:r,description:a,placeholder:n,step:l=1}={},hasMany:i=!1,label:o,localized:s,max:u=1/0,maxRows:d=1/0,min:p=-1/0,required:g},onChange:b,path:v,readOnly:y,validate:x}=e,{i18n:w,t:j}=(0,f.d)(),{customComponents:{AfterInput:C,BeforeInput:S,Description:$,Error:_,Label:k}={},disabled:E,path:N,setValue:P,showError:D,value:T}=oR({potentiallyStalePath:v,validate:(0,c.useCallback)((e,t)=>{if("function"==typeof x)return x(e,{...t,max:u,min:p,required:g})},[x,p,u,g])}),O=(0,c.useCallback)(e=>{let t=parseFloat(e.target.value),r=t;Number.isNaN(t)&&(r=null),"function"==typeof b&&b(r),P(r)},[b,P]),[R,A]=(0,c.useState)([]),I=(0,c.useCallback)(e=>{!(y||E)&&P(e?Array.isArray(e)?e.map(e=>Number(e.value?.value||e.value)):[Number(e.value?.value||e.value)]:[])},[y,E,P]);(0,c.useEffect)(()=>{i&&Array.isArray(T)&&A(T.map((e,t)=>({id:`${e}${t}`,label:`${e}`,value:{toString:()=>`${e}${t}`,value:e?.value||e}})))},[T,i]);let M=(0,c.useMemo)(()=>oL(t),[t]),L=m(n,w);return(0,h.jsxs)("div",{className:[oF,"number",r,D&&"error",(y||E)&&"read-only",i&&"has-many"].filter(Boolean).join(" "),style:M,children:[(0,h.jsx)(rY,{CustomComponent:k,Fallback:(0,h.jsx)(iN,{label:o,localized:s,path:N,required:g})}),(0,h.jsxs)("div",{className:`${oF}__wrap`,children:[(0,h.jsx)(rY,{CustomComponent:_,Fallback:(0,h.jsx)(nU,{path:N,showError:D})}),S,i?(0,h.jsx)(dK,{className:`field-${N.replace(/\./g,"__")}`,disabled:y||E,filterOption:(e,t)=>{let r=Array.isArray(T)&&T.length>=d;return ru(t)&&!r},isClearable:!0,isCreatable:!0,isMulti:!0,isSortable:!0,noOptionsMessage:()=>Array.isArray(T)&&T.length>=d?j("validation:limitReached",{max:d,value:T.length+1}):null,onChange:I,options:[],placeholder:L,showError:D,value:R}):(0,h.jsx)("div",{children:(0,h.jsx)("input",{disabled:y||E,id:`field-${N.replace(/\./g,"__")}`,max:u,min:p,name:N,onChange:O,onWheel:e=>{e.target.blur()},placeholder:L,step:l,type:"number",value:"number"==typeof T?T:""})}),C,(0,h.jsx)(rY,{CustomComponent:$,Fallback:(0,h.jsx)(nz,{description:a,path:N})})]})]})}),ph="point",pm=oM(e=>{let{field:t,field:{admin:{className:r,description:a,placeholder:n,step:l}={},label:i,localized:o,required:s},path:u,readOnly:d,validate:p}=e,{i18n:g,t:b}=(0,f.d)(),{customComponents:{AfterInput:v,BeforeInput:y,Description:x,Error:w,Label:j}={},disabled:C,path:S,setValue:$,showError:_,value:k=[null,null]}=oR({potentiallyStalePath:u,validate:(0,c.useCallback)((e,t)=>{if("function"==typeof p)return p(e,{...t,required:s})},[p,s])}),E=(0,c.useCallback)((e,t)=>{let r=parseFloat(e.target.value);Number.isNaN(r)&&(r=e.target.value);let a=[...k];a[t]=r,$(a)},[$,k]),N=e=>{let t=b("longitude"===e?"fields:longitude":"fields:latitude"),r=i?m(i,g):"";return`${r}${r?" - ":""}${t}`},P=(0,c.useMemo)(()=>oL(t),[t]);return(0,h.jsxs)("div",{className:[oF,ph,r,_&&"error",(d||C)&&"read-only"].filter(Boolean).join(" "),style:P,children:[(0,h.jsxs)("ul",{className:`${ph}__wrap`,children:[(0,h.jsxs)("li",{children:[(0,h.jsx)(rY,{CustomComponent:j,Fallback:(0,h.jsx)(iN,{label:N("longitude"),localized:o,path:S,required:s})}),(0,h.jsxs)("div",{className:"input-wrapper",children:[y,(0,h.jsx)("input",{disabled:d||C,id:`field-longitude-${S?.replace(/\./g,"__")}`,name:`${S}.longitude`,onChange:e=>E(e,0),placeholder:m(n,g),step:l,type:"number",value:k&&"number"==typeof k[0]?k[0]:""}),v]})]}),(0,h.jsxs)("li",{children:[(0,h.jsx)(rY,{CustomComponent:j,Fallback:(0,h.jsx)(iN,{label:N("latitude"),localized:o,path:S,required:s})}),(0,h.jsxs)("div",{className:"input-wrapper",children:[(0,h.jsx)(rY,{CustomComponent:w,Fallback:(0,h.jsx)(nU,{path:S,showError:_})}),y,(0,h.jsx)("input",{disabled:d||C,id:`field-latitude-${S?.replace(/\./g,"__")}`,name:`${S}.latitude`,onChange:e=>E(e,1),placeholder:m(n,g),step:l,type:"number",value:k&&"number"==typeof k[1]?k[1]:""}),v]})]})]}),(0,h.jsx)(rY,{CustomComponent:x,Fallback:(0,h.jsx)(nz,{description:a,path:S})})]})}),pg="radio-input",pb=e=>{let t,r=(0,v.c)(16),{isSelected:a,onChange:n,option:l,path:i,readOnly:o,uuid:s}=e,{i18n:c}=(0,f.d)(),u=nq(),d=`field-${i}-${l.value}${u>1?`-${u}`:""}${s?`-${s}`:""}`,p=a&&`${pg}--is-selected`,g;r[0]!==p?(g=[pg,p].filter(Boolean),r[0]=p,r[1]=g):g=r[1];let b=g.join(" "),y;if(r[2]!==n||r[3]!==l.value?(y=()=>"function"==typeof n?n(l.value):null,r[2]=n,r[3]=l.value,r[4]=y):y=r[4],r[5]!==c||r[6]!==d||r[7]!==a||r[8]!==l.label||r[9]!==i||r[10]!==o||r[11]!==b||r[12]!==y){let e=(0,h.jsx)("input",{checked:a,disabled:o,id:d,name:i,onChange:y,type:"radio"}),n=o&&`${pg}__styled-radio--disabled`,s;r[14]!==n?(s=[`${pg}__styled-radio`,n].filter(Boolean),r[14]=n,r[15]=s):s=r[15],t=(0,h.jsx)("label",{htmlFor:d,children:(0,h.jsxs)("div",{className:b,children:[e,(0,h.jsx)("span",{className:s.join(" ")}),(0,h.jsx)("span",{className:`${pg}__label`,children:m(l.label,c)})]})}),r[5]=c,r[6]=d,r[7]=a,r[8]=l.label,r[9]=i,r[10]=o,r[11]=b,r[12]=y,r[13]=t}else t=r[13];return t},pv="radio-group",py=oM(e=>{let{disableModifyingForm:t,field:r,field:{admin:{className:a,description:n,layout:l="horizontal"}={},label:i,localized:o,options:s=[],required:u}={},onChange:d,path:f,readOnly:p,validate:m,value:g}=e,{uuid:b}=ar(),{customComponents:{AfterInput:v,BeforeInput:y,Description:x,Error:w,Label:C}={},disabled:S,path:$,setValue:_,showError:k,value:E}=oR({potentiallyStalePath:f,validate:(0,c.useCallback)((e,t)=>{if("function"==typeof m)return m(e,{...t,options:s,required:u})},[m,s,u])}),N=E||g,P=(0,c.useMemo)(()=>oL(r),[r]);return(0,h.jsxs)("div",{className:[oF,pv,a,`${pv}--layout-${l}`,k&&"error",(p||S)&&`${pv}--read-only`].filter(Boolean).join(" "),style:P,children:[(0,h.jsx)(rY,{CustomComponent:w,Fallback:(0,h.jsx)(nU,{path:$,showError:k})}),(0,h.jsx)(rY,{CustomComponent:C,Fallback:(0,h.jsx)(iN,{label:i,localized:o,path:$,required:u})}),(0,h.jsxs)("div",{className:`${oF}__wrap`,children:[y,(0,h.jsx)("ul",{className:`${pv}--group`,id:`field-${$.replace(/\./g,"__")}`,children:s.map(e=>{let r="",a=String(r=j(e)?e.value:e)===String(N),n=`field-${$}-${r}${b?`-${b}`:""}`;return(0,h.jsx)("li",{children:(0,h.jsx)(pb,{id:n,isSelected:a,onChange:()=>{"function"==typeof d&&d(r),p||S||_(r,!!t)},option:j(e)?e:{label:e,value:e},path:$,readOnly:p||S,uuid:b})},`${$} - ${r}`)})}),v,(0,h.jsx)(rY,{CustomComponent:x,Fallback:(0,h.jsx)(nz,{description:n,path:$})})]})]})}),px="relationship-add-new",pw=e=>{let t,r,a,n,l,i,o=(0,v.c)(47),{Button:s,hasMany:u,onChange:d,path:p,relationTo:g,unstyled:b,value:y}=e,x=fg(g),{permissions:w}=ig(),[j,C]=(0,c.useState)(!1),[S,$]=(0,c.useState)(),_=x.length>1,k;o[0]!==x[0]||o[1]!==_?(k=()=>_?void 0:x[0],o[0]=x[0],o[1]=_,o[2]=k):k=o[2];let[E,N]=(0,c.useState)(k),[P,D]=(0,c.useState)(!1),{i18n:T,t:O}=(0,f.d)(),[R,A]=(0,c.useState)(!1),I=E?.slug,M;o[3]!==I?(M={collectionSlug:I},o[3]=I,o[4]=M):M=o[4];let[L,F,B]=fI(M),{isDrawerOpen:z,toggleDrawer:U}=B,V;o[5]!==E||o[6]!==u||o[7]!==d||o[8]!==x[0]||o[9]!==y?(V=e=>{let{doc:t,operation:r}=e,a="object"==typeof E?.versions?.drafts&&E.versions.drafts.autosave;("create"===r||"update"===r&&a)&&(y&&(Array.isArray(y)?y.some(e=>e&&e.value===t.id):y.value===t.id)||d(!0===u?[...Array.isArray(y)?y:[],{relationTo:E?.slug,value:t.id}]:{relationTo:x[0].slug,value:t.id}),$(void 0))},o[5]=E,o[6]=u,o[7]=d,o[8]=x[0],o[9]=y,o[10]=V):V=o[10];let H=V,q;o[11]===Symbol.for("react.memo_cache_sentinel")?(q=e=>{D(e)},o[11]=q):q=o[11];let K=q,W,G;o[12]!==w||o[13]!==x?(W=()=>{w&&(1===x.length?C(w.collections[x[0]?.slug]?.create):C(x.some(e=>w.collections[e?.slug]?.create)))},G=[w,x],o[12]=w,o[13]=x,o[14]=W,o[15]=G):(W=o[14],G=o[15]),(0,c.useEffect)(W,G),o[16]!==x||o[17]!==_||o[18]!==S?(r=()=>{_&&S&&N(x.find(e=>e?.slug===S))},t=[S,_,x],o[16]=x,o[17]=_,o[18]=S,o[19]=t,o[20]=r):(t=o[19],r=o[20]),(0,c.useEffect)(r,t),o[21]!==E||o[22]!==_||o[23]!==U?(a=()=>{_&&E&&(U(),$(void 0))},n=[U,_,E],o[21]=E,o[22]=_,o[23]=U,o[24]=a,o[25]=n):(a=o[24],n=o[25]),(0,c.useEffect)(a,n),o[26]!==z||o[27]!==_?(l=()=>{_&&!z&&N(void 0)},i=[z,_],o[26]=z,o[27]=_,o[28]=l,o[29]=i):(l=o[28],i=o[29]),(0,c.useEffect)(l,i);let Y=x[0]?.labels.singular,X,Q;if(o[30]!==s||o[31]!==L||o[32]!==F||o[33]!==E||o[34]!==T||o[35]!==H||o[36]!==p||o[37]!==w||o[38]!==P||o[39]!==x||o[40]!==j||o[41]!==R||o[42]!==O||o[43]!==Y||o[44]!==b){Q=Symbol.for("react.early_return_sentinel");e:{let e=O("fields:addNewLabel",{label:m(Y,T)});if(!j){Q=null;break e}X=(0,h.jsxs)("div",{className:px,id:`${p}-add-new`,children:[1===x.length&&(0,h.jsxs)(c.Fragment,{children:[(0,h.jsx)(F,{className:[`${px}__add-button`,b&&`${px}__add-button--unstyled`].filter(Boolean).join(" "),onClick:()=>{A(!1)},onMouseEnter:()=>A(!0),onMouseLeave:()=>A(!1),children:s||(0,h.jsxs)(c.Fragment,{children:[(0,h.jsx)(ne,{className:`${px}__tooltip`,show:R,children:e}),(0,h.jsx)(aH,{})]})}),(0,h.jsx)(L,{onSave:H})]}),x.length>1&&(0,h.jsxs)(c.Fragment,{children:[(0,h.jsx)(a7,{button:s||(0,h.jsx)(na,{buttonStyle:"none",className:`${px}__add-button`,tooltip:P?void 0:O("fields:addNew"),children:(0,h.jsx)(aH,{})}),buttonType:"custom",horizontalAlign:"center",onToggleOpen:K,render:e=>{let{close:t}=e;return(0,h.jsx)(aX,{children:x.map(e=>w.collections[e?.slug].create?(0,h.jsx)(aQ,{className:`${px}__relation-button--${e?.slug}`,onClick:()=>{t(),$(e?.slug)},children:m(e?.labels?.singular,T)},e?.slug):null)})},size:"medium"}),E&&w.collections[E?.slug]?.create&&(0,h.jsx)(L,{onSave:H})]})]})}o[30]=s,o[31]=L,o[32]=F,o[33]=E,o[34]=T,o[35]=H,o[36]=p,o[37]=w,o[38]=P,o[39]=x,o[40]=j,o[41]=R,o[42]=O,o[43]=Y,o[44]=b,o[45]=X,o[46]=Q}else X=o[45],Q=o[46];return Q!==Symbol.for("react.early_return_sentinel")?Q:X},pj=({allowCreate:e=!0,collectionSlugs:t,disableQueryPresets:r,drawerSlug:a,enableRowSelections:n,filterOptions:l,onBulkSelect:i,onSelect:o,overrideEntityVisibility:s=!0,selectedCollection:u})=>{let{closeModal:f,isModalOpen:p}=le(),{serverFunction:m}=fs(),[g,b]=(0,c.useState)(void 0),[v,y]=(0,c.useState)(!0),{config:{collections:x},getEntityConfig:w}=(0,d.b)(),j=p(a),C=x.filter(({slug:e})=>t.includes(e)),[S,$]=(0,c.useState)(()=>{let e=w({collectionSlug:u||C[0]?.slug});return e?{label:e.labels,value:e.slug}:void 0}),[_,k,{drawerSlug:E}]=fI({collectionSlug:S.value}),N=id(e=>{e&&e!==S?.value&&$({label:w({collectionSlug:e})?.labels,value:e})});(0,c.useEffect)(()=>{N(u)},[u]);let P=(0,c.useCallback)(async({slug:t,query:i})=>{try{let o={...i||{},where:{...i?.where||{}}},c=l?.[t];if(l&&"boolean"!=typeof c&&(o.where=t5(o.where,c)),t){let l=await m({name:"render-list",args:{allowCreate:e,collectionSlug:t,disableBulkDelete:!0,disableBulkEdit:!0,disableQueryPresets:r,drawerSlug:a,enableRowSelections:n,overrideEntityVisibility:s,query:o}});b(l?.List||null)}else b(null);y(!1)}catch(e){console.error("Error rendering List View: ",e),j&&f(a)}},[m,f,e,a,j,n,l,s,r]);(0,c.useEffect)(()=>{g||P({slug:S?.value})},[P,g,S.value]);let D=(0,c.useCallback)(({doc:e})=>{"function"==typeof o&&o({collectionSlug:S?.value,doc:e,docID:e.id}),f(E),f(a)},[f,E,a,o,S.value]),T=(0,c.useCallback)(e=>{P({slug:S?.value,query:e})},[P,S.value]),O=(0,c.useCallback)(e=>{$(e),P({slug:e?.value})},[P]),R=(0,c.useCallback)(async e=>{e&&$({label:w({collectionSlug:e})?.labels,value:e}),await P({slug:S.value||e})},[w,P,S.value]);return v?(0,h.jsx)(fS,{}):(0,h.jsxs)(d7,{allowCreate:e,createNewDrawerSlug:E,DocumentDrawerToggler:k,drawerSlug:a,enabledCollections:t,onBulkSelect:i,onQueryChange:T,onSelect:o,refresh:R,selectedOption:S,setSelectedOption:O,children:[g,(0,h.jsx)(_,{onSave:D})]})},pC="list-drawer",pS=({children:e,className:t,disabled:r,drawerSlug:a,onClick:n,...l})=>(0,h.jsx)(it,{className:[t,`${pC}__toggler`].filter(Boolean).join(" "),disabled:r,onClick:n,slug:a,...l,children:e}),p$=e=>{let{drawerSlug:t}=e;return(0,h.jsx)(ir,{className:pC,gutter:!1,Header:null,slug:t,children:(0,h.jsx)(pj,{...e})})},p_=e=>{let t,r,a,n=(0,v.c)(42),{collectionSlugs:l,filterOptions:i,selectedCollection:o,uploads:s}=e,{config:u}=(0,d.b)(),{collections:f}=u,p=nq(),m=(0,c.useId)(),{closeModal:g,modalState:b,openModal:y,toggleModal:x}=le(),[w,j]=(0,c.useState)(!1),[C,S]=(0,c.useState)(l),$;n[0]!==p||n[1]!==m?($=(({depth:e,uuid:t})=>`list-drawer_${e}_${t}`)({depth:p,uuid:m}),n[0]=p,n[1]=m,n[2]=$):$=n[2];let _=$,k,E;n[3]!==_||n[4]!==b?(k=()=>{j(!!b[_]?.isOpen)},E=[b,_],n[3]=_,n[4]=b,n[5]=k,n[6]=E):(k=n[5],E=n[6]),(0,c.useEffect)(k,E),n[7]!==C||n[8]!==f||n[9]!==s?(t=()=>{C&&0!==C.length||S(f.filter(e=>{let{upload:t}=e;return!s||!!t}).map(pk))},r=[C,s,f],n[7]=C,n[8]=f,n[9]=s,n[10]=t,n[11]=r):(t=n[10],r=n[11]),(0,c.useEffect)(t,r),n[12]!==_||n[13]!==x?(a=()=>{x(_)},n[12]=_,n[13]=x,n[14]=a):a=n[14];let N=a,P;n[15]!==g||n[16]!==_?(P=()=>{g(_)},n[15]=g,n[16]=_,n[17]=P):P=n[17];let D=P,T;n[18]!==_||n[19]!==y?(T=()=>{y(_)},n[18]=_,n[19]=y,n[20]=T):T=n[20];let O=T,R;n[21]!==D||n[22]!==C||n[23]!==_||n[24]!==i||n[25]!==o||n[26]!==s?(R=e=>(0,c.createElement)(p$,{...e,closeDrawer:D,collectionSlugs:C,drawerSlug:_,filterOptions:i,key:_,selectedCollection:o,uploads:s}),n[21]=D,n[22]=C,n[23]=_,n[24]=i,n[25]=o,n[26]=s,n[27]=R):R=n[27];let A=R,I;n[28]!==_?(I=e=>(0,h.jsx)(pS,{...e,drawerSlug:_}),n[28]=_,n[29]=I):I=n[29];let M=I,L;n[30]!==D||n[31]!==C||n[32]!==p||n[33]!==_||n[34]!==w||n[35]!==O||n[36]!==N?(L={closeDrawer:D,collectionSlugs:C,drawerDepth:p,drawerSlug:_,isDrawerOpen:w,openDrawer:O,setCollectionSlugs:S,toggleDrawer:N},n[30]=D,n[31]=C,n[32]=p,n[33]=_,n[34]=w,n[35]=O,n[36]=N,n[37]=L):L=n[37];let F=L,B;return n[38]!==A||n[39]!==F||n[40]!==M?(B=[A,M,F],n[38]=A,n[39]=F,n[40]=M,n[41]=B):B=n[41],B};function pk(e){let{slug:t}=e;return t}var pE=(e,t)=>{let r=(0,v.c)(3),a=(0,c.useRef)(void 0),n;return r[0]!==e||r[1]!==t?(n=(...r)=>{clearTimeout(a.current),a.current=setTimeout(()=>{clearTimeout(a.current),e(...r)},t)},r[0]=e,r[1]=t,r[2]=n):n=r[2],n};function pN(){let e=(0,c.useRef)([]),t=(0,c.useRef)(!1);return{queueTask:(0,c.useCallback)((r,a)=>{e.current.push(r),async function(){if(!t.current&&("function"!=typeof a?.beforeProcess||!1!==a.beforeProcess()))for(;e.current.length>0;){let r=e.current.pop();e.current=[],t.current=!0;try{await r()}catch(e){console.error("Error in queued function:",e)}finally{t.current=!1,"function"==typeof a?.afterProcess&&a.afterProcess()}}}()},[])}}var pP=e=>{for(let t in e){let r=e[t];if(("and"===t.toLowerCase()||"or"===t.toLowerCase())&&Array.isArray(r))for(let e of r)pP(e);else r&&"object"==typeof r&&"in"in r&&Array.isArray(r.in)&&0===r.in.length&&(e[t]={exists:!1})}return e},pD=({hasMany:e,relationTo:t,value:r})=>{let a=t.reduce((e,t)=>({...e,[t]:[]}),{});if(null===r)return a;if(r){let t=(e,t)=>{("string"==typeof t||"number"==typeof t)&&"string"==typeof e&&(a[e]?a[e].push(t):a[e]=[t])};!0===e?r.forEach(e=>{e&&t(e.relationTo,e.value)}):t(r.relationTo,r.value)}return a},pT=e=>e.reduce((e,t)=>t.options?[...e,...pT(t.options)]:[...e,{id:t.value,relationTo:t.relationTo}],[]),pO=e=>e.sort((e,t)=>"function"==typeof e?.label?.localeCompare&&"function"==typeof t?.label?.localeCompare?e.label.localeCompare(t.label):0),pR=(e,t)=>{switch(t.type){case"ADD":{let{collection:r,config:a,docs:n,i18n:l,ids:i=[],sort:o}=t,s=r.slug,c=pT(e),u=[...e],d=u.find(e=>e.label===r.labels.plural),f=n.reduce((e,t)=>0===c.filter(e=>e.id===t.id&&e.relationTo===s).length?(c.push({id:t.id,relationTo:s}),[...e,{label:og({collectionConfig:r,data:t,dateFormat:a.admin.dateFormat,fallback:`${l.t("general:untitled")} - ID: ${t.id}`,i18n:l}),relationTo:s,value:t.id}]):e,[]);if(i.forEach(e=>{0===c.filter(t=>t.id===e&&t.relationTo===s).length&&(c.push({id:e,relationTo:s}),f.push({allowEdit:!1,label:`${l.t("general:untitled")} - ID: ${e}`,relationTo:s,value:e}))}),d){let e=[...d.options,...f];d.options=o?pO(e):e}else u.push({label:m(r.labels.plural,l),options:o?pO(f):f});return u}case"CLEAR":{let r=t.exemptValues?Array.isArray(t.exemptValues)?t.exemptValues:[t.exemptValues]:[];return e.filter(e=>{let t=e.options.filter(e=>!!r&&r.some(t=>t&&e.value===t.value));return e.options=t,t.length>0})}case"REMOVE":{let{id:r,collection:a}=t,n=[...e],l=n.findIndex(e=>e.label===a.labels.plural);return -1===l||(n[l]={...n[l],options:n[l].options.filter(e=>e.value!==r)}),n}case"UPDATE":{let{collection:r,config:a,doc:n,i18n:l}=t,i=r.slug,o=[...e],s=og({collectionConfig:r,data:n,dateFormat:a.admin.dateFormat,fallback:`${l.t("general:untitled")} - ID: ${n.id}`,i18n:l}),c=o.find(e=>e.label===r.labels.plural)?.options?.find(e=>e.value===n.id);return c&&(c.label=s,c.relationTo=i),o}default:return e}},pA="relationship--multi-value-label",pI=e=>{let{data:t,selectProps:r}=e,{allowEdit:a,label:n,relationTo:l,value:i}=t,{customProps:o}=void 0===r?{}:r,{draggableProps:s,onDocumentOpen:u}=void 0===o?{}:o,{permissions:d}=ig(),[p,m]=(0,c.useState)(!1),{t:g}=(0,f.d)(),b=!!d?.collections?.[l]?.read;return(0,h.jsxs)("div",{className:pA,children:[(0,h.jsx)("div",{className:`${pA}__content`,children:(0,h.jsx)(u_.MultiValueLabel,{...e,innerProps:{className:`${pA}__text`,...s||{}}})}),l&&b&&!1!==a&&(0,h.jsx)(c.Fragment,{children:(0,h.jsxs)("button",{"aria-label":`Edit ${n}`,className:`${pA}__drawer-toggler`,onClick:e=>{m(!1),u({id:i,collectionSlug:l,hasReadPermission:b,openInNewTab:e.metaKey||e.ctrlKey})},onKeyDown:pM,onMouseDown:pL,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),onTouchEnd:pF,type:"button",children:[(0,h.jsx)(ne,{className:`${pA}__tooltip`,show:p,children:g("general:editLabel",{label:""})}),(0,h.jsx)(aU,{className:`${pA}__icon`})]})})]})};function pM(e){"Enter"===e.key&&e.stopPropagation()}function pL(e){return e.stopPropagation()}function pF(e){return e.stopPropagation()}var pB="relationship--single-value",pz=e=>{let t=(0,v.c)(15),{children:r,data:a,selectProps:n}=e,{allowEdit:l,label:i,relationTo:o,value:s}=a,u;t[0]!==n?(u=void 0===n?{}:n,t[0]=n,t[1]=u):u=t[1];let{customProps:d}=u,p;t[2]!==d?(p=void 0===d?{}:d,t[2]=d,t[3]=p):p=t[3];let{onDocumentOpen:m}=p,[g,b]=(0,c.useState)(!1),{t:y}=(0,f.d)(),{permissions:x}=ig(),w=!!x?.collections?.[o]?.read,j;return t[4]!==l||t[5]!==r||t[6]!==w||t[7]!==i||t[8]!==m||t[9]!==e||t[10]!==o||t[11]!==g||t[12]!==y||t[13]!==s?(j=(0,h.jsx)(u_.SingleValue,{...e,className:pB,children:(0,h.jsx)("div",{className:`${pB}__label`,children:(0,h.jsxs)("div",{className:`${pB}__label-text`,children:[(0,h.jsx)("div",{className:`${pB}__text`,children:r}),o&&w&&!1!==l&&(0,h.jsx)(c.Fragment,{children:(0,h.jsxs)("button",{"aria-label":y("general:editLabel",{label:i}),className:`${pB}__drawer-toggler`,onClick:e=>{b(!1),m({id:s,collectionSlug:o,hasReadPermission:w,openInNewTab:e.metaKey||e.ctrlKey})},onKeyDown:pU,onMouseDown:pV,onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),onTouchEnd:pH,type:"button",children:[(0,h.jsx)(ne,{className:`${pB}__tooltip`,show:g,children:y("general:edit")}),(0,h.jsx)(aU,{})]})})]})})}),t[4]=l,t[5]=r,t[6]=w,t[7]=i,t[8]=m,t[9]=e,t[10]=o,t[11]=g,t[12]=y,t[13]=s,t[14]=j):j=t[14],j};function pU(e){"Enter"===e.key&&e.stopPropagation()}function pV(e){return e.stopPropagation()}function pH(e){return e.stopPropagation()}var pq="relationship",pK=e=>{let{AfterInput:t,allowCreate:r=!0,allowEdit:a=!0,appearance:n="select",BeforeInput:l,className:i,description:o,Description:s,Error:u,filterOptions:p,formatDisplayedOptions:m,hasMany:g,initialValue:b,isSortable:v=!0,label:y,Label:x,localized:w,maxResultsPerRequest:j=10,onChange:C,path:S,placeholder:$,readOnly:_,relationTo:k,required:E,showError:N,sortOptions:P,style:D,value:T}=e,{config:O,getEntityConfig:R}=(0,d.b)(),{routes:{api:A},serverURL:I}=O,{i18n:M,t:L}=(0,f.d)(),{permissions:F}=ig(),{code:B}=i_(),[z,U]=(0,c.useState)({id:void 0,collectionSlug:void 0,hasReadPermission:!1}),[V,H]=(0,c.useState)(-1),[q,K]=(0,c.useState)({}),[W,G]=(0,c.useState)(""),[Y,X]=(0,c.useState)(""),[Q,J]=(0,c.useState)(!1),[Z,ee]=(0,c.useState)(!1),[et,er]=(0,c.useState)(!1),ea=(0,c.useRef)(!1),{queueTask:en}=pN(),[el,ei]=(0,c.useReducer)(pR,[]),eo=(0,c.useRef)(T),[es,,{isDrawerOpen:ec,openDrawer:eu}]=fI({id:z.id,collectionSlug:z.collectionSlug}),ed=(0,c.useMemo)(()=>{let e=p;if(T){let t=(!1===g?[T]:T).reduce((e,t)=>(e[t.relationTo]||(e[t.relationTo]=[]),e[t.relationTo].push(t.value),e),{});(Array.isArray(k)?k:[k]).forEach(r=>{e={...e||{},[r]:{..."object"==typeof p?.[r]?p[r]:{},...t[r]?{id:{not_in:t[r]}}:{}}}})}return e},[p,T,g,k]),[ef,,{closeDrawer:ep,isDrawerOpen:eh,openDrawer:em}]=p_({collectionSlugs:k,filterOptions:ed}),eg=(0,c.useCallback)(({collectionSlug:e,doc:t})=>{g?C([...Array.isArray(T)?T:[],{relationTo:e,value:t.id}]):!1===g&&C({relationTo:e,value:t.id}),ep()},[g,C,ep,T]),eb=(0,c.useRef)(!1),ev=(0,c.useCallback)(({filterOptions:e,hasMany:t,lastFullyLoadedRelation:r,lastLoadedPage:a,onSuccess:n,search:l,sort:i,value:o})=>{F&&en(async()=>{let s="u">typeof r?r:-1,c=Array.isArray(k)?k:[k],u=-1===s?c:c.slice(s+1),d=0,f=pD(!0===t?{hasMany:!0,relationTo:k,value:o}:{hasMany:!1,relationTo:k,value:o});W||(await u.reduce(async(t,r)=>{let n=e?.[r],o;if(o=Y!==l?1:a[r]+1,await t,!1===n)return H(c.indexOf(r)),Promise.resolve();if(d<10){let e=R({collectionSlug:r}),t=e?.admin?.useAsTitle||"id",a=e?.defaultSort||"id";"string"==typeof P?a=P:P?.[r]&&(a=P[r]);let s={depth:0,draft:!0,limit:j,locale:B,page:o,select:{[t]:!0},sort:a,where:{and:[{id:{not_in:f[r]}}]}};l&&s.where.and.push({[t]:{like:l}}),n&&"boolean"!=typeof n&&s.where.and.push(n),pP(s.where);let u=await fetch(`${I}${A}/${r}`,{body:tZ(s),credentials:"include",headers:{"Accept-Language":M.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"},method:"POST"});if(u.ok){let t=await u.json();K(e=>({...e,[r]:o})),t.nextPage||H(c.indexOf(r)),t.docs.length>0&&(d+=t.docs.length,ei({type:"ADD",collection:e,config:O,docs:t.docs,i18n:M,sort:i}))}else 403===u.status?(H(c.indexOf(r)),ei({type:"ADD",collection:e,config:O,docs:[],i18n:M,ids:f[r],sort:i})):G(L("error:unspecific"))}},Promise.resolve()),"function"==typeof n&&n())})},[F,en,k,W,Y,R,P,j,B,I,A,M,O,L]),ey=pE(({hasMany:e,search:t,value:r})=>{ek({filterOptions:p,lastLoadedPage:{},onSuccess:()=>{J(!1)},search:t,sort:!0,hasMany:e,value:r}),X(t)},300),ex=(0,c.useCallback)(e=>{Y!==e.search&&(J(!0),K({}),ey(e))},[Y,ey]),ew=id(({hasMany:e,value:t})=>{Object.entries(pD({hasMany:e,relationTo:k,value:t})).reduce(async(e,[t,r])=>{await e;let a=r.filter(e=>!el.find(r=>r?.options?.find(r=>r.value===e&&r.relationTo===t)));if(a.length>0){let e=R({collectionSlug:t}),r=e?.admin?.useAsTitle||"id",n={depth:0,draft:!0,limit:a.length,locale:B,select:{[r]:!0},where:{id:{in:a}}};if(!W){let r=await fetch(`${I}${A}/${t}`,{body:tZ(n),credentials:"include",headers:{"Accept-Language":M.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"},method:"POST"}),l=[];r.ok&&(l=(await r.json()).docs),ei({type:"ADD",collection:e,config:O,docs:l,i18n:M,ids:a,sort:!0})}}},Promise.resolve())}),ej=(0,c.useCallback)(e=>{ei({type:"UPDATE",collection:e.collectionConfig,config:O,doc:e.doc,i18n:M});let t=e.doc.id;g?C((T?Array.isArray(T)?T:[T]:[]).map(r=>({relationTo:r.value===t?e.collectionConfig.slug:r.relationTo,value:r.value}))):!1===g&&C({relationTo:e.collectionConfig.slug,value:t})},[M,O,g,C,T]),eC=(0,c.useCallback)(e=>{ei({type:"ADD",collection:e.collectionConfig,config:O,docs:[e.doc],i18n:M,sort:!0}),g?C(T?T.concat({relationTo:e.collectionConfig.slug,value:e.doc.id}):null):!1===g&&C({relationTo:e.collectionConfig.slug,value:e.doc.id})},[M,O,g,C,T]),eS=(0,c.useCallback)(e=>{ei({id:e.id,type:"REMOVE",collection:e.collectionConfig,config:O,i18n:M}),C(g&&T?T.filter(t=>t.value!==e.id):null)},[M,O,g,C,T]),e$=(0,c.useCallback)((e,t)=>{let r;if(!t)return!0;let a=RegExp((r=(t||"").split(" ")).reduce((e,t,a)=>{let n=t.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&");return`${e}(?=.*(?:(?:[^\\p{L}\\p{N}])|^).*${n}.*(?=[^\\p{L}\\p{N}]|$))${a+1===r.length?".+":""}`},""),"i"),n=String(e.label);for(;n.length>250;){let e=n.indexOf(" ",t.length);if(a.test(n.slice(0,-1===e?t.length:e+1)))return!0;n=n.slice(-1===e?t.length:e+1)}return a.test(n.slice(-250))},[]),e_=(0,c.useCallback)(({id:e,collectionSlug:t,hasReadPermission:r,openInNewTab:a})=>{if(a){if(r&&e&&t){let r=tE({adminRoute:O.routes.admin,path:`/collections/${t}/${e}`});window.open(r,"_blank")}}else eb.current=!0,U({id:e,collectionSlug:t,hasReadPermission:r})},[O.routes.admin]),ek=id(e=>ev(e));(0,c.useEffect)(()=>{ea.current&&et&&(J(!0),ek({filterOptions:p,lastLoadedPage:{},onSuccess:()=>{ea.current=!0,J(!1)},...{hasMany:g,value:eo.current}})),ei({type:"CLEAR",exemptValues:eo.current}),H(-1),K({})},[k,p,B,S,et,g]);let eE=(0,c.useRef)(T),eN=(0,c.useRef)(!0);(0,c.useEffect)(()=>{(eN.current||!(0,t0.dequal)(T,eE.current))&&ew({hasMany:g,value:T}),eN.current=!1,eE.current=T},[T,g]),(0,c.useEffect)(()=>{ee(!(Array.isArray(k)?k:[k]).reduce((e,t)=>"id"===(R({collectionSlug:t})?.admin?.useAsTitle||"id")&&e,!0))},[k,R]),(0,c.useEffect)(()=>{eb.current&&(eu(),eb.current=!1)},[eu,z]),(0,c.useEffect)(()=>{eo.current=T},[T]);let eP=(({allowEdit:e,options:t,value:r})=>{if(r||"number"==typeof r){let a;return Array.isArray(r)?r.map(r=>{let a;return t.forEach(e=>{a||(a=e.options.find(e=>e.value===r.value&&e.relationTo===r.relationTo))}),a?{allowEdit:e,...a}:void 0}):(t.forEach(e=>{a||(a=e.options.find(e=>e.value===r.value&&e.relationTo===r.relationTo))}),a?{allowEdit:e,...a}:void 0)}})({allowEdit:a,options:el,value:T});return Array.isArray(eP)||eP?.value!=="null"||(eP.value=null),(0,h.jsxs)("div",{className:[oF,pq,i,N&&"error",W&&"error-loading",_&&`${pq}--read-only`,!_&&r&&`${pq}--allow-create`].filter(Boolean).join(" "),id:`field-${S.replace(/\./g,"__")}`,style:D,children:[(0,h.jsx)(rY,{CustomComponent:x,Fallback:(0,h.jsx)(iN,{label:y,localized:w,path:S,required:E})}),(0,h.jsxs)("div",{className:`${oF}__wrap`,children:[(0,h.jsx)(rY,{CustomComponent:u,Fallback:(0,h.jsx)(nU,{path:S,showError:N})}),l,W?(0,h.jsx)("div",{className:`${pq}__error-loading`,children:W}):(0,h.jsxs)("div",{className:`${pq}__wrap`,children:[(0,h.jsx)(dK,{backspaceRemovesValue:!(ec||eh),components:{MultiValueLabel:pI,SingleValue:pz,..."select"!==n&&{DropdownIndicator:null}},customProps:{disableKeyDown:ec||eh,disableMouseDown:ec||eh,onDocumentOpen:e_,onSave:ej},disabled:_||ec||eh,filterOption:Z?e$:void 0,getOptionValue:e=>{if(e)return g&&Array.isArray(k)?`${e.relationTo}_${e.value}`:e.value},isLoading:"select"===n&&Q,isMulti:g,isSearchable:"select"===n,isSortable:v,menuIsOpen:"select"===n&&et,onChange:_?void 0:e=>{g?null===e?(eo.current=[],C([])):(eo.current=e,C(e)):!1===g&&(null===e?(eo.current=null,C(null)):(eo.current=e,C(e)))},onInputChange:e=>ex({search:e,hasMany:g,value:T}),onMenuClose:()=>{er(!1)},onMenuOpen:()=>{"drawer"===n?em():"select"===n&&(er(!0),ea.current||(J(!0),ek({filterOptions:p,lastLoadedPage:{},onSuccess:()=>{ea.current=!0,J(!1)},hasMany:g,value:T})))},onMenuScrollToBottom:()=>{J(!0),ek({filterOptions:p,lastFullyLoadedRelation:V,lastLoadedPage:q,onSuccess:()=>{J(!1)},search:Y,sort:!1,hasMany:g,value:b})},options:"function"==typeof m?m(el):el,placeholder:$,showError:N,value:eP??null}),!_&&r&&(0,h.jsx)(pw,{path:S,relationTo:k,hasMany:g,onChange:C,value:T})]}),t,(0,h.jsx)(rY,{CustomComponent:s,Fallback:(0,h.jsx)(nz,{description:o,path:S})})]}),z.collectionSlug&&z.hasReadPermission&&(0,h.jsx)(es,{onDelete:eS,onDuplicate:eC,onSave:ej}),"drawer"===n&&!_&&(0,h.jsx)(ef,{allowCreate:r,enableRowSelections:!1,onSelect:eg})]})},pW=oM(e=>{let{field:t,field:{admin:{allowCreate:r=!0,allowEdit:a=!0,appearance:n="select",className:l,description:i,isSortable:o=!0,placeholder:s,sortOptions:u}={},hasMany:d,label:f,localized:p,relationTo:m,required:g},path:b,readOnly:v,validate:y}=e,{customComponents:{AfterInput:x,BeforeInput:w,Description:j,Error:C,Label:S}={},disabled:$,filterOptions:_,initialValue:k,path:E,setValue:N,showError:P,value:D}=oR({potentiallyStalePath:b,validate:(0,c.useCallback)((e,t)=>{if("function"==typeof y)return y(e,{...t,required:g})},[y,g])}),T=(0,c.useMemo)(()=>oL(t),[t]),O=Array.isArray(m),[R]=c.default.useState(()=>Array.isArray(m)?m:[m]),A=(0,c.useCallback)(e=>{if(!e)return void N(null,e===D);let t=!1;t=O?Array.isArray(D)&&Array.isArray(e)&&D.length===e.length&&D.every((t,r)=>{let a=e[r];return t.value===a.value&&t.relationTo===a.relationTo}):Array.isArray(D)&&Array.isArray(e)&&D.length===e.length&&D.every((t,r)=>t===e[r].value),N(e.map(e=>O?e:e.value),t)},[O,N,D]),I=(0,c.useCallback)(e=>{if(!e)return void N(null,e===D);let t=!1;t=O?D&&e&&D.value===e.value&&D.relationTo===e.relationTo:D&&e&&D===e.value,N(O?e:e.value,t)},[O,N,D]),M=c.default.useMemo(()=>!0===d?Array.isArray(D)?D.map(e=>O?e:{relationTo:Array.isArray(R)?R[0]:R,value:e}):D:D&&(O?D:{relationTo:Array.isArray(R)?R[0]:R,value:D}),[d,D,O,R]),L=c.default.useMemo(()=>!0===d?Array.isArray(k)?k.map(e=>O?e:{relationTo:Array.isArray(R)?R[0]:R,value:e}):k:k&&(O?k:{relationTo:Array.isArray(R)?R[0]:R,value:k}),[k,O,R,d]);return(0,h.jsx)(pK,{AfterInput:x,allowCreate:r,allowEdit:a,appearance:n,BeforeInput:w,className:l,Description:j,description:i,Error:C,filterOptions:_,formatDisplayedOptions:O?void 0:e=>e.map(e=>e.options).flat(),isSortable:o,Label:S,label:f,localized:p,maxResultsPerRequest:10,maxRows:t?.maxRows,minRows:t?.minRows,path:E,placeholder:s,readOnly:v||$,relationTo:R,required:g,showError:P,sortOptions:u,style:T,...!0===d?{hasMany:!0,initialValue:L,onChange:A,value:M}:{hasMany:!1,initialValue:L,onChange:I,value:M}})}),pG=()=>null,pY=oM(e=>{let{field:{admin:{className:t,style:r}={},fields:a},forceRender:n=!1,indexPath:l="",parentPath:i="",parentSchemaPath:o="",permissions:s,readOnly:c}=e;return(0,h.jsx)(dZ,{children:(0,h.jsx)("div",{className:[oF,"row",t].filter(Boolean).join(" "),style:r||void 0,children:(0,h.jsx)(gO,{className:"row__fields",fields:a,forceRender:n,margins:!1,parentIndexPath:l,parentPath:i,parentSchemaPath:o,permissions:s,readOnly:c})})})}),pX=e=>{let t=(0,v.c)(37),{id:r,AfterInput:a,BeforeInput:n,className:l,Description:i,description:o,Error:s,filterOption:c,hasMany:u,isClearable:d,isSortable:p,label:g,Label:b,localized:y,onChange:x,onInputChange:w,options:j,path:C,placeholder:S,readOnly:$,required:_,showError:k,style:E,value:N}=e,P=void 0!==u&&u,D=void 0===d||d,T=void 0===p||p,{i18n:O}=(0,f.d)(),R;if(t[0]!==a||t[1]!==n||t[2]!==i||t[3]!==s||t[4]!==b||t[5]!==l||t[6]!==o||t[7]!==c||t[8]!==P||t[9]!==O||t[10]!==r||t[11]!==D||t[12]!==T||t[13]!==g||t[14]!==y||t[15]!==x||t[16]!==w||t[17]!==j||t[18]!==C||t[19]!==S||t[20]!==$||t[21]!==_||t[22]!==k||t[23]!==E||t[24]!==N){let e,u;if(P&&Array.isArray(N)){let r;t[26]!==O||t[27]!==j?(r=e=>{let t=j.find(t=>t.value===e);return{label:t?m(t.label,O):e,value:t?.value??e}},t[26]=O,t[27]=j,t[28]=r):r=t[28],e=N.map(r)}else if(N){let r;t[29]!==N?(r=e=>e.value===N,t[29]=N,t[30]=r):r=t[30];let a=j.find(r);e={label:a?m(a.label,O):N,value:a?.value??N}}else e=null;let d=k&&"error",f=$&&"read-only",p;t[31]!==l||t[32]!==d||t[33]!==f?(p=[oF,"select",l,d,f].filter(Boolean),t[31]=l,t[32]=d,t[33]=f,t[34]=p):p=t[34],t[35]!==O?(u=e=>({...e,label:m(e.label,O)}),t[35]=O,t[36]=u):u=t[36],R=(0,h.jsxs)("div",{className:p.join(" "),id:`field-${C.replace(/\./g,"__")}`,style:E,children:[(0,h.jsx)(rY,{CustomComponent:b,Fallback:(0,h.jsx)(iN,{label:g,localized:y,path:C,required:_})}),(0,h.jsxs)("div",{className:`${oF}__wrap`,children:[(0,h.jsx)(rY,{CustomComponent:s,Fallback:(0,h.jsx)(nU,{path:C,showError:k})}),n,(0,h.jsx)(dK,{disabled:$,filterOption:c,id:r,isClearable:D,isMulti:P,isSortable:T,onChange:x,onInputChange:w,options:j.map(u),placeholder:S,showError:k,value:e}),a]}),(0,h.jsx)(rY,{CustomComponent:i,Fallback:(0,h.jsx)(nz,{description:o,path:C})})]}),t[0]=a,t[1]=n,t[2]=i,t[3]=s,t[4]=b,t[5]=l,t[6]=o,t[7]=c,t[8]=P,t[9]=O,t[10]=r,t[11]=D,t[12]=T,t[13]=g,t[14]=y,t[15]=x,t[16]=w,t[17]=j,t[18]=C,t[19]=S,t[20]=$,t[21]=_,t[22]=k,t[23]=E,t[24]=N,t[25]=R}else R=t[25];return R},pQ=e=>e.map(e=>"object"==typeof e&&(e.value||""===e.value)?e:{label:e,value:e}),pJ=oM(e=>{let{field:t,field:{name:r,admin:{className:a,description:n,isClearable:l=!0,isSortable:i=!0,placeholder:o}={},hasMany:s=!1,label:u,localized:d,options:f=[],required:p},onChange:m,path:g,readOnly:b,validate:v}=e,y=c.default.useMemo(()=>pQ(f),[f]),{customComponents:{AfterInput:x,BeforeInput:w,Description:j,Error:C,Label:S}={},disabled:$,path:_,selectFilterOptions:k,setValue:E,showError:N,value:P}=oR({potentiallyStalePath:g,validate:(0,c.useCallback)((e,t)=>{if("function"==typeof v)return v(e,{...t,hasMany:s,options:y,required:p})},[v,p,s,y])}),D=(0,c.useCallback)(e=>{if(!b||$){let t=null;e&&s?t=Array.isArray(e)?e.map(e=>e.value):[]:e&&!Array.isArray(e)&&(t=e.value),"function"==typeof m&&m(t),E(t)}},[b,$,s,E,m]),T=(0,c.useMemo)(()=>oL(t),[t]);return(0,h.jsx)(pX,{AfterInput:x,BeforeInput:w,className:a,Description:j,description:n,Error:C,filterOption:k?({label:e,value:t},r)=>k?.some(e=>("string"==typeof e?e:e.value)===t)&&e.toLowerCase().includes(r.toLowerCase()):void 0,hasMany:s,isClearable:l,isSortable:i,Label:S,label:u,localized:d,name:r,onChange:D,options:y,path:_,placeholder:o,readOnly:b||$,required:p,showError:N,style:T,value:P})}),pZ=(0,p.e)(rH(),1);function p0(e){let t=(0,v.c)(5),{errorMessage:r}=e,a;t[0]!==r?(a=()=>(function(e){let[t,r]=e.split(":");if(!r)return{message:t};let a=r.split(",").map(e=>e.replaceAll(" > ","  ").trim());return 1===a.length?{errors:a,message:`${t}: `}:{errors:function(e){let t=[];for(let r of e)if(r){let e=r.split("  "),a=!1;for(let n=0;n<t.length;n++)if(t[n].startsWith(e[0])){t.splice(n+1,0,r),a=!0;break}a||t.push(r)}return t}(a),message:`${t} (${a.length}):`}})(r),t[0]=r,t[1]=a):a=t[1];let[n]=c.default.useState(a),{errors:l,message:i}=n,o;return t[2]!==l||t[3]!==i?(o=(0,h.jsxs)("div",{children:[i,Array.isArray(l)&&l.length>0?1===l.length?(0,h.jsx)("span",{"data-testid":"field-error",children:l[0]}):(0,h.jsx)("ul",{"data-testid":"field-errors",children:l.map(p1)}):null]}),t[2]=l,t[3]=i,t[4]=o):o=t[4],o}function p1(e,t){return(0,h.jsx)("li",{children:e},t)}function p3(e,t,r){let a,n,l,i=(0,v.c)(11),o;i[0]!==e?(o=()=>e,i[0]=e,i[1]=o):o=i[1];let[s,u]=(0,c.useState)(o),d;i[2]!==r||i[3]!==e?(d=()=>{let t=setTimeout(()=>{u(()=>e)},r);return()=>{clearTimeout(t)}},i[2]=r,i[3]=e,i[4]=d):d=i[4],i[5]!==r||i[6]!==t?(a=[...t,r],i[5]=r,i[6]=t,i[7]=a):a=i[7],(0,c.useEffect)(d,a),i[8]!==s?(n=()=>{s()},l=[s],i[8]=s,i[9]=n,i[10]=l):(n=i[9],l=i[10]),(0,c.useEffect)(n,l)}var p2=c.default.createContext(null),p6=e=>{let t=(0,v.c)(6),{children:r}=e,[a,n]=(0,c.useState)(p4),l;t[0]!==a?(l=e=>{let{collectionSlug:t}=e;return a.get(t)},t[0]=a,t[1]=l):l=t[1];let i=l,o;t[2]===Symbol.for("react.memo_cache_sentinel")?(o=e=>{let{collectionSlug:t,handler:r}=e;n(e=>{let a=new Map(e);return a.set(t,r),a})},t[2]=o):o=t[2];let s=o,u;return t[3]!==r||t[4]!==i?(u=(0,h.jsx)(p2,{value:{getUploadHandler:i,setUploadHandler:s},children:r}),t[3]=r,t[4]=i,t[5]=u):u=t[5],u},p5=()=>{let e=c.default.use(p2);if(null===e)throw Error("useUploadHandlers must be used within UploadHandlersProvider");return e};function p4(){return new Map}var p8={413:"Your request was too large to submit successfully."},p9=(0,p.e)(rV(),1),p7=(e,t)=>{let r={},a=Object.entries(t).reduce((t,[a,n])=>{if(0===a.indexOf(`${e}.`)){let[r]=a.replace(`${e}.`,"").split(".");t[r]||(t[r]={}),t[r][a.replace(`${e}.${String(r)}.`,"")]={...n}}else r[a]=n;return t},[]);return{remainingFields:r,rows:a}},he=(e,t)=>t.reduce((t,r,a)=>({...t,...Object.entries(r).reduce((t,[r,n])=>({...t,[`${e}.${a}.${r}`]:{...n}}),{})}),{}),ht="default"in p9.default?p9.default.default:p9.default;function hr(e,t){switch(t.type){case"ADD_ROW":{let{blockType:r,path:a,rowIndex:n,subFieldState:l={}}=t,i="number"==typeof n?n:e[a]?.rows?.length||0,o=[...e[a]?.rows||[]],s={id:l?.id?.value||new ht().toHexString(),isLoading:!0};r&&(s.blockType=r),o.splice(i,0,s),r&&(l.blockType={initialValue:r,valid:!0,value:r});let{remainingFields:c,rows:u}=p7(a,e);return u.splice(i,0,l),{...c,...he(a,u),[`${a}.${i}.id`]:{initialValue:s.id,passesCondition:!0,valid:!0,value:s.id},[a]:{...e[a],disableFormData:!0,rows:o,value:u.length}}}case"ADD_SERVER_ERRORS":{let r={...e},a=[];return t.errors.forEach(({message:e,path:t})=>{r[t]={...r[t]||{initialValue:null,value:null},errorMessage:e,valid:!1};let n=t.split(".");n.length>1&&a.push({fieldErrorPath:t,parentPath:n.slice(0,n.length-1).join(".")})}),r=Object.entries(r).reduce((e,[t,r])=>{let n=a.reduce((e,{fieldErrorPath:r,parentPath:a})=>(a.startsWith(t)&&e.push(r),e),[]),l=!1;if(n.length>0){let a=Array.isArray(r.errorPaths)?r.errorPaths:[];n.forEach(e=>{a.includes(e)||(a.push(e),l=!0)}),l&&(e[t]={...r,errorPaths:a})}return l||(e[t]=r),e},{})}case"DUPLICATE_ROW":{let{path:r,rowIndex:a}=t,{remainingFields:n,rows:l}=p7(r,e),i=[...e[r].rows||[]],o=rg(i[a]),s=new ht().toHexString();o.id&&(o.id=s),i[a]?.customComponents?.RowLabel&&(o.customComponents={RowLabel:i[a].customComponents.RowLabel});let c=rg(l[a]);for(let e of(c.id&&(c.id.value=s,c.id.initialValue=s),Object.keys(c).filter(e=>e.endsWith(".id")))){let t=c[e],r=new ht().toHexString();if(t&&"string"==typeof t.value&&ht.isValid(t.value)){c[e].value=r,c[e].initialValue=r;let t=e.split("."),a=parseInt(t[t.length-2],10),n=t.slice(0,t.length-2).join("."),l=c?.[n]?.rows;c[n]&&Array.isArray(l)&&(l[a]?l[a].id=r:l[a]={id:r})}}return Object.keys(c).length>0&&(l.splice(a+1,0,c),i.splice(a+1,0,o)),{...n,...he(r,l),[r]:{...e[r],disableFormData:!0,rows:i,value:l.length}}}case"MERGE_SERVER_STATE":{let{acceptValues:r,prevStateRef:a,serverState:n}=t,l=(({acceptValues:e,currentState:t={},incomingState:r})=>{let a={...t};for(let[n,l]of Object.entries(r||{})){if(!(n in t)&&!l.addedByServer)continue;let r=l.addedByServer||!0===e||"object"==typeof e&&null!==e&&!1===e.overrideLocalChanges&&!t[n]?.isModified,i=l;if(!r){let{initialValue:e,value:t,...r}=l;i=r}a[n]={...t[n],...i},t[n]&&"errorPaths"in t[n]&&!("errorPaths"in l)&&(a[n].errorPaths=[]),Array.isArray(l.rows)&&n in t&&(a[n].rows=[...t[n]?.rows||[]],l.rows.forEach(e=>{let r=t[n].rows?.findIndex(t=>t.id===e.id);if(r>-1)a[n].rows[r]={...t[n].rows[r],...e};else if(e.addedByServer){let t={...e};delete t.addedByServer,a[n].rows.push(t)}})),!1!==l.valid&&(a[n].valid=!0),!1!==l.passesCondition&&(a[n].passesCondition=!0),l.blocksFilterOptions||delete a[n].blocksFilterOptions,delete a[n].addedByServer}return(0,t0.dequal)(a,t)?t:a})({acceptValues:r,currentState:e||{},incomingState:n});return a.current=l,l}case"MOVE_ROW":{let{moveFromIndex:r,moveToIndex:a,path:n}=t,{remainingFields:l,rows:i}=p7(n,e),o=i[r];i.splice(r,1),i.splice(a,0,o);let s=[...e[n]?.rows||[]],c={...s[r]};return s.splice(r,1),s.splice(a,0,c),{...l,...he(n,i),[n]:{...e[n],rows:s}}}case"REMOVE":{let r={...e};return r[t.path]&&delete r[t.path],r}case"REMOVE_ROW":{let{path:r,rowIndex:a}=t,{remainingFields:n,rows:l}=p7(r,e),i=[...e[r]?.rows||[]];return l.splice(a,1),i.splice(a,1),{...n,[r]:{...e[r],disableFormData:l.length>0,rows:i,value:l.length},...he(r,l)}}case"REPLACE_ROW":{let{blockType:r,path:a,rowIndex:n,subFieldState:l={}}=t,{remainingFields:i,rows:o}=p7(a,e),s=Math.max(0,Math.min(n,o?.length-1||0)),c=[...e[a]?.rows||[]];return c[s]={id:new ht().toHexString(),blockType:r||void 0,collapsed:!1},r&&(l.blockType={initialValue:r,valid:!0,value:r}),o[s]=l,{...i,...he(a,o),[a]:{...e[a],disableFormData:!0,rows:c,value:o.length}}}case"REPLACE_STATE":if(!1!==t.optimize){let r={};for(let[a,n]of Object.entries(t.state)){let t=e[a];!1!==n.valid&&(n.valid=!0),!1!==n.passesCondition&&(n.passesCondition=!0),(0,t0.dequal)(t,n)?t&&(r[a]=t):r[a]=n}return r}if(t.sanitize)for(let e of Object.values(t.state))!1!==e.valid&&(e.valid=!0),!1!==e.passesCondition&&(e.passesCondition=!0);return t.state;case"SET_ALL_ROWS_COLLAPSED":{let{path:r,updatedRows:a}=t;return{...e,[r]:{...e[r],rows:a}}}case"SET_ROW_COLLAPSED":{let{path:r,updatedRows:a}=t;return{...e,[r]:{...e[r],rows:a}}}case"UPDATE":{let r=Object.entries(t).reduce((e,[t,r])=>["disableFormData","errorMessage","initialValue","rows","valid","validate","value"].includes(t)?{...e,[t]:r,..."value"===t?{isModified:!0}:{}}:e,e?.[t.path]||{}),a={...e,[t.path]:r};if("value"in t)for(let[e,r]of Object.entries(a))e!==t.path&&"isModified"in r&&delete a[e].isModified;return a}case"UPDATE_MANY":{let r={...e};return Object.entries(t.formState).forEach(([e,t])=>{r[e]=t}),r}default:return e}}var ha={addFieldRow:()=>{},buildRowErrors:()=>{},createFormData:()=>{},disabled:!1,dispatchFields:()=>{},fields:{},formRef:null,getData:()=>{},getDataByPath:()=>{},getField:()=>{},getFields:()=>({}),getSiblingData:()=>{},initializing:void 0,isValid:!0,moveFieldRow:()=>{},removeFieldRow:()=>{},replaceFieldRow:()=>{},replaceState:()=>{},reset:()=>{},setBackgroundProcessing:()=>{},setDisabled:()=>{},setIsValid:()=>{},setModified:()=>{},setProcessing:()=>{},setSubmitted:()=>{},submit:()=>{},validateForm:()=>{}},hn=e=>{let{id:t,collectionSlug:r,docConfig:a,docPermissions:n,getDocPreferences:l,globalSlug:i}=o$(),o=!!a?.versions?.drafts&&"object"==typeof a?.versions?.drafts&&(a.versions.drafts.validate??!1),{action:s,beforeSubmit:u,children:p,className:m,disabled:g,disableSuccessStatus:v,disableValidationOnSubmit:y,el:x,handleResponse:w,initialState:j,isDocumentForm:C,isInitializing:S,onChange:$,onSubmit:_,onSuccess:k,redirect:E,submitted:N,uuid:P,waitForAutocomplete:D}=e,T="method"in e?e?.method:void 0,O=(0,b.useRouter)(),R=aa(),{code:A}=i_(),{i18n:I,t:M}=(0,f.d)(),{refreshCookie:L,user:F}=ig(),B=oP(),{queueTask:z}=pN(),{getFormState:U}=fs(),{startRouteTransition:V}=aR(),{getUploadHandler:H}=p5(),{config:q}=(0,d.b)(),[K,W]=(0,c.useState)(g||!1),[G,Y]=(0,c.useState)(!1),[X,Q]=(0,c.useState)(!1),[J,Z]=(0,c.useState)(!0),[ee,et]=(0,c.useState)(S),[er,ea]=(0,c.useState)(!1),[en,el]=(0,c.useState)(!1),[ei,eo]=(0,c.useState)(!1),es=(0,c.useRef)(null),ec=(0,c.useRef)({}),eu=(0,c.useRef)(null),ed=(0,c.useRef)(!0),ef=(0,c.useReducer)(hr,{},()=>j),[ep,eh]=ef;ec.current.fields=ep;let em=(0,c.useRef)(ep),eg=(0,c.useCallback)(async()=>{let e={},a=!0,n=ec.current.getData(),l=Object.entries(ec.current.fields).map(async([l,i])=>{let o=l?l.split("."):[];if(!1!==i.passesCondition){let e=i.valid;if("validate"in i&&"function"==typeof i.validate){let a=i.value;i?.rows&&Array.isArray(i.rows)&&(a=ec.current.getDataByPath(l)),"string"==typeof(e=await i.validate(a,{...i,id:t,collectionSlug:r,blockData:void 0,data:R?.getData?R.getData():n,event:"submit",operation:B,path:o,preferences:{},req:{payload:{config:q},t:M,user:F},siblingData:ec.current.getSiblingData(l)}))?(i.errorMessage=e,i.valid=!1):(i.valid=!0,i.errorMessage=void 0)}!1===i.valid&&(a=!1)}e[l]=i});return await Promise.all(l),(0,t0.dequal)(ec.current.fields,e)||eh({type:"REPLACE_STATE",state:e}),Z(a),a},[r,q,eh,t,B,M,F,R]),eb=(0,c.useCallback)(async(e,t)=>{let{acceptValues:r=!0,action:a=s,context:n,disableFormWhileProcessing:l=!0,disableSuccessStatus:i,method:c=T,overrides:d={},skipValidation:f}=e||{},p=i??v;if(K){t&&t.preventDefault();return}let m,g,b=new Promise((e,t)=>{g=e,m=t}),x=a||"string"==typeof s||"function"==typeof s;E||p||!x?(g=e=>a_.success(e),m=e=>a_.error(e)):a_.promise(b,{error:e=>e,loading:M("general:submitting"),success:e=>e}),t&&(t.stopPropagation(),t.preventDefault()),l&&(ea(!0),W(!0)),D&&await ry(100);let j=rv(ec.current.fields,!0),C=rg(ec.current.fields);if(Array.isArray(u)){let e;await u.reduce(async(t,r)=>{await t,e=await r({formState:C})},Promise.resolve());let t=Object.entries(e).every(([,e])=>!1!==e.valid);if(Z(t),!t)return ea(!1),eo(!0),W(!1),eh({type:"REPLACE_STATE",state:e})}let S=!!f||!!y||await ec.current.validateForm();if(Z(S),!S){m(M("error:correctInvalidFields")),ea(!1),eo(!0),W(!1);return}let $={};if("function"==typeof d?$=d(ec.current.fields):"object"==typeof d&&($=d),_){for(let[e,t]of Object.entries($))j[e]=t;_(ec.current.fields,j)}if(!x){ea(!1),eo(!0),W(!1);return}let N=await ec.current.createFormData($,{data:j,mergeOverrideData:"function"!=typeof d});try{let e;if("string"==typeof a?e=await ip[c.toLowerCase()](a,{body:N,headers:{"Accept-Language":I.language}}):"function"==typeof s&&(e=await s(N)),Q(!1),W(!1),"function"==typeof w)return void w(e,g,m);let t=e.headers.get("content-type"),l=t&&-1!==t.indexOf("application/json"),i={};if(l&&(i=await e.json()),e.status<400){if("function"==typeof k){let e=await k(i,{context:n,formState:C});e&&eh({type:"MERGE_SERVER_STATE",acceptValues:r,prevStateRef:em,serverState:e})}eo(!1),ea(!1),E?V(()=>O.push(E)):p||g(i.message||M("general:submissionSuccessful"))}else{if(ea(!1),eo(!0),o||"draft"!==d._status||eo(!1),ec.current={...ec.current},i.message)return void m(i.message);if(Array.isArray(i.errors)){let[e,t]=i.errors.reduce(([e,t],r)=>{let a=[],n=[];return r?.message&&n.push(r),Array.isArray(r?.data?.errors)&&r.data?.errors.forEach(e=>{e?.path?a.push(e):n.push(e)}),[[...e,...a],[...t,...n]]},[[],[]]);Z(!1),eh({type:"ADD_SERVER_ERRORS",errors:e}),t.forEach(e=>{m((0,h.jsx)(p0,{errorMessage:e.message||M("error:unknown")}))});return}let t=p8?.[e.status]||e?.statusText||M("error:unknown");m(t)}return{formState:ec.current.fields,res:e}}catch(e){console.error("Error submitting form",e),ea(!1),eo(!0),W(!1),m(e.message)}},[u,V,s,v,y,K,eh,w,T,_,k,E,O,M,I,D]),ev=(0,c.useCallback)(()=>ec.current.fields,[]),ey=(0,c.useCallback)(e=>ec.current.fields[e],[]),ex=(0,c.useCallback)(()=>rv(ec.current.fields,!0),[]),ew=(0,c.useCallback)(e=>((e,t)=>{let r;if(!e)return null;if(-1===t.indexOf("."))return rv(e,!0);let a={},n=t.split(".");return r=Number.isNaN(Number(n[n.length-1]))?t.substring(0,t.lastIndexOf(".")+1):`${t}.`,Object.keys(e).forEach(t=>{e[t]?.disableFormData||0!==t.indexOf(r)||(a[t.replace(r,"")]=e[t]?.value)}),rb(a)})(ec.current.fields,e),[]),ej=(0,c.useCallback)(e=>{var t;let r,a,n,l;return t=ec.current.fields,r=e.substring(0,e.lastIndexOf(".")+1),a=e.split(".").pop(),n={},Object.keys(t).forEach(a=>{!t[a]?.disableFormData&&(0===a.indexOf(`${e}.`)||a===e)&&(n[a.replace(r,"")]=t[a]?.value,t[a]?.rows&&0===t[a].rows.length&&(n[a.replace(r,"")]=[]))}),l=rb(n),l?.[a]},[]),eC=(0,c.useCallback)(async(e,{data:t,mergeOverrideData:n=!0})=>{let l=t||rv(ec.current.fields,!0),i=l?.file;if(a&&"upload"in a&&a.upload&&i){delete l.file;let e=H({collectionSlug:r});if("function"==typeof e){let t=i.name;i=JSON.stringify({clientUploadContext:await e({file:i,updateFilename:e=>{t=e}}),collectionSlug:r,filename:t,mimeType:i.type,size:i.size})}}let o={_payload:JSON.stringify(l=n?{...l,...e}:e)};return a&&"upload"in a&&a.upload&&i&&(o.file=i),(0,pZ.serialize)(o,{indices:!0,nullsAsUndefineds:!1})},[r,a,H]),eS=(0,c.useCallback)(async e=>{let a=fE(eu),o=await l(),{state:s}=await U({id:t,collectionSlug:r,data:e,docPermissions:n,docPreferences:o,globalSlug:i,locale:A,operation:B,renderAllFields:!0,schemaPath:r||i,signal:a.signal,skipValidation:!0});ec.current={...ha},Q(!1),eh({type:"REPLACE_STATE",state:s}),eu.current=null},[r,eh,i,t,B,U,n,l,A]),e$=(0,c.useCallback)(e=>{ec.current={...ha},Q(!1),eh({type:"REPLACE_STATE",state:e})},[eh]),e_=(0,c.useCallback)(({blockType:e,path:t,rowIndex:r,subFieldState:a})=>{let n=ej(t)||[];eh({type:"ADD_ROW",blockType:e,path:t,rowIndex:void 0===r?n.length:r,subFieldState:a}),Q(!0)},[eh,ej]),ek=(0,c.useCallback)(({moveFromIndex:e,moveToIndex:t,path:r})=>{eh({type:"MOVE_ROW",moveFromIndex:e,moveToIndex:t,path:r}),Q(!0)},[eh]),eE=(0,c.useCallback)(({path:e,rowIndex:t})=>{eh({type:"REMOVE_ROW",path:e,rowIndex:t}),Q(!0)},[eh]),eN=(0,c.useCallback)(({blockType:e,path:t,rowIndex:r,subFieldState:a})=>{let n=ej(t);eh({type:"REPLACE_ROW",blockType:e,path:t,rowIndex:void 0===r?n.length:r,subFieldState:a}),Q(!0)},[eh,ej]);(0,c.useEffect)(()=>{let e=eu.current;return()=>{fk(e)}},[]),(0,c.useEffect)(()=>{void 0!==S&&et(S)},[S]),ec.current.submit=eb,ec.current.getFields=ev,ec.current.getField=ey,ec.current.getData=ex,ec.current.getSiblingData=ew,ec.current.getDataByPath=ej,ec.current.validateForm=eg,ec.current.createFormData=eC,ec.current.setModified=Q,ec.current.setProcessing=ea,ec.current.setBackgroundProcessing=el,ec.current.setSubmitted=eo,ec.current.setIsValid=Z,ec.current.disabled=K,ec.current.setDisabled=W,ec.current.formRef=es,ec.current.reset=eS,ec.current.replaceState=e$,ec.current.dispatchFields=eh,ec.current.addFieldRow=e_,ec.current.removeFieldRow=eE,ec.current.moveFieldRow=ek,ec.current.replaceFieldRow=eN,ec.current.uuid=P,ec.current.initializing=ee,ec.current.isValid=J,(0,c.useEffect)(()=>{Y(!0)},[]),(0,c.useEffect)(()=>{"boolean"==typeof g&&W(g)},[g]),(0,c.useEffect)(()=>{"boolean"==typeof N&&eo(N)},[N]),(0,c.useEffect)(()=>{j&&(ec.current={...ha},eh({type:"REPLACE_STATE",optimize:!1,sanitize:!0,state:j}))},[j,eh]),iT(()=>{L()},15e3,[ep]),(0,c.useEffect)(()=>{ec.current={...ec.current},Q(!1)},[A]);let eP=[m,"form"].filter(Boolean).join(" "),eD=id(e=>{z(async()=>{if(Array.isArray($)){let t;for(let r of $)t=await r({formState:rg(ep),submitted:e});eh({type:"MERGE_SERVER_STATE",prevStateRef:em,serverState:t})}})});p3(()=>{(ed.current||!(0,t0.dequal)(ep,em.current))&&X&&eD(ei),em.current=ep,ed.current=!1},[X,ei,ep],250);let eT=C?r6:c.default.Fragment,eO=C?{value:ec.current}:{};return(0,h.jsx)(x||"form",{action:"function"==typeof s?void 0:s,className:eP,method:T,noValidate:!0,onSubmit:e=>void ec.current.submit({},e),ref:es,children:(0,h.jsx)(eT,{...eO,children:(0,h.jsx)(r2,{value:ec.current,children:(0,h.jsx)(r5,{value:{fields:ep,...ec.current},children:(0,h.jsx)(r4,{value:ei,children:(0,h.jsx)(ae,{value:!G||G&&ee,children:(0,h.jsx)(r8,{value:er,children:(0,h.jsx)(r9,{value:en,children:(0,h.jsx)(r7,{value:X,children:(0,h.jsx)(at.Provider,{value:ef,children:p})})})})})})})})})})},hl="tabs-field__tab-button",hi=e=>{let t=(0,v.c)(12),{hidden:r,isActive:a,parentPath:n,setIsActive:l,tab:i}=e,{i18n:o}=(0,f.d)(),[s,u]=(0,c.useState)(void 0),d;if(t[0]!==s||t[1]!==r||t[2]!==o||t[3]!==a||t[4]!==n||t[5]!==l||t[6]!==i){let e=[...n?n.split(".").slice(0,-1):[],...N(i)?[i.name]:[]],f=s>0,p=(0,h.jsx)(s_,{fields:i.fields,path:e,setErrorCount:u}),g=f&&`${hl}--has-error`,b=a&&`${hl}--active`,v=r&&`${hl}--hidden`,y;t[8]!==g||t[9]!==b||t[10]!==v?(y=[hl,g,b,v].filter(Boolean),t[8]=g,t[9]=b,t[10]=v,t[11]=y):y=t[11],d=(0,h.jsxs)(c.default.Fragment,{children:[p,(0,h.jsxs)("button",{className:y.join(" "),onClick:l,type:"button",children:[i.label?m(i.label,o):N(i)?i.name:"",f&&(0,h.jsx)(nF,{count:s,i18n:o})]})]}),t[0]=s,t[1]=r,t[2]=o,t[3]=a,t[4]=n,t[5]=l,t[6]=i,t[7]=d}else d=t[7];return d},ho="tabs-field";function hs({activeTabConfig:e,path:t}){let r=t;return N(e)&&e.name&&(r=t?`${t}.${e.name}`:e.name),r}var hc=oM(e=>{let t,r,a,n=(0,v.c)(59),{field:l,forceRender:i,indexPath:o,parentPath:s,parentSchemaPath:u,path:d,permissions:p,readOnly:m}=e,{admin:g,tabs:b}=l,y;n[0]!==g?(y=void 0===g?{}:g,n[0]=g,n[1]=y):y=n[1];let{className:x}=y,w;n[2]!==b?(w=void 0===b?[]:b,n[2]=b,n[3]=w):w=n[3];let j=w,C=void 0===o?"":o,S=void 0===s?"":s,$=void 0===u?"":u,_=void 0===d?"":d,{getPreference:k,setPreference:E}=ix(),{preferencesKey:P}=o$(),{i18n:D}=(0,f.d)(),{isWithinCollapsible:T}=o1(),O;n[4]!==j?(O=e=>{let[t]=e;return j.map((e,r)=>{let a=e?.id;return{index:r,passesCondition:t?.[a]?.passesCondition??!0,tab:e}})},n[4]=j,n[5]=O):O=n[5];let R=au(O),A;n[6]!==R?(A=()=>R.filter(hd)?.[0]?.index??0,n[6]=R,n[7]=A):A=n[7];let[I,M]=(0,c.useState)(A),L=`tabs-${C}`,F;n[8]!==I||n[9]!==S||n[10]!==j?(F=()=>hs({activeTabConfig:j[I],path:S}),n[8]=I,n[9]=S,n[10]=j,n[11]=F):F=n[11];let[B,z]=(0,c.useState)(F),U;n[12]!==$||n[13]!==j[0]?(U=()=>hs({activeTabConfig:j[0],path:$}),n[12]=$,n[13]=j[0],n[14]=U):U=n[14];let[V,H]=(0,c.useState)(U),q;n[15]!==I||n[16]!==B||n[17]!==S||n[18]!==j?(q=N(j[I])?B:S,n[15]=I,n[16]=B,n[17]=S,n[18]=j,n[19]=q):q=n[19];let K=q,W=R[I],G=W?.tab,Y;n[20]!==I||n[21]!==V||n[22]!==$||n[23]!==j?(Y=N(j[I])?V:$,n[20]=I,n[21]=V,n[22]=$,n[23]=j,n[24]=Y):Y=n[24];let X=Y,Q=G.admin?.description??G.description,J="function"==typeof Q?Q({i18n:D,t:D.t}):Q,Z=R.some(hf),ee;n[25]!==k||n[26]!==S||n[27]!==$||n[28]!==_||n[29]!==P||n[30]!==E||n[31]!==j||n[32]!==L?(ee=async e=>{M(e),z(hs({activeTabConfig:j[e],path:S})),H(hs({activeTabConfig:j[e],path:$}));let t=await k(P);P&&E(P,{...t,..._?{fields:{...t?.fields||{},[_]:{...t?.fields?.[_],tabIndex:e}}}:{fields:{...t?.fields,[L]:{...t?.fields?.[L],tabIndex:e}}}})},n[25]=k,n[26]=S,n[27]=$,n[28]=_,n[29]=P,n[30]=E,n[31]=j,n[32]=L,n[33]=ee):ee=n[33];let et=ee,er,ea;n[34]!==k||n[35]!==S||n[36]!==$||n[37]!==_||n[38]!==P||n[39]!==j||n[40]!==L?(er=()=>{P&&(async()=>{let e=await k(P),t=(_?e?.fields?.[_]?.tabIndex:e?.fields?.[L]?.tabIndex)||0;M(t),z(hs({activeTabConfig:j[t],path:S})),H(hs({activeTabConfig:j[t],path:$}))})()},ea=[_,k,P,L,j,S,$],n[34]=k,n[35]=S,n[36]=$,n[37]=_,n[38]=P,n[39]=j,n[40]=L,n[41]=er,n[42]=ea):(er=n[41],ea=n[42]),(0,c.useEffect)(er,ea),n[43]!==W?.passesCondition||n[44]!==et||n[45]!==R?(t=()=>{if(W?.passesCondition===!1){let e=R.find(hp);e&&et(e.index)}},n[43]=W?.passesCondition,n[44]=et,n[45]=R,n[46]=t):t=n[46],n[47]!==W||n[48]!==et||n[49]!==R?(r=[W,R,et],n[47]=W,n[48]=et,n[49]=R,n[50]=r):r=n[50],(0,c.useEffect)(t,r);let en=T&&`${ho}--within-collapsible`,el=!Z&&`${ho}--hidden`,ei;return n[51]!==x||n[52]!==en||n[53]!==el?(ei=[oF,x,ho,en,el].filter(Boolean),n[51]=x,n[52]=en,n[53]=el,n[54]=ei):ei=n[54],n[55]!==I||n[56]!==et||n[57]!==_?(a=e=>{let{index:t,passesCondition:r,tab:a}=e;return(0,h.jsx)(hi,{hidden:!r,isActive:I===t,parentPath:_,setIsActive:()=>{et(t)},tab:a},t)},n[55]=I,n[56]=et,n[57]=_,n[58]=a):a=n[58],(0,h.jsx)("div",{className:ei.join(" "),children:(0,h.jsxs)(d1,{children:[(0,h.jsx)("div",{className:`${ho}__tabs-wrap`,children:(0,h.jsx)("div",{className:`${ho}__tabs`,children:R.map(a)})}),(0,h.jsx)("div",{className:`${ho}__content-wrap`,children:G&&(0,h.jsx)(hu,{description:J,fields:G.fields,forceRender:void 0!==i&&i,hidden:!1,parentIndexPath:N(G)?"":`${C?C+"-":""}`+String(W.index),parentPath:K,parentSchemaPath:X,path:B,permissions:p&&"object"==typeof p&&"name"in G?p[G.name]&&"object"==typeof p[G.name]&&"fields"in p[G.name]?p[G.name].fields:p[G.name]:p,readOnly:m})})]})})});function hu(e){let t=(0,v.c)(21),{description:r,fields:a,forceRender:n,hidden:l,label:i,parentIndexPath:o,parentPath:s,parentSchemaPath:c,permissions:u,readOnly:d}=e,{i18n:p}=(0,f.d)(),{customComponents:g,path:b}=oR(),y,x;if(t[0]!==r||t[1]!==a||t[2]!==n||t[3]!==l||t[4]!==p||t[5]!==i||t[6]!==o||t[7]!==s||t[8]!==c||t[9]!==b||t[10]!==u||t[11]!==d||t[12]!==g){x=Symbol.for("react.early_return_sentinel");e:{let e,f,{AfterInput:v,BeforeInput:w,Description:j,Field:C}=void 0===g?{}:g;if(C){x=C;break e}let S=l&&`${ho}__tab--hidden`,$;t[15]!==p||t[16]!==i?($=i&&`${ho}__tabConfigLabel-${e=m(i,p),e?.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\s+/g,"-").toLowerCase()}`,t[15]=p,t[16]=i,t[17]=$):$=t[17],t[18]!==S||t[19]!==$?(f=[S,`${ho}__tab`,$].filter(Boolean),t[18]=S,t[19]=$,t[20]=f):f=t[20],y=(0,h.jsxs)("div",{className:f.join(" "),children:[(0,h.jsx)(rY,{CustomComponent:j,Fallback:(0,h.jsx)(nz,{description:r,marginPlacement:"bottom",path:b})}),w,(0,h.jsx)(gO,{fields:a,forceRender:n,parentIndexPath:o,parentPath:s,parentSchemaPath:c,permissions:u,readOnly:d}),v]})}t[0]=r,t[1]=a,t[2]=n,t[3]=l,t[4]=p,t[5]=i,t[6]=o,t[7]=s,t[8]=c,t[9]=b,t[10]=u,t[11]=d,t[12]=g,t[13]=y,t[14]=x}else y=t[13],x=t[14];return x!==Symbol.for("react.early_return_sentinel")?x:y}function hd(e){let{passesCondition:t}=e;return t}function hf(e){let{passesCondition:t}=e;return t}function hp(e){let{passesCondition:t}=e;return t}var hh=e=>{let t=(0,v.c)(32),{AfterInput:r,BeforeInput:a,className:n,Description:l,description:i,Error:o,hasMany:s,htmlAttributes:c,inputRef:u,Label:d,label:p,localized:g,maxRows:b,onChange:y,onKeyDown:x,path:w,placeholder:j,readOnly:C,required:S,rtl:$,showError:_,style:k,value:E,valueToRender:N}=e,{i18n:P,t:D}=(0,f.d)(),T;if(t[0]!==r||t[1]!==a||t[2]!==l||t[3]!==o||t[4]!==d||t[5]!==n||t[6]!==i||t[7]!==s||t[8]!==c||t[9]!==P||t[10]!==u||t[11]!==p||t[12]!==g||t[13]!==b||t[14]!==y||t[15]!==x||t[16]!==w||t[17]!==j||t[18]!==C||t[19]!==S||t[20]!==$||t[21]!==_||t[22]!==k||t[23]!==D||t[24]!==E||t[25]!==N){let e=m(j,P),f=_&&"error",v=C&&"read-only",O=s&&"has-many",R;t[27]!==n||t[28]!==f||t[29]!==v||t[30]!==O?(R=[oF,"text",n,f,v,O].filter(Boolean),t[27]=n,t[28]=f,t[29]=v,t[30]=O,t[31]=R):R=t[31],T=(0,h.jsxs)("div",{className:R.join(" "),style:k,children:[(0,h.jsx)(rY,{CustomComponent:d,Fallback:(0,h.jsx)(iN,{label:p,localized:g,path:w,required:S})}),(0,h.jsxs)("div",{className:`${oF}__wrap`,children:[(0,h.jsx)(rY,{CustomComponent:o,Fallback:(0,h.jsx)(nU,{path:w,showError:_})}),a,s?(0,h.jsx)(dK,{className:`field-${w.replace(/\./g,"__")}`,components:{DropdownIndicator:null},customProps:{editableProps:hg},disabled:C,filterOption:()=>!b||!(Array.isArray(E)&&b&&E.length>=b),isClearable:!1,isCreatable:!0,isMulti:!0,isSortable:!0,menuIsOpen:!1,noOptionsMessage:()=>Array.isArray(E)&&E.length>=b?D("validation:limitReached",{max:b,value:E.length+1}):null,onChange:y,options:[],placeholder:e,showError:_,value:N}):(0,h.jsx)("input",{"data-rtl":$,disabled:C,id:`field-${w?.replace(/\./g,"__")}`,name:w,onChange:y,onKeyDown:x,placeholder:e,ref:u,type:"text",value:E||"",...c??{}}),r,(0,h.jsx)(rY,{CustomComponent:l,Fallback:(0,h.jsx)(nz,{description:i,path:w})})]})]}),t[0]=r,t[1]=a,t[2]=l,t[3]=o,t[4]=d,t[5]=n,t[6]=i,t[7]=s,t[8]=c,t[9]=P,t[10]=u,t[11]=p,t[12]=g,t[13]=b,t[14]=y,t[15]=x,t[16]=w,t[17]=j,t[18]=C,t[19]=S,t[20]=$,t[21]=_,t[22]=k,t[23]=D,t[24]=E,t[25]=N,t[26]=T}else T=t[26];return T};function hm(e){e.currentTarget.contentEditable="false"}function hg(e,t,r){let a=`${t}--editable`;return{onBlur:hm,onClick:e=>{e.currentTarget.contentEditable="true",e.currentTarget.classList.add(a),e.currentTarget.focus()},onKeyDown:t=>{if("Enter"===t.key||"Tab"===t.key||"Escape"===t.key){if(t.currentTarget.contentEditable="false",t.currentTarget.classList.remove(a),e.value.value=t.currentTarget.innerText,e.label=t.currentTarget.innerText,e.value.value.replaceAll(`
`,""))r.onChange(r.value,{action:"create-option",option:e});else if(Array.isArray(r.value)){let t=r.value.filter(t=>t.id!==e.id);r.onChange(t,{action:"pop-value",removedValue:e})}t.preventDefault()}t.stopPropagation()}}}var hb=oM(e=>{let{field:t,field:{admin:{autoComplete:r,className:a,description:n,placeholder:l,rtl:i}={},hasMany:o,label:s,localized:u,maxLength:f,maxRows:p,minLength:m,minRows:g,required:b},inputRef:v,path:y,readOnly:x,validate:w}=e,j=i_(),{config:{localization:C}}=(0,d.b)(),{customComponents:{AfterInput:S,BeforeInput:$,Description:_,Error:k,Label:E}={},disabled:N,path:P,setValue:D,showError:T,value:O}=oR({potentiallyStalePath:y,validate:(0,c.useCallback)((e,t)=>{if("function"==typeof w)return w(e,{...t,maxLength:f,minLength:m,required:b})},[w,m,f,b])}),R=oB({fieldLocalized:u,fieldRTL:i,locale:j,localizationConfig:C||void 0}),[A,I]=(0,c.useState)([]),M=(0,c.useCallback)(e=>{!(x||N)&&D(e?Array.isArray(e)?e.map(e=>e.value?.value||e.value):[e.value?.value||e.value]:[])},[x,D,N]);(0,c.useEffect)(()=>{o&&Array.isArray(O)&&I(O.map((e,t)=>({id:`${e}${t}`,label:`${e}`,value:{toString:()=>`${e}${t}`,value:e?.value||e}})))},[O,o]);let L=(0,c.useMemo)(()=>oL(t),[t]);return(0,h.jsx)(hh,{AfterInput:S,BeforeInput:$,className:a,Description:_,description:n,Error:k,hasMany:o,htmlAttributes:{autoComplete:r||void 0},inputRef:v,Label:E,label:s,localized:u,maxRows:p,minRows:g,onChange:o?M:e=>{D(e.target.value)},path:P,placeholder:l,readOnly:x||N,required:b,rtl:R,showError:T,style:L,value:O||"",valueToRender:A})}),hv=e=>{let t=(0,v.c)(26),{AfterInput:r,BeforeInput:a,className:n,Description:l,description:i,Error:o,Label:s,label:c,localized:u,onChange:d,path:p,placeholder:g,readOnly:b,required:y,rows:x,rtl:w,showError:j,style:C,value:S}=e,{i18n:$}=(0,f.d)(),_=j&&"error",k=b&&"read-only",E;t[0]!==n||t[1]!==_||t[2]!==k?(E=[oF,"textarea",n,_,k].filter(Boolean),t[0]=n,t[1]=_,t[2]=k,t[3]=E):E=t[3];let N=E.join(" "),P=`field-${p.replace(/\./g,"__")}`,D;return t[4]!==r||t[5]!==a||t[6]!==l||t[7]!==o||t[8]!==s||t[9]!==i||t[10]!==$||t[11]!==c||t[12]!==u||t[13]!==d||t[14]!==p||t[15]!==g||t[16]!==b||t[17]!==y||t[18]!==x||t[19]!==w||t[20]!==j||t[21]!==C||t[22]!==N||t[23]!==P||t[24]!==S?(D=(0,h.jsxs)("div",{className:N,style:C,children:[(0,h.jsx)(rY,{CustomComponent:s,Fallback:(0,h.jsx)(iN,{htmlFor:P,label:c,localized:u,path:p,required:y})}),(0,h.jsxs)("div",{className:`${oF}__wrap`,children:[(0,h.jsx)(rY,{CustomComponent:o,Fallback:(0,h.jsx)(nU,{path:p,showError:j})}),a,(0,h.jsx)("div",{className:"textarea-outer",children:(0,h.jsx)("textarea",{"data-rtl":w,disabled:b,id:`field-${p.replace(/\./g,"__")}`,name:p,onChange:d,placeholder:m(g,$),rows:x,style:{"--rows":x},value:S||""})}),r,(0,h.jsx)(rY,{CustomComponent:l,Fallback:(0,h.jsx)(nz,{description:i,path:p})})]})]}),t[4]=r,t[5]=a,t[6]=l,t[7]=o,t[8]=s,t[9]=i,t[10]=$,t[11]=c,t[12]=u,t[13]=d,t[14]=p,t[15]=g,t[16]=b,t[17]=y,t[18]=x,t[19]=w,t[20]=j,t[21]=C,t[22]=N,t[23]=P,t[24]=S,t[25]=D):D=t[25],D},hy=oM(e=>{let{field:t,field:{admin:{className:r,description:a,placeholder:n,rows:l,rtl:i}={},label:o,localized:s,maxLength:u,minLength:p,required:g},path:b,readOnly:v,validate:y}=e,{i18n:x}=(0,f.d)(),{config:{localization:w}}=(0,d.b)(),j=oB({fieldLocalized:s,fieldRTL:i,locale:i_(),localizationConfig:w||void 0}),{customComponents:{AfterInput:C,BeforeInput:S,Description:$,Error:_,Label:k}={},disabled:E,path:N,setValue:P,showError:D,value:T}=oR({potentiallyStalePath:b,validate:(0,c.useCallback)((e,t)=>{if("function"==typeof y)return y(e,{...t,maxLength:u,minLength:p,required:g})},[y,g,u,p])}),O=(0,c.useMemo)(()=>oL(t),[t]);return(0,h.jsx)(hv,{AfterInput:C,BeforeInput:S,className:r,Description:$,description:a,Error:_,Label:k,label:o,localized:s,onChange:e=>{P(e.target.value)},path:N,placeholder:m(n,x),readOnly:v||E,required:g,rows:l,rtl:j,showError:D,style:O,value:T})}),hx=()=>null,hw=(0,c.createContext)(void 0),hj=e=>{let t=(0,v.c)(5),{children:r}=e,[a,n]=(0,c.useState)(null),[l,i]=(0,c.useState)(""),[o,s]=(0,c.useState)(null),u;return t[0]!==r||t[1]!==o||t[2]!==a||t[3]!==l?(u=(0,h.jsx)(hw,{value:{setUploadControlFile:s,setUploadControlFileName:n,setUploadControlFileUrl:i,uploadControlFile:o,uploadControlFileName:a,uploadControlFileUrl:l},children:r}),t[0]=r,t[1]=o,t[2]=a,t[3]=l,t[4]=u):u=t[4],u},hC=()=>{let e=(0,c.use)(hw);if(!e)throw Error("useUploadControls must be used within an UploadControlsProvider");return e},hS=e=>{e.preventDefault(),e.stopPropagation()};function h$({children:e,className:t,disabled:r=!1,dropzoneStyle:a="default",multipleFiles:n,onChange:l}){let i=c.default.useRef(null),[o,s]=c.default.useState(!1),u=c.default.useCallback(e=>{if(!n&&e.length>1){let t=new DataTransfer;t.items.add(e[0]),l(t.files)}else l(e)},[n,l]),d=c.default.useCallback(e=>{e.preventDefault(),e.stopPropagation(),e.clipboardData.files&&e.clipboardData.files.length>0&&u(e.clipboardData.files)},[u]),f=c.default.useCallback(e=>{e.preventDefault(),e.stopPropagation(),s(!0)},[]),p=c.default.useCallback(e=>{e.preventDefault(),e.stopPropagation(),s(!1)},[]),m=c.default.useCallback(e=>{e.preventDefault(),e.stopPropagation(),s(!1),e.dataTransfer.files&&e.dataTransfer.files.length>0&&(u(e.dataTransfer.files),s(!1),e.dataTransfer.clearData())},[u]);c.default.useEffect(()=>{let e=i.current;return e&&!r?(e.addEventListener("dragenter",f),e.addEventListener("dragleave",p),e.addEventListener("dragover",hS),e.addEventListener("drop",m),e.addEventListener("paste",d),()=>{e.removeEventListener("dragenter",f),e.removeEventListener("dragleave",p),e.removeEventListener("dragover",hS),e.removeEventListener("drop",m),e.removeEventListener("paste",d)}):()=>null},[r,f,p,m,d]);let g=["dropzone",t,o?"dragging":"",`dropzoneStyle--${a}`].filter(Boolean).join(" ");return(0,h.jsx)("div",{className:g,ref:i,children:e})}function h_(e){let t=(0,v.c)(3),{onClick:r}=e,{t:a}=(0,f.d)(),n;return t[0]!==r||t[1]!==a?(n=(0,h.jsx)("button",{"aria-label":a("general:close"),className:"drawer-close-button",onClick:r,type:"button",children:(0,h.jsx)(f.a,{})}),t[0]=r,t[1]=a,t[2]=n):n=t[2],n}function hk({onClose:e,title:t}){return(0,h.jsxs)("div",{className:"bulk-upload--drawer-header",children:[(0,h.jsx)("h2",{title:t,children:t}),(0,h.jsx)(h_,{onClick:e})]})}var hE="bulk-upload--add-files";function hN({acceptMimeTypes:e,onCancel:t,onDrop:r}){let{t:a}=(0,f.d)(),n=c.default.useRef(null);return(0,h.jsxs)("div",{className:hE,children:[(0,h.jsx)(hk,{onClose:t,title:a("upload:addFiles")}),(0,h.jsx)("div",{className:`${hE}__dropArea`,children:(0,h.jsxs)(h$,{multipleFiles:!0,onChange:r,children:[(0,h.jsx)(na,{buttonStyle:"subtle",iconPosition:"left",onClick:()=>{n.current&&n.current.click()},size:"small",children:a("upload:selectFile")}),(0,h.jsx)("input",{accept:e,"aria-hidden":"true",className:`${hE}__hidden-input`,hidden:!0,multiple:!0,onChange:e=>{e.target.files&&e.target.files.length>0&&r(e.target.files)},ref:n,type:"file"}),(0,h.jsxs)("p",{className:`${hE}__dragAndDropText`,children:[a("general:or")," ",a("upload:dragAndDrop")]})]})})]})}var hP=(0,p.e)(rH(),1);async function hD(e={},t={},r,a){let n=rv(e,!0),l=n?.file;if(l&&delete n.file,l&&"function"==typeof a){let e=l.name;l=JSON.stringify({clientUploadContext:await a({file:l,updateFilename:t=>{e=t}}),collectionSlug:r,filename:e,mimeType:l.type,size:l.size})}let i={_payload:JSON.stringify({...n,...t}),file:l};return(0,hP.serialize)(i,{indices:!0,nullsAsUndefineds:!1})}function hT(e,t){switch(t.type){case"ADD_FORMS":{let r=[];for(let e=0;e<t.forms.length;e++)r[e]={errorCount:0,formID:t.forms[e].formID??(crypto.randomUUID?crypto.randomUUID():so()),formState:{...t.forms[e].initialState||{},file:{initialValue:t.forms[e].file,valid:!0,value:t.forms[e].file}},uploadEdits:{}};return{...e,activeIndex:0,forms:[...r,...e.forms]}}case"REMOVE_FORM":{let r=[...e.forms],[a]=r.splice(t.index,1),n=e.activeIndex>=t.index,l=Math.min(r.length-1,e.activeIndex===t.index?t.index:n?e.activeIndex-1:e.activeIndex);return{...e,activeIndex:n?l:e.activeIndex,forms:r,totalErrorCount:e.totalErrorCount-a.errorCount}}case"REPLACE":return{...e,...t.state};case"SET_ACTIVE_INDEX":return{...e,activeIndex:t.index};case"UPDATE_ERROR_COUNT":{let r=[...e.forms];return r[t.index].errorCount=t.count,{...e,forms:r,totalErrorCount:e.forms.reduce((e,t)=>e+t.errorCount,0)}}case"UPDATE_FORM":{let r=[...e.forms];return r[t.index].errorCount=t.errorCount,r[t.index]={...r[t.index],formState:{...r[t.index].formState,...t.formState},uploadEdits:{...r[t.index].uploadEdits,...t.uploadEdits}},{...e,forms:r,totalErrorCount:e.forms.reduce((e,t)=>e+t.errorCount,0)}}default:return e}}var hO=c.default.createContext({activeIndex:0,addFiles:()=>Promise.resolve(),bulkUpdateForm:()=>null,collectionSlug:"",docPermissions:void 0,documentSlots:{},forms:[],getFormDataRef:{current:()=>({})},hasPublishPermission:!1,hasSavePermission:!1,hasSubmitted:!1,isInitializing:!1,removeFile:()=>{},saveAllDocs:()=>Promise.resolve(),setActiveIndex:()=>0,setFormTotalErrorCount:()=>{},totalErrorCount:0,updateUploadEdits:()=>{}}),hR={activeIndex:0,forms:[],totalErrorCount:0};function hA({children:e}){let{config:t}=(0,d.b)(),{routes:{api:r},serverURL:a}=t,{code:n}=i_(),{i18n:l,t:i}=(0,f.d)(),{getDocumentSlots:o,getFormState:s}=fs(),{getUploadHandler:u}=p5(),[p,m]=c.default.useState({}),[g,b]=c.default.useState(!1),[v,y]=c.default.useState(),[x,w]=c.default.useState(!1),[j,C]=c.default.useState(!1),[S,$]=c.default.useState(!1),[_,k]=c.default.useState(!1),[E,N]=c.default.useState(!1),[P,D]=c.default.useReducer(hT,hR),{activeIndex:T,forms:O,totalErrorCount:R}=P;c.default.useRef(O).current=O;let{toggleLoadingOverlay:A}=fj(),{closeModal:I}=le(),{collectionSlug:M,drawerSlug:L,initialFiles:F,initialForms:B,onSuccess:z,setInitialFiles:U,setInitialForms:V,setSuccessfullyUploaded:H}=gv(),[q,K]=c.default.useState(!1),[W,G]=c.default.useState(""),Y=c.default.useRef(!1),X=c.default.useRef(null),Q=c.default.useRef(()=>({})),J=`${a}${r}/${M}`,Z=c.default.useCallback(async()=>{let e={locale:n||void 0},t=`/${M}/access`,i=await (await fetch(`${a}${r}${t}?${tZ(e)}`,{credentials:"include",headers:{"Accept-Language":l.language,"Content-Type":"application/json"},method:"post"})).json(),o=await fetch(`${a}${r}${t}?${tZ(e)}`,{body:JSON.stringify({_status:"published"}),credentials:"include",headers:{"Accept-Language":l.language,"Content-Type":"application/json"},method:"POST"}).then(e=>e.json());y(i),w(oC({collectionSlug:M,docPermissions:i,isEditing:!1})),C(o?.update),k(!0)},[r,n,M,l.language,a]),ee=c.default.useCallback(async e=>{e?.signal&&e.abort("aborting previous fetch for initial form state without files"),m(await o({collectionSlug:M}));try{let{state:e}=await s({collectionSlug:M,docPermissions:v,docPreferences:{fields:{}},locale:n,operation:"create",renderAllFields:!0,schemaPath:M,skipValidation:!0});X.current=e,$(!0)}catch{}},[o,M,s,v,n]),et=c.default.useCallback(e=>{let t=Q.current();D({type:"REPLACE",state:{activeIndex:e,forms:O.map((e,r)=>r===T?{errorCount:e.errorCount,formID:e.formID,formState:t,uploadEdits:e.uploadEdits}:e)}})},[O,T]),er=c.default.useCallback(async e=>{O.length&&D({type:"UPDATE_FORM",errorCount:O[T].errorCount,formState:Q.current(),index:T}),A({isLoading:!0,key:"addingDocs"}),S||await ee(),D({type:"ADD_FORMS",forms:Array.from(e).map(e=>({file:e,initialState:X.current}))}),A({isLoading:!1,key:"addingDocs"})},[ee,S,A,T,O]),ea=id(er),en=id(async e=>{A({isLoading:!0,key:"addingDocs"}),S||await ee(),D({type:"ADD_FORMS",forms:e.map(e=>({...e,initialState:e?.initialState||X.current}))}),A({isLoading:!1,key:"addingDocs"})}),el=c.default.useCallback(e=>{D({type:"REMOVE_FORM",index:e})},[]),ei=c.default.useCallback(({errorCount:e,index:t})=>{D({type:"UPDATE_ERROR_COUNT",count:e,index:t})},[]),eo=c.default.useCallback(async({overrides:e}={})=>{let t=Q.current(),r=[...O];r[T]={errorCount:r[T].errorCount,formID:r[T].formID,formState:t,uploadEdits:r[T].uploadEdits};let a=[];K(!0);for(let t=0;t<r.length;t++)try{let l=r[t];G(i("general:uploadingBulk",{current:t+1,total:r.length}));let o=`${J}${tZ({locale:n,uploadEdits:l?.uploadEdits||void 0},{addQueryPrefix:!0})}`,s=await fetch(o,{body:await hD(l.formState,e,M,u({collectionSlug:M})),credentials:"include",method:"POST"}),c=await s.json();201===s.status&&c?.doc&&a.push({collectionSlug:M,doc:c.doc,formID:l.formID});let[d,f]=(c?.errors||[]).reduce(([e,t],r)=>{let a=[],n=[];return r?.message&&n.push(r),Array.isArray(r?.data?.errors)&&r.data?.errors.forEach(e=>{e?.path?a.push(e):n.push(e)}),[[...e,...a],[...t,...n]]},[[],[]]);r[t]={errorCount:d.length,formID:r[t].formID,formState:hr(r[t].formState,{type:"ADD_SERVER_ERRORS",errors:d})},(413===s.status||400===s.status)&&(r[t]={...r[t],errorCount:r[t].errorCount+1},a_.error(f[0]?.message))}catch{}b(!0),G(""),K(!1);let l=[];r.forEach(({errorCount:e},t)=>{e&&l.push(r[t])});let o=Math.max(0,r.length-l.length),s=r.length-o;o&&(a_.success(`Successfully saved ${o} files`),H(!0),"function"==typeof z&&z(a,s)),s?a_.error(`Failed to save ${s} files`):I(L),D({type:"REPLACE",state:{activeIndex:0,forms:l,totalErrorCount:l.reduce((e,{errorCount:t})=>e+t,0)}}),0===l.length&&(U(void 0),V(void 0))},[O,T,i,J,n,M,u,z,I,H,L,U,V]),es=c.default.useCallback(async(e,t)=>{for(let r=0;r<O.length;r++)if(Object.entries(e).forEach(([e,t])=>{O[r].formState[e]&&(O[r].formState[e].value=t,D({type:"UPDATE_FORM",errorCount:O[r].errorCount,formState:O[r].formState,index:r}))}),"function"==typeof t&&t(),g){let{state:e}=await s({collectionSlug:M,docPermissions:v,docPreferences:null,formState:O[r].formState,operation:"create",schemaPath:M});D({type:"UPDATE_FORM",errorCount:Object.values(e).reduce((e,t)=>t?.valid===!1?e+1:e,0),formState:e,index:r})}},[M,v,O,s,g]),ec=c.default.useCallback(e=>{D({type:"UPDATE_FORM",errorCount:O[T].errorCount,formState:O[T].formState,index:T,uploadEdits:e})},[T,O]),eu=c.default.useCallback(()=>{D({type:"REPLACE",state:{forms:O.map(e=>({...e,uploadEdits:{}}))}})},[O]);return c.default.useEffect(()=>{M&&(S||ee(),_||Z(),(F||B)&&N(!S||!_),S&&(B?.length||F?.length)&&!Y.current&&(B?.length&&en(B),F?.length&&ea(F),Y.current=!0))},[F,ee,Z,M,S,_,B]),(0,h.jsxs)(hO,{value:{activeIndex:P.activeIndex,addFiles:er,bulkUpdateForm:es,collectionSlug:M,docPermissions:v,documentSlots:p,forms:O,getFormDataRef:Q,hasPublishPermission:j,hasSavePermission:x,hasSubmitted:g,isInitializing:E,removeFile:el,resetUploadEdits:eu,saveAllDocs:eo,setActiveIndex:et,setFormTotalErrorCount:ei,totalErrorCount:R,updateUploadEdits:ec},children:[q&&(0,h.jsx)(fS,{animationDuration:"250ms",loadingText:W,overlayType:"fullscreen",show:!0}),e]})}function hI(){return c.default.use(hO)}var hM=(e,t)=>e?E(t)&&t.name?`${e}.${t.name}`:e:E(t)?t.name:"",hL=({CustomLabel:e,field:t,prefix:r})=>(0,h.jsxs)(c.Fragment,{children:[r?(0,h.jsxs)(c.Fragment,{children:[(0,h.jsx)("span",{style:{display:"inline-block"},children:r})," > "]}):null,(0,h.jsx)("span",{style:{display:"inline-block"},children:(0,h.jsx)(rY,{CustomComponent:e,Fallback:(0,h.jsx)(iN,{label:"label"in t&&t.label})})})]}),hF=({fields:e,formState:t,labelPrefix:r=null,parentPath:a="",path:n="",permissions:l})=>{if(!e)return[];let i=t?.[n]?.customComponents?.Label;return e?.reduce((e,t)=>{let{operation:o,permissions:s,read:c}=t3({field:t,operation:"update",parentName:a?.includes(".")?a.split(".")[a.split(".").length-1]:a,permissions:l});return(E(t)||"ui"===t.type)&&(t.admin?.disableBulkEdit||t.unique||k(t)||"readOnly"in t&&t.readOnly||!o||!c)?e:"array"!==t.type&&"blocks"!==t.type&&y(t)?[...e,...hF({fields:t.fields,labelPrefix:hL({CustomLabel:i,field:t,prefix:r}),parentPath:n,path:hM(n,t),permissions:s})]:"tabs"===t.type&&"tabs"in t?[...e,...t.tabs.reduce((e,a)=>{if("fields"in a){let l="name"in a&&a.name;return[...e,...hF({fields:a.fields,labelPrefix:r,parentPath:n,path:l?hM(n,t):n,permissions:s})]}},[])]:[...e,{label:hL({CustomLabel:i,field:t,prefix:r}),value:{field:t,fieldPermissions:s,path:hM(n,t)}}]},[])},hB=e=>{let t=(0,v.c)(14),{fields:r,onChange:a,permissions:n}=e,{t:l}=(0,f.d)(),{dispatchFields:i,getFields:o}=ar(),s;t[0]!==r||t[1]!==o||t[2]!==n?(s=()=>{let e;return hF({fields:(e=["file","mimeType","thumbnailURL","width","height","filesize","filename","url","focalX","focalY","sizes"],r.filter(t=>!e.includes("name"in t&&t.name))),formState:o(),permissions:n})},t[0]=r,t[1]=o,t[2]=n,t[3]=s):s=t[3];let[u]=(0,c.useState)(s),d;if(t[4]!==i||t[5]!==o||t[6]!==a||t[7]!==u||t[8]!==l){let e;t[10]!==i||t[11]!==o||t[12]!==a?(e=e=>a({dispatchFields:i,formState:o(),selected:e}),t[10]=i,t[11]=o,t[12]=a,t[13]=e):e=t[13],d=(0,h.jsxs)("div",{className:"field-select",children:[(0,h.jsx)(iN,{label:l("fields:selectFieldsToEdit")}),(0,h.jsx)(dK,{getOptionValue:hz,isMulti:!0,onChange:e,options:u})]}),t[4]=i,t[5]=o,t[6]=a,t[7]=u,t[8]=l,t[9]=d}else d=t[9];return d};function hz(e){return"object"==typeof e.value&&"path"in e.value?String(e.value.path):String(e.value)}var hU=e=>{let{collection:{fields:t,labels:{plural:r,singular:a}}={},collection:n,drawerSlug:l,forms:i}=e,[o,s]=(0,c.useState)(!1),{permissions:u}=ig(),{i18n:d,t:p}=(0,f.d)(),{closeModal:g}=le(),{bulkUpdateForm:b}=hI(),{getFormState:v}=fs(),y=c.default.useRef(null),[x,w]=(0,c.useState)([]),j=u?.collections?.[n.slug],C=(0,c.useMemo)(()=>rb(x.reduce((e,t)=>(e[t.value.path]=!0,e),{})),[x]),S=(0,c.useCallback)(async({formState:e,submitted:t})=>{let r=fE(y),{state:a}=await v({collectionSlug:n.slug,docPermissions:j,docPreferences:null,formState:e,operation:"update",schemaPath:n.slug,select:C,signal:r.signal,skipValidation:!t});return y.current=null,a},[v,n,j,C]);(0,c.useEffect)(()=>{let e=y.current;return()=>{fk(e)}},[]);let $=(0,c.useCallback)(e=>{b(x.reduce((t,r)=>(e[r.value.path]&&(t[r.value.path]=e[r.value.path].value),t),{}),()=>g(l))},[g,l,b,x]),_=(0,c.useCallback)(async({dispatchFields:e,formState:t,selected:r})=>{s(!0),w(r||[]);let{state:a}=await v({collectionSlug:n.slug,docPermissions:j,docPreferences:null,formState:t,operation:"update",schemaPath:n.slug,select:rb(r.reduce((e,t)=>(e[t.value.path]=!0,e),{})),skipValidation:!0});e({type:"UPDATE_MANY",formState:a}),s(!1)},[v,n,j]);return(0,h.jsxs)("div",{className:`${hV}__main`,children:[(0,h.jsxs)("div",{className:`${hV}__header`,children:[(0,h.jsx)("h2",{className:`${hV}__header__title`,children:p("general:editingLabel",{count:i.length,label:m(i.length>1?r:a,d)})}),(0,h.jsx)("button",{"aria-label":p("general:close"),className:`${hV}__header__close`,id:`close-drawer__${l}`,onClick:()=>g(l),type:"button",children:(0,h.jsx)(f.a,{})})]}),(0,h.jsxs)(hn,{className:`${hV}__form`,isInitializing:o,onChange:[S],onSubmit:$,children:[(0,h.jsx)(hB,{fields:t,onChange:_,permissions:j.fields}),0===x.length?null:(0,h.jsx)("div",{className:"render-fields",children:(0,h.jsx)(oD,{value:void 0,children:x.map((e,t)=>{let{value:{field:r,fieldPermissions:a,path:n}}=e;return(0,h.jsx)(gD,{clientFieldConfig:r,indexPath:"",parentPath:"",parentSchemaPath:"",path:n,permissions:a},`${n}-${t}`)})})}),(0,h.jsx)("div",{className:`${hV}__sidebar-wrap`,children:(0,h.jsx)("div",{className:`${hV}__sidebar`,children:(0,h.jsx)("div",{className:`${hV}__sidebar-sticky-wrap`,children:(0,h.jsx)("div",{className:`${hV}__document-actions`,children:(0,h.jsx)(na,{type:"submit",children:p("general:applyChanges")})})})})})]})]})},hV="edit-many-bulk-uploads",hH=e=>{let t,r=(0,v.c)(5),{collection:a,collection:n}=e,{slug:l}=void 0===a?{}:a,{permissions:i}=ig(),{t:o}=(0,f.d)(),{forms:s}=hI(),c=i?.collections?.[l]?.update,u=`edit-${l}-bulk-uploads`;return c?(r[0]!==n||r[1]!==u||r[2]!==s||r[3]!==o?(t=(0,h.jsxs)("div",{className:hV,children:[(0,h.jsx)(it,{"aria-label":o("general:editAll"),className:`${hV}__toggle`,slug:u,children:o("general:editAll")}),(0,h.jsx)(nH,{children:(0,h.jsx)(ir,{Header:null,slug:u,children:(0,h.jsx)(hU,{collection:n,drawerSlug:u,forms:s})})})]}),r[0]=n,r[1]=u,r[2]=s,r[3]=o,r[4]=t):t=r[4],t):null},hq="bulk-upload--actions-bar";function hK(e){let t=(0,v.c)(15),{collectionConfig:r}=e,{activeIndex:a,forms:n,setActiveIndex:l}=hI(),{t:i}=(0,f.d)(),o=a+1,s;if(t[0]!==a||t[1]!==r||t[2]!==n.length||t[3]!==l||t[4]!==i||t[5]!==o){let e,c;t[7]!==a||t[8]!==n.length||t[9]!==l?(e=()=>{let e=a-1;e<0?l(n.length-1):l(e)},t[7]=a,t[8]=n.length,t[9]=l,t[10]=e):e=t[10],t[11]!==a||t[12]!==n.length||t[13]!==l?(c=()=>{let e=a+1;e===n.length?l(0):l(e)},t[11]=a,t[12]=n.length,t[13]=l,t[14]=c):c=t[14],s=(0,h.jsxs)("div",{className:hq,children:[(0,h.jsxs)("div",{className:`${hq}__navigation`,children:[(0,h.jsxs)("p",{className:`${hq}__locationText`,children:[(0,h.jsx)("strong",{children:o}),` ${i("general:of")} `,(0,h.jsx)("strong",{children:n.length})]}),(0,h.jsxs)("div",{className:`${hq}__controls`,children:[(0,h.jsx)(na,{"aria-label":i("general:previous"),buttonStyle:"none",onClick:e,type:"button",children:(0,h.jsx)(az,{direction:"left"})}),(0,h.jsx)(na,{"aria-label":i("general:next"),buttonStyle:"none",onClick:c,type:"button",children:(0,h.jsx)(az,{direction:"right"})})]}),(0,h.jsx)(hH,{collection:r})]}),(0,h.jsx)(hW,{className:`${hq}__saveButtons`})]}),t[0]=a,t[1]=r,t[2]=n.length,t[3]=l,t[4]=i,t[5]=o,t[6]=s}else s=t[6];return s}function hW(e){let t=(0,v.c)(12),{className:r}=e,{getEntityConfig:a}=(0,d.b)(),{t:n}=(0,f.d)(),{collectionSlug:l,hasPublishPermission:i,hasSavePermission:o,saveAllDocs:s}=hI(),c;t[0]!==l||t[1]!==a?(c=a({collectionSlug:l}),t[0]=l,t[1]=a,t[2]=c):c=t[2];let u=c,p;t[3]!==r?(p=[`${hq}__buttons`,r].filter(Boolean),t[3]=r,t[4]=p):p=t[4];let m=p.join(" "),g;return t[5]!==u?.versions?.drafts||t[6]!==i||t[7]!==o||t[8]!==s||t[9]!==n||t[10]!==m?(g=(0,h.jsxs)("div",{className:m,children:[u?.versions?.drafts&&o?(0,h.jsx)(na,{buttonStyle:"secondary",onClick:()=>void s({overrides:{_status:"draft"}}),children:n("version:saveDraft")}):null,u?.versions?.drafts&&i?(0,h.jsx)(na,{onClick:()=>void s({overrides:{_status:"published"}}),children:n("version:publish")}):null,!u?.versions?.drafts&&o?(0,h.jsx)(na,{onClick:()=>void s(),children:n("general:save")}):null]}),t[5]=u?.versions?.drafts,t[6]=i,t[7]=o,t[8]=s,t[9]=n,t[10]=m,t[11]=g):g=t[11],g}var hG="bulk-upload--discard-without-saving";function hY(){let e=(0,v.c)(9),{t:t}=(0,f.d)(),{closeModal:r}=le(),{drawerSlug:a}=gv(),n;e[0]!==r?(n=()=>{r(hG)},e[0]=r,e[1]=n):n=e[1];let l=n,i;e[2]!==r||e[3]!==a?(i=()=>{r(a),r(hG)},e[2]=r,e[3]=a,e[4]=i):i=e[4];let o=i,s;return e[5]!==l||e[6]!==o||e[7]!==t?(s=(0,h.jsx)(is,{body:t("general:changesNotSaved"),cancelLabel:t("general:stayOnThisPage"),confirmLabel:t("general:leaveAnyway"),heading:t("general:leaveWithoutSaving"),modalSlug:hG,onCancel:l,onConfirm:o}),e[5]=l,e[6]=o,e[7]=t,e[8]=s):s=e[8],s}var hX=(0,c.createContext)({mostRecentUpdate:null,reportUpdate:e=>null}),hQ=e=>{let t=(0,v.c)(3),{children:r}=e,[a,n]=(0,c.useState)(null),l;return t[0]!==r||t[1]!==a?(l=(0,h.jsx)(hX,{value:{mostRecentUpdate:a,reportUpdate:n},children:r}),t[0]=r,t[1]=a,t[2]=l):l=t[2],l},hJ=()=>(0,c.use)(hX);function hZ({className:e}){return(0,h.jsx)("svg",{className:[e,"icon icon--trash"].filter(Boolean).join(" "),fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{d:"M4.1499 6.1H15.8499M14.5499 6.1V15.2C14.5499 15.85 13.8999 16.5 13.2499 16.5H6.7499C6.0999 16.5 5.4499 15.85 5.4499 15.2V6.1M7.3999 6.1V4.8C7.3999 4.15 8.0499 3.5 8.6999 3.5H11.2999C11.9499 3.5 12.5999 4.15 12.5999 4.8V6.1M8.6999 9.35V13.25M11.2999 9.35V13.25",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})})}var h0=()=>{let{getEntityConfig:e}=(0,d.b)(),{collectionSlug:t}=o$(),{labels:r}=e({collectionSlug:t}),{i18n:a}=(0,f.d)();return(0,h.jsxs)("div",{className:"trash-banner",children:[(0,h.jsx)(hZ,{}),(0,h.jsx)("p",{children:a.t("general:documentIsTrashed",{label:`${m(r?.singular,a)}`})})]})},h1="document-fields",h3=({AfterFields:e,BeforeFields:t,docPermissions:r,fields:a,forceSidebarWrap:n,isTrashed:l=!1,readOnly:i,schemaPathSegments:o})=>{let{hasSidebarFields:s,mainFields:u,sidebarFields:d}=(0,c.useMemo)(()=>a.reduce((e,t)=>($(t)?(e.sidebarFields.push(t),e.mainFields.push(null),e.hasSidebarFields=!0):(e.mainFields.push(t),e.sidebarFields.push(null)),e),{hasSidebarFields:!1,mainFields:[],sidebarFields:[]}),[a]);return(0,h.jsxs)("div",{className:[h1,s?`${h1}--has-sidebar`:`${h1}--no-sidebar`,n&&`${h1}--force-sidebar-wrap`].filter(Boolean).join(" "),children:[(0,h.jsx)("div",{className:`${h1}__main`,children:(0,h.jsxs)(l8,{className:`${h1}__edit`,children:[l&&(0,h.jsx)(h0,{}),t,(0,h.jsx)(gO,{className:`${h1}__fields`,fields:u,forceRender:!0,parentIndexPath:"",parentPath:"",parentSchemaPath:o.join("."),permissions:r?.fields,readOnly:i}),e]})}),s?(0,h.jsx)("div",{className:`${h1}__sidebar-wrap`,children:(0,h.jsx)("div",{className:`${h1}__sidebar`,children:(0,h.jsx)("div",{className:`${h1}__sidebar-fields`,children:(0,h.jsx)(gO,{fields:d,forceRender:!0,parentIndexPath:"",parentPath:"",parentSchemaPath:o.join("."),permissions:r?.fields,readOnly:i})})})}):null]})};function h2({className:e}){return(0,h.jsx)("svg",{className:[e,"icon icon--folder"].filter(Boolean).join(" "),fill:"none",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{d:"M13.3333 13.3333C13.6869 13.3333 14.026 13.1929 14.2761 12.9428C14.5261 12.6928 14.6666 12.3536 14.6666 12V5.33333C14.6666 4.97971 14.5261 4.64057 14.2761 4.39052C14.026 4.14048 13.6869 4 13.3333 4H8.06659C7.84359 4.00219 7.62362 3.94841 7.42679 3.84359C7.22996 3.73877 7.06256 3.58625 6.93992 3.4L6.39992 2.6C6.27851 2.41565 6.11323 2.26432 5.91892 2.1596C5.7246 2.05488 5.50732 2.00004 5.28659 2H2.66659C2.31296 2 1.97382 2.14048 1.72378 2.39052C1.47373 2.64057 1.33325 2.97971 1.33325 3.33333V12C1.33325 12.3536 1.47373 12.6928 1.72378 12.9428C1.97382 13.1929 2.31296 13.3333 2.66659 13.3333H13.3333Z",fill:"currentColor"})})}var h6=c.default.createContext({activeCollectionFolderSlugs:[],allCollectionFolderSlugs:[],allowCreateCollectionSlugs:[],breadcrumbs:[],checkIfItemIsDisabled:()=>!1,clearSelections:()=>{},currentFolder:null,documents:[],dragOverlayItem:void 0,focusedRowIndex:-1,folderCollectionConfig:null,folderCollectionSlug:"",folderFieldName:"folder",folderID:void 0,FolderResultsComponent:null,folderType:void 0,getFolderRoute:()=>"",getSelectedItems:()=>[],isDragging:!1,itemKeysToMove:void 0,moveToFolder:()=>Promise.resolve(void 0),onItemClick:()=>{},onItemKeyPress:()=>{},refineFolderData:()=>{},search:"",selectedFolderCollections:void 0,selectedItemKeys:new Set,setBreadcrumbs:()=>{},setFocusedRowIndex:()=>-1,setIsDragging:()=>!1,sort:"name",subfolders:[]});function h5({activeCollectionFolderSlugs:e,allCollectionFolderSlugs:t=[],allowCreateCollectionSlugs:r,allowMultiSelection:a=!0,baseFolderPath:n,breadcrumbs:l=[],children:i,documents:o,folderFieldName:s,folderID:u,FolderResultsComponent:p,onItemClick:m,search:g,sort:v="name",subfolders:y}){let x=h4(),{config:w}=(0,d.b)(),{routes:j,serverURL:C}=w,S=ii(),{t:$}=(0,f.d)(),_=(0,b.useRouter)(),{startRouteTransition:k}=aR(),E=i_(),N=E?E.code:void 0,P=c.default.useRef(new Set),[D,T]=c.default.useState([]),[O,R]=c.default.useState(p||(()=>null)),[A]=c.default.useState(()=>w.collections.find(e=>w.folders&&e.slug===w.folders.slug)),I=A.slug,M=(0,b.useSearchParams)(),L=c.default.useMemo(()=>ft(M),[M]),[F,B]=c.default.useState(L),[z,U]=c.default.useState(!1),[V,H]=c.default.useState(()=>new Set),[q,K]=c.default.useState(-1),[W,G]=c.default.useState(),[Y,X]=c.default.useState(l),Q=c.default.useRef(null),J=y.length+o.length,Z=c.default.useCallback(()=>{K(-1),H(new Set),G(void 0),P.current=new Set},[]),ee=c.default.useCallback((e={})=>{let t="page"in e?e.page:F?.page;return"search"in e&&(t="1"),{...F,...e,locale:N,page:t,relationTo:"relationTo"in e?e.relationTo:F?.relationTo,search:"search"in e?e.search:F?.search,sort:"sort"in e?e.sort:F?.sort??void 0}},[F,N]),et=c.default.useCallback(({query:e,updateURL:t})=>{if(t){let t=ee(e);k(()=>_.replace(`${tZ({...t,relationTo:JSON.stringify(t.relationTo)},{addQueryPrefix:!0})}`)),B(t)}},[ee,_,k]),er=c.default.useCallback(e=>{let t=tZ(ee({page:"1",search:""}),{addQueryPrefix:!0});return tE({adminRoute:w.routes.admin,path:`${n}${e?`/${e}`:""}${t}`,serverURL:w.serverURL})},[n,w.routes.admin,w.serverURL,ee]),ea=c.default.useCallback(e=>[...y,...o].find(t=>t.itemKey===e),[o,y]),en=c.default.useCallback(()=>Array.from(V).reduce((e,t)=>{let r=ea(t);return r&&e.push(r),e},[]),[V,ea]),el=c.default.useCallback(({collectionSlug:e,docID:t})=>{1===S?e===I?k(()=>{_.push(er(t)),Z()}):e&&k(()=>{_.push(tE({adminRoute:w.routes.admin,path:`/collections/${e}/${t}`})),Z()}):Z(),"function"==typeof m&&m(ea(`${e}-${t}`))},[Z,w.routes.admin,S,I,er,ea,m,_,k]),ei=c.default.useCallback(e=>{let t=[...y,...o].reduce((e,t,r)=>(V.has(t.itemKey)&&e.push(r),e),[]);if(0===t.length)return[e];let r=Math.min(...t),a=Math.max(...t),n=e>=r&&e<=a,l=e,i=Math.min(l=n?e===r||e===a?e:Math.abs(e-r)>=Math.abs(e-a)?r:a:Math.abs(e-r)<=Math.abs(e-a)?r:a,e),s=Array.from({length:Math.max(l,e)-i+1},(e,t)=>i+t);return n?s:[...new Set([...t,...s])]},[y,o,V]),eo=c.default.useCallback(({indexes:e})=>{let{newSelectedFolderCollections:t,newSelectedItemKeys:r}=[...y,...o].reduce((t,r,a)=>(e.includes(a)&&(t.newSelectedItemKeys.add(r.itemKey),r.relationTo===I?r.value.folderType?.forEach(e=>{t.newSelectedFolderCollections.includes(e)||t.newSelectedFolderCollections.push(e)}):t.newSelectedFolderCollections.includes(r.relationTo)||t.newSelectedFolderCollections.push(r.relationTo)),t),{newSelectedFolderCollections:[],newSelectedItemKeys:new Set});T(t),H(r)},[o,I,y]),es=c.default.useCallback(({event:e,item:t})=>{let{code:r,ctrlKey:n,metaKey:l,shiftKey:i}=e,s=n||l,c=V.has(t.itemKey),u=[...y,...o],d=u.findIndex(e=>e.itemKey===t.itemKey);switch(r){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":{if(e.preventDefault(),-1===d)break;let t="ArrowLeft"===r||"ArrowUp"===r?d-1:d+1;if(t<0||t>J-1)return;if(K(t),s)break;if(i&&a)return void eo({indexes:ei(t)});i||H(new Set([u[t].itemKey]));break}case"Enter":if(1===V.size){K(void 0),el({collectionSlug:t.relationTo,docID:rw(t.value)});return}break;case"Escape":Z();break;case"KeyA":a&&s&&(e.preventDefault(),K(J-1),eo({indexes:Array.from({length:J},(e,t)=>t)}));break;case"Space":a&&i?(e.preventDefault(),eo({indexes:[...y,...o].reduce((e,r,a)=>{if(r.itemKey===t.itemKey){if(c)return e;e.push(a)}else V.has(r.itemKey)&&e.push(a);return e},[])})):(e.preventDefault(),eo({indexes:c?[]:[d]}));break;case"Tab":if(a&&i){let e=d-1;e<0&&V?.size>0&&K(e)}else d+1===J&&V.size>0&&K(J-1)}},[V,y,o,a,ei,eo,el,Z,J]),ec=c.default.useCallback(({event:e,item:t})=>{let r=!1,n=e.ctrlKey||e.metaKey,l=e.shiftKey,i=V.has(t.itemKey),s=[...y,...o],c=s.findIndex(e=>e.itemKey===t.itemKey);if(a&&n){let r;e.preventDefault(),eo({indexes:s.reduce((a,n,l)=>{if(n.itemKey===t.itemKey){if(i&&"pointermove"!==e.type)return a;a.push(l),r=n.itemKey}else V.has(n.itemKey)&&a.push(l);return a},[])}),r&&G(ea(r))}else if(a&&l)-1!==c&&eo({indexes:ei(c)});else if(a&&"pointermove"===e.type)i||eo({indexes:s.reduce((e,r,a)=>(r.itemKey===t.itemKey&&e.push(a),e),[])}),G(ea(t.itemKey));else{let e=Date.now();r=e-Q.current<400&&W?.itemKey===t.itemKey,Q.current=e,r||eo({indexes:i&&1===V.size?[]:[c]}),G(ea(t.itemKey))}r&&el({collectionSlug:t.relationTo,docID:rw(t.value)})},[V,y,o,a,W,ea,eo,el,ei]),eu=c.default.useCallback(async e=>{let{itemsToMove:t,toFolderID:r}=e;if(t.length){if(1===t.length&&t[0].relationTo===I&&t[0].value.id===u){let e=tZ({depth:0,locale:N},{addQueryPrefix:!0});200!==(await fetch(`${C}${j.api}/${I}/${u}${e}`,{body:JSON.stringify({[s]:r||null}),credentials:"include",headers:{"content-type":"application/json"},method:"PATCH"})).status&&a_.error($("general:error"))}else for(let[e,a]of Object.entries(t.reduce((e,t)=>(e[t.relationTo]||(e[t.relationTo]=[]),e[t.relationTo].push(t.value.id),e),{}))){let t=tZ({depth:0,limit:0,locale:N,where:{id:{in:a}}},{addQueryPrefix:!0});try{await fetch(`${C}${j.api}/${e}${t}`,{body:JSON.stringify({[s]:r||null}),credentials:"include",headers:{"content-type":"application/json"},method:"PATCH"})}catch(e){a_.error($("general:error")),console.error(e);continue}}Z()}},[u,Z,I,s,j.api,C,$,N]),ed=c.default.useCallback(e=>{function t({item:e,selectedFolderCollections:t}){return!(!e.value.folderType||Array.isArray(e.value.folderType)&&0===e.value.folderType.length)&&(0===t.length?!!(e.value.folderType||e.value.folderType.length>0):t.some(t=>!e.value.folderType.includes(t)))}return z?!!V.has(e.itemKey)||e.relationTo!==I||t({item:e,selectedFolderCollections:D}):x?.selectedItemKeys?.size?!!x.selectedItemKeys.has(e.itemKey)||e.relationTo!==I||t({item:e,selectedFolderCollections:x.selectedFolderCollections}):void 0},[D,z,V,I,x?.selectedFolderCollections,x?.selectedItemKeys]);return c.default.useEffect(()=>{p&&R(p)},[p]),(0,h.jsx)(h6,{value:{activeCollectionFolderSlugs:e||t,allCollectionFolderSlugs:t,allowCreateCollectionSlugs:r,breadcrumbs:Y,checkIfItemIsDisabled:ed,clearSelections:Z,currentFolder:Y?.[Y.length-1]?.id!==void 0?function({folderFieldName:e,isUpload:t,relationTo:r,useAsTitle:a,value:n}){let l={id:n?.id,_folderOrDocumentTitle:String(a&&n?.[a]||n.id),createdAt:n?.createdAt,folderID:n?.[e],folderType:n?.folderType||[],updatedAt:n?.updatedAt};return t&&(l.filename=n.filename,l.mimeType=n.mimeType,l.url=n.thumbnailURL||(rc(n.mimeType)?rs({sizes:n.sizes,targetSizeMax:520,targetSizeMin:300,url:n.url,width:n.width}):void 0)),{itemKey:`${r}-${n.id}`,relationTo:r,value:l}}({folderFieldName:s,isUpload:!1,relationTo:I,useAsTitle:A.admin.useAsTitle,value:Y[Y.length-1]}):null,documents:o,dragOverlayItem:W,focusedRowIndex:q,folderCollectionConfig:A,folderCollectionSlug:I,folderFieldName:s,folderID:u,FolderResultsComponent:O,folderType:Y?.[Y.length-1]?.folderType,getFolderRoute:er,getSelectedItems:en,isDragging:z,itemKeysToMove:x.selectedItemKeys,moveToFolder:eu,onItemClick:ec,onItemKeyPress:es,refineFolderData:et,search:g,selectedFolderCollections:D,selectedItemKeys:V,setBreadcrumbs:X,setFocusedRowIndex:K,setIsDragging:U,sort:v,subfolders:y},children:i})}function h4(){let e=c.default.use(h6);if(void 0===e)throw Error("useFolder must be used within a FolderProvider");return e}var h8=(0,c.createContext)({cachingEnabled:!0,clearRouteCache:()=>{}}),h9=e=>{let t,r,a,n,l=(0,v.c)(17),{cachingEnabled:i,children:o}=e,s=void 0===i||i,u=(0,b.usePathname)(),d=(0,b.useRouter)(),f=(0,c.useRef)(!1),p;l[0]!==d?(p=()=>{d.refresh()},l[0]=d,l[1]=p):p=l[1];let m=p,g;l[2]===Symbol.for("react.memo_cache_sentinel")?(g=()=>{let e=()=>{f.current=!0};return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}},l[2]=g):g=l[2],l[3]!==d?(t=[d],l[3]=d,l[4]=t):t=l[4],(0,c.useEffect)(g,t),l[5]!==s||l[6]!==m?(r=e=>{(s||f.current)&&(f.current=!1,m())},l[5]=s,l[6]=m,l[7]=r):r=l[7];let y=id(r),x;return l[8]!==y||l[9]!==u?(x=()=>{y(u)},l[8]=y,l[9]=u,l[10]=x):x=l[10],l[11]!==u?(a=[u],l[11]=u,l[12]=a):a=l[12],(0,c.useEffect)(x,a),l[13]!==s||l[14]!==o||l[15]!==m?(n=(0,h.jsx)(h8,{value:{cachingEnabled:s,clearRouteCache:m},children:o}),l[13]=s,l[14]=o,l[15]=m,l[16]=n):n=l[16],n},h7=()=>(0,c.use)(h8),me=e=>{let{type:t="submit",buttonId:r,children:a,disabled:n,onClick:l,programmaticSubmit:i,ref:o}=e,s=ai(),c=ao(),u=ac(),{disabled:d,submit:f}=ar();return(0,h.jsx)("div",{className:"form-submit",children:(0,h.jsx)(na,{ref:o,...e,disabled:!!(n||u||s||c||d)||void 0,id:r,onClick:l??(i?()=>{f()}:void 0),type:t,children:a})})},mt="drawer-action-header",mr=e=>{let t=(0,v.c)(10),{cancelLabel:r,className:a,onCancel:n,onSave:l,saveLabel:i,title:o}=e,{t:s}=(0,f.d)(),c;t[0]!==a?(c=[mt,a].filter(Boolean),t[0]=a,t[1]=c):c=t[1];let u=c.join(" "),d;return t[2]!==r||t[3]!==n||t[4]!==l||t[5]!==i||t[6]!==s||t[7]!==u||t[8]!==o?(d=(0,h.jsx)("div",{className:u,children:(0,h.jsxs)("div",{className:`${mt}__content`,children:[(0,h.jsx)("h1",{className:`${mt}__title`,children:o}),(0,h.jsxs)("div",{className:`${mt}__actions`,children:[(0,h.jsx)(na,{"aria-label":s("general:cancel"),buttonStyle:"secondary",onClick:n,children:r||s("general:cancel")}),(0,h.jsx)(me,{"aria-label":s("general:applyChanges"),onClick:l,children:i||s("general:applyChanges")})]})]})}),t[2]=r,t[3]=n,t[4]=l,t[5]=i,t[6]=s,t[7]=u,t[8]=o,t[9]=d):d=t[9],d};function ma({children:e,className:t}){return(0,h.jsx)("div",{className:["drawer-content-container",t].filter(Boolean).join(" "),children:e})}var mn="create-new-doc-in-folder";function ml(e){let t,r=(0,v.c)(22),{buttonLabel:a,collectionSlugs:n,folderAssignedCollections:l,onCreateSuccess:i,slugPrefix:o}=e,s=`${o}-new-doc-in-folder-drawer`,{i18n:u}=(0,f.d)(),{closeModal:p,openModal:g}=le(),{config:b}=(0,d.b)(),{folderCollectionConfig:y,folderCollectionSlug:x,folderFieldName:w,folderID:j}=h4(),C;r[0]!==x?(C={collectionSlug:x},r[0]=x,r[1]=C):C=r[1];let[S,,$]=fI(C),{closeDrawer:_,openDrawer:k}=$,[E,N]=c.default.useState(),P;r[2]!==n||r[3]!==b?(P=()=>n.reduce((e,t)=>{let r=b.collections.find(e=>{let{slug:r}=e;return r===t});return r&&e.push(r),e},[]),r[2]=n,r[3]=b,r[4]=P):P=r[4];let[D]=c.default.useState(P);return 0===D.length?null:(r[5]!==S||r[6]!==a||r[7]!==_||r[8]!==p||r[9]!==n||r[10]!==E||r[11]!==D||r[12]!==l||r[13]!==y.slug||r[14]!==w||r[15]!==j||r[16]!==u||r[17]!==s||r[18]!==i||r[19]!==k||r[20]!==g?(t=(0,h.jsxs)(c.default.Fragment,{children:[1===D.length?(0,h.jsx)(na,{buttonStyle:"pill",className:`${mn}__button`,el:"div",onClick:()=>{D[0].slug===y.slug?k():(N(D[0].slug),g(s))},size:"small",children:a}):(0,h.jsx)(a7,{button:(0,h.jsx)(na,{buttonStyle:"pill",className:`${mn}__popup-button`,el:"div",icon:"chevron",size:"small",children:a}),buttonType:"default",className:`${mn}__action-popup`,children:(0,h.jsx)(aK.ButtonGroup,{children:D.map((e,t)=>(0,h.jsx)(aK.Button,{onClick:()=>{e.slug===y.slug?k():(N(e.slug),g(s))},children:m(e.labels.singular,u)},t))})}),E&&(0,h.jsx)(fA,{collectionSlug:E,drawerSlug:s,initialData:{[w]:j},onSave:async e=>{let{doc:t}=e;await i({collectionSlug:E,doc:t}),p(s)},redirectAfterCreate:!1}),n.includes(y.slug)&&(0,h.jsx)(S,{initialData:{[w]:j,folderType:E?l||[E]:l},onSave:async e=>{await i({collectionSlug:y.slug,doc:e.doc}),_()},redirectAfterCreate:!1})]}),r[5]=S,r[6]=a,r[7]=_,r[8]=p,r[9]=n,r[10]=E,r[11]=D,r[12]=l,r[13]=y.slug,r[14]=w,r[15]=j,r[16]=u,r[17]=s,r[18]=i,r[19]=k,r[20]=g,r[21]=t):t=r[21],t)}var mi="no-results";function mo({Actions:e,Message:t}){return(0,h.jsxs)("div",{className:mi,children:[t,e&&e.length>0&&(0,h.jsx)("div",{className:`${mi}__actions`,children:e.map((e,t)=>(0,h.jsx)(c.default.Fragment,{children:e},t))})]})}var ms=({elements:e,translationString:t})=>{let r=t.split(/(<[^>]+>.*?<\/[^>]+>)/g);return(0,h.jsx)("span",{children:r.map((t,r)=>{if(e&&t.startsWith("<")&&t.endsWith(">")){let a=t[1],n=e[a];if(n){let e=RegExp(`<${a}>(.*?)</${a}>`,"g"),l=t.replace(e,(e,t)=>t);return(0,h.jsx)(n,{children:(0,h.jsx)(ms,{translationString:l})},r)}}return t})})},mc=({elements:e,i18nKey:t,t:r,variables:a})=>{let n=r(t,a||{});return e?(0,h.jsx)(ms,{elements:e,translationString:n}):n},mu="folderBreadcrumbs";function md({breadcrumbs:e,className:t}){return(0,h.jsx)("div",{className:`${mu} ${t||""}`.trim(),children:e?.map((t,r)=>(0,h.jsxs)("div",{className:`${mu}__crumb`,children:[t.onClick?(0,h.jsx)(mf,{className:`${mu}__crumb-item`,id:t.id,onClick:t.onClick,children:t.name}):t.name,e.length>0&&r!==e.length-1&&(0,h.jsx)(az,{className:`${mu}__crumb-chevron`,direction:"right"})]},r))})}function mf(e){let t,r=(0,v.c)(13),{id:a,children:n,className:l,onClick:i}=e,o=`folder-${a}`,s;r[0]!==a?(s={id:a,type:"folder"},r[0]=a,r[1]=s):s=r[1],r[2]!==o||r[3]!==s?(t={id:o,data:s},r[2]=o,r[3]=s,r[4]=t):t=r[4];let{isOver:c,setNodeRef:u}=tv(t),d=c&&"droppable-button--hover",f;r[5]!==l||r[6]!==d?(f=["droppable-button",l,d].filter(Boolean),r[5]=l,r[6]=d,r[7]=f):f=r[7];let p=f.join(" "),m;return r[8]!==n||r[9]!==i||r[10]!==u||r[11]!==p?(m=(0,h.jsx)("button",{className:p,onClick:i,ref:u,type:"button",children:n}),r[8]=n,r[9]=i,r[10]=u,r[11]=p,r[12]=m):m=r[12],m}function mp(){return(0,h.jsx)(h2,{className:"colored-folder-icon"})}var mh="move-folder-drawer",mm="move-folder-drawer-confirm-move";function mg(e){return(0,h.jsx)(ir,{gutter:!1,Header:null,slug:e.drawerSlug,children:(0,h.jsx)(mb,{...e})})}function mb(e){let{permissions:t}=ig(),[r,a]=c.default.useState([]),[n,l]=c.default.useState([]),[i,o]=c.default.useState([]),[s,u]=c.default.useState(null),[d,f]=c.default.useState(!1),[p,m]=c.default.useState(e.fromFolderID||null),g=c.default.useRef(!1),{getFolderResultsComponentAndData:b}=fs(),v=c.default.useCallback(async t=>{try{let r=await b({browseByFolder:!1,collectionsToDisplay:[e.folderCollectionSlug],displayAs:"grid",folderAssignedCollections:e.folderAssignedCollections,folderID:t,sort:"name"});o(r.breadcrumbs||[]),a(r?.subfolders||[]),l(r?.documents||[]),u(r.FolderResultsComponent||null),m(t),f(!0)}catch{o([]),a([]),l([])}g.current=!0},[b,e.folderAssignedCollections,e.folderCollectionSlug]);return c.default.useEffect(()=>{g.current||v(e.fromFolderID)},[v,e.fromFolderID]),d?(0,h.jsx)(h5,{allCollectionFolderSlugs:[e.folderCollectionSlug],allowCreateCollectionSlugs:t.collections[e.folderCollectionSlug]?.create?[e.folderCollectionSlug]:[],allowMultiSelection:!1,breadcrumbs:i,documents:n,folderFieldName:e.folderFieldName,folderID:p,FolderResultsComponent:s,onItemClick:async e=>{await v(e.value.id)},subfolders:r,children:(0,h.jsx)(mv,{...e,populateMoveToFolderDrawer:v})},p):(0,h.jsx)(fS,{})}function mv(e){let t,r,a,n,l=(0,v.c)(34),{drawerSlug:i,fromFolderID:o,fromFolderName:s,itemsToMove:u,onConfirm:d,populateMoveToFolderDrawer:p,skipConfirmModal:g,...b}=e,{clearRouteCache:y}=h7(),{closeModal:x,isModalOpen:w,openModal:j}=le(),C;l[0]!==u?(C=()=>u.length,l[0]=u,l[1]=C):C=l[1];let[S]=c.default.useState(C),[$,_]=c.default.useState(!1),{i18n:k,t:E}=(0,f.d)(),{breadcrumbs:N,folderCollectionConfig:P,folderCollectionSlug:D,folderFieldName:T,folderID:O,FolderResultsComponent:R,folderType:A,getSelectedItems:I,subfolders:M}=h4(),L;l[2]!==D?(L={collectionSlug:D},l[2]=D,l[3]=L):L=l[3];let[F,,B]=fI(L),{closeDrawer:z,openDrawer:U}=B,V;l[4]!==N||l[5]!==I?(V=()=>{let e=I();if(0!==e.length)return{id:e[0].value.id,name:e[0].value._folderOrDocumentTitle};{let e=N?.[N.length-1];return{id:e?.id||null,name:e?.name||null}}},l[4]=N,l[5]=I,l[6]=V):V=l[6];let H=V,q;l[7]!==D||l[8]!==O||l[9]!==o||l[10]!==p?(q=async e=>{let{collectionSlug:t,doc:r}=e;await p(O),t===D&&(r?.folder&&o===rw(r?.folder)||!o&&!r?.folder)&&_(!0)},l[7]=D,l[8]=O,l[9]=o,l[10]=p,l[11]=q):q=l[11];let K=q,W;l[12]!==H||l[13]!==d?(W=()=>{"function"==typeof d&&d(H())},l[12]=H,l[13]=d,l[14]=W):W=l[14];let G=W,Y,X;return l[15]!==y||l[16]!==i||l[17]!==$||l[18]!==w?(Y=()=>{!w(i)&&$&&(_(!1),y())},X=[i,w,y,$],l[15]=y,l[16]=i,l[17]=$,l[18]=w,l[19]=Y,l[20]=X):(Y=l[19],X=l[20]),c.default.useEffect(Y,X),l[21]!==x||l[22]!==i?(t=()=>{x(i)},l[21]=x,l[22]=i,l[23]=t):t=l[23],l[24]!==G||l[25]!==j||l[26]!==g?(r=()=>{g?G():j(mm)},l[24]=G,l[25]=j,l[26]=g,l[27]=r):r=l[27],l[28]!==N.length||l[29]!==p?(a=N.length?()=>{p(null)}:void 0,l[28]=N.length,l[29]=p,l[30]=a):a=l[30],l[31]!==N.length||l[32]!==p?(n=(e,t)=>({id:e.id,name:e.name,onClick:t!==N.length-1?()=>{p(e.id)}:void 0}),l[31]=N.length,l[32]=p,l[33]=n):n=l[33],(0,h.jsxs)("div",{className:mh,children:[(0,h.jsx)(mr,{onCancel:t,onSave:r,saveLabel:E("general:select"),title:(0,h.jsx)(my,{action:b.action,count:S,fromFolderName:o?s:void 0,title:"moveItemToFolder"===b.action?b.title:void 0})}),(0,h.jsxs)("div",{className:`${mh}__breadcrumbs-section`,children:[(0,h.jsx)(md,{breadcrumbs:[{id:null,name:(0,h.jsxs)("span",{className:`${mh}__folder-breadcrumbs-root`,children:[(0,h.jsx)(mp,{}),E("folder:folders")]}),onClick:a},...N.map(n)]}),M.length>0&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(na,{buttonStyle:"pill",className:`${mh}__add-folder-button`,margin:!1,onClick:()=>{U()},children:E("fields:addLabel",{label:m(P.labels?.singular,k)})}),(0,h.jsx)(F,{initialData:{[T]:O,folderType:A},onSave:e=>{K({collectionSlug:P.slug,doc:e.doc}),z()},redirectAfterCreate:!1})]})]}),(0,h.jsx)(ma,{className:`${mh}__body-section`,children:M.length>0?R:(0,h.jsx)(mo,{Actions:[(0,h.jsx)(ml,{buttonLabel:`${E("general:create")} ${m(P.labels?.singular,k).toLowerCase()}`,collectionSlugs:[D],folderAssignedCollections:b.folderAssignedCollections,onCreateSuccess:K,slugPrefix:"create-new-folder-from-drawer--no-results"},"create-folder")],Message:(0,h.jsx)("p",{children:k.t("general:noResults",{label:`${m(P.labels?.plural,k)}`})})})}),!g&&(0,h.jsx)(is,{body:(0,h.jsx)(mx,{action:b.action,count:S,fromFolderName:s,title:"moveItemToFolder"===b.action?b.title:void 0,toFolderName:H().name}),confirmingLabel:E("general:moving"),confirmLabel:E("general:move"),heading:E("general:confirmMove"),modalSlug:mm,onConfirm:G})]})}function my(e){let t=(0,v.c)(14),{t:r}=(0,f.d)();switch(e.action){case"moveItemToFolder":if(e.fromFolderName){let a;return t[0]!==e.fromFolderName||t[1]!==e.title||t[2]!==r?(a=r("folder:movingFromFolder",{fromFolder:e.fromFolderName,title:e.title}),t[0]=e.fromFolderName,t[1]=e.title,t[2]=r,t[3]=a):a=t[3],a}{let a;return t[4]!==e.title||t[5]!==r?(a=r("folder:selectFolderForItem",{title:e.title}),t[4]=e.title,t[5]=r,t[6]=a):a=t[6],a}case"moveItemsToFolder":if(e.fromFolderName){let a=`${e.count} ${r(e.count>1?"general:items":"general:item")}`,n;return t[7]!==e.fromFolderName||t[8]!==r||t[9]!==a?(n=r("folder:movingFromFolder",{fromFolder:e.fromFolderName,title:a}),t[7]=e.fromFolderName,t[8]=r,t[9]=a,t[10]=n):n=t[10],n}{let a=`${e.count} ${r(e.count>1?"general:items":"general:item")}`,n;return t[11]!==r||t[12]!==a?(n=r("folder:selectFolderForItem",{title:a}),t[11]=r,t[12]=a,t[13]=n):n=t[13],n}}}function mx(e){let t=(0,v.c)(14),{t:r}=(0,f.d)();switch(e.action){case"moveItemToFolder":if(e.toFolderName){let a;return t[0]!==e.title||t[1]!==e.toFolderName||t[2]!==r?(a=(0,h.jsx)(mc,{elements:{1:m_,2:m$},i18nKey:"folder:moveItemToFolderConfirmation",t:r,variables:{title:e.title,toFolder:e.toFolderName}}),t[0]=e.title,t[1]=e.toFolderName,t[2]=r,t[3]=a):a=t[3],a}{let a;return t[4]!==e.title||t[5]!==r?(a=(0,h.jsx)(mc,{elements:{1:mS},i18nKey:"folder:moveItemToRootConfirmation",t:r,variables:{title:e.title}}),t[4]=e.title,t[5]=r,t[6]=a):a=t[6],a}case"moveItemsToFolder":if(e.toFolderName){let a;return t[7]!==e.count||t[8]!==e.toFolderName||t[9]!==r?(a=(0,h.jsx)(mc,{elements:{1:mC,2:mj},i18nKey:"folder:moveItemsToFolderConfirmation",t:r,variables:{count:e.count,label:r(e.count>1?"general:items":"general:item"),toFolder:e.toFolderName}}),t[7]=e.count,t[8]=e.toFolderName,t[9]=r,t[10]=a):a=t[10],a}{let a;return t[11]!==e.count||t[12]!==r?(a=(0,h.jsx)(mc,{elements:{1:mw},i18nKey:"folder:moveItemsToRootConfirmation",t:r,variables:{count:e.count,label:r(e.count>1?"general:items":"general:item")}}),t[11]=e.count,t[12]=r,t[13]=a):a=t[13],a}}}function mw(e){let{children:t}=e;return(0,h.jsx)("strong",{children:t})}function mj(e){let{children:t}=e;return(0,h.jsx)("strong",{children:t})}function mC(e){let{children:t}=e;return(0,h.jsx)("strong",{children:t})}function mS(e){let{children:t}=e;return(0,h.jsx)("strong",{children:t})}function m$(e){let{children:t}=e;return(0,h.jsx)("strong",{children:t})}function m_(e){let{children:t}=e;return(0,h.jsx)("strong",{children:t})}function mk(e){let t=(0,v.c)(29),{buttonProps:r,className:a,folderCollectionSlug:n,folderFieldName:l}=e,i=void 0===a?"":a,{t:o}=(0,f.d)(),s=au(mE),u;t[0]!==l?(u=e=>{let[t]=e;return t&&t?.[l]||null},t[0]=l,t[1]=u):u=t[1];let p=au(u),m=p?.value,{id:g,collectionSlug:b,initialData:y,title:x}=o$(),{setModified:w}=ar(),j;t[2]!==o?(j=()=>`${o("general:loading")}...`,t[2]=o,t[3]=j):j=t[3];let[C,S]=c.default.useState(j),{config:$}=(0,d.b)(),_=(0,c.useId)(),k,E;t[4]!==$.routes.api||t[5]!==n||t[6]!==m||t[7]!==o?(k=()=>{!async function(){if(m&&("string"==typeof m||"number"==typeof m)){let e=await (await fetch(`${$.routes.api}/${n}/${m}`)).json();S(e?.name||o("folder:noFolder"))}else S(o("folder:noFolder"))}()},E=[n,$.routes.api,m,o],t[4]=$.routes.api,t[5]=n,t[6]=m,t[7]=o,t[8]=k,t[9]=E):(k=t[8],E=t[9]),c.default.useEffect(k,E);let N=`move-to-folder-${_}`,P;t[10]!==p||t[11]!==s||t[12]!==l||t[13]!==w?(P=e=>{let{id:t}=e;p.value!==t&&(s({type:"UPDATE",path:l,value:t}),w(!0))},t[10]=p,t[11]=s,t[12]=l,t[13]=w,t[14]=P):P=t[14];let D=!p?.value,T;return t[15]!==r||t[16]!==i||t[17]!==b||t[18]!==n||t[19]!==l||t[20]!==m||t[21]!==C||t[22]!==g||t[23]!==y||t[24]!==N||t[25]!==P||t[26]!==D||t[27]!==x?(T=(0,h.jsx)(mN,{buttonProps:r,className:i,collectionSlug:b,docData:y,docID:g,docTitle:x,folderCollectionSlug:n,folderFieldName:l,fromFolderID:m,fromFolderName:C,modalSlug:N,onConfirm:P,skipConfirmModal:D}),t[15]=r,t[16]=i,t[17]=b,t[18]=n,t[19]=l,t[20]=m,t[21]=C,t[22]=g,t[23]=y,t[24]=N,t[25]=P,t[26]=D,t[27]=x,t[28]=T):T=t[28],T}function mE(e){let[,t]=e;return t}var mN=e=>{let t=(0,v.c)(22),{buttonProps:r,className:a,collectionSlug:n,docData:l,docID:i,docTitle:o,folderCollectionSlug:s,folderFieldName:c,fromFolderID:u,fromFolderName:p,modalSlug:g,onConfirm:b,skipConfirmModal:y}=e,{getEntityConfig:x}=(0,d.b)(),{i18n:w,t:j}=(0,f.d)(),{closeModal:C,openModal:S}=le(),$=ii(),_;if(t[0]!==r||t[1]!==a||t[2]!==C||t[3]!==n||t[4]!==l||t[5]!==i||t[6]!==o||t[7]!==$||t[8]!==s||t[9]!==c||t[10]!==u||t[11]!==p||t[12]!==x||t[13]!==w||t[14]!==g||t[15]!==b||t[16]!==S||t[17]!==y||t[18]!==j){let e=ie({slug:g,depth:$}),d=o||m(x({collectionSlug:n}).labels.singular,w),f;t[20]!==a?(f=["move-doc-to-folder",a].filter(Boolean),t[20]=a,t[21]=f):f=t[21],_=(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(na,{buttonStyle:"subtle",className:f.join(" "),icon:(0,h.jsx)(h2,{}),iconPosition:"left",onClick:()=>{S(e)},...r,children:p}),(0,h.jsx)(mg,{action:"moveItemToFolder",drawerSlug:e,folderAssignedCollections:[n],folderCollectionSlug:s,folderFieldName:c,fromFolderID:u,fromFolderName:p,itemsToMove:[{itemKey:`${n}-${i}`,relationTo:n,value:{...l,id:i}}],onConfirm:async t=>{if(u!==t.id&&"function"==typeof b)try{await b(t),t.id?a_.success(j("folder:itemHasBeenMoved",{folderName:`"${t.name}"`,title:d})):a_.success(j("folder:itemHasBeenMovedToRoot",{title:d}))}catch(e){}C(e)},skipConfirmModal:y,title:d})]}),t[0]=r,t[1]=a,t[2]=C,t[3]=n,t[4]=l,t[5]=i,t[6]=o,t[7]=$,t[8]=s,t[9]=c,t[10]=u,t[11]=p,t[12]=x,t[13]=w,t[14]=g,t[15]=b,t[16]=S,t[17]=y,t[18]=j,t[19]=_}else _=t[19];return _},mP={x:0,y:0,width:0,height:0,unit:"px"},mD=(e,t,r)=>Math.min(Math.max(e,t),r),mT=(e,t)=>e===t||e.width===t.width&&e.height===t.height&&e.x===t.x&&e.y===t.y&&e.unit===t.unit;function mO(e,t,r){return"%"===e.unit?{...mP,...e,unit:"%"}:{unit:"%",x:e.x?e.x/t*100:0,y:e.y?e.y/r*100:0,width:e.width?e.width/t*100:0,height:e.height?e.height/r*100:0}}function mR(e,t,r){return e.unit?"px"===e.unit?{...mP,...e,unit:"px"}:{unit:"px",x:e.x?e.x*t/100:0,y:e.y?e.y*r/100:0,width:e.width?e.width*t/100:0,height:e.height?e.height*r/100:0}:{...mP,...e,unit:"px"}}function mA(e,t,r,a,n,l=0,i=0,o=a,s=n){let c={...e},u=Math.min(l,a),d=Math.min(i,n),f=Math.min(o,a),p=Math.min(s,n);t&&(t>1?(d=(u=i?i*t:u)/t,f=o*t):(u=(d=l?l/t:d)*t,p=s/t)),c.y<0&&(c.height=Math.max(c.height+c.y,d),c.y=0),c.x<0&&(c.width=Math.max(c.width+c.x,u),c.x=0);let h=a-(c.x+c.width);h<0&&(c.x=Math.min(c.x,a-u),c.width+=h);let m=n-(c.y+c.height);if(m<0&&(c.y=Math.min(c.y,n-d),c.height+=m),c.width<u&&(("sw"===r||"nw"==r)&&(c.x-=u-c.width),c.width=u),c.height<d&&(("nw"===r||"ne"==r)&&(c.y-=d-c.height),c.height=d),c.width>f&&(("sw"===r||"nw"==r)&&(c.x-=f-c.width),c.width=f),c.height>p&&(("nw"===r||"ne"==r)&&(c.y-=p-c.height),c.height=p),t){let e=c.width/c.height;if(e<t){let e=Math.max(c.width/t,d);("nw"===r||"ne"==r)&&(c.y-=e-c.height),c.height=e}else if(e>t){let e=Math.max(c.height*t,u);("sw"===r||"nw"==r)&&(c.x-=e-c.width),c.width=e}}return c}var mI={capture:!0,passive:!1},mM=class e extends c.PureComponent{constructor(){super(...arguments),this.docMoveBound=!1,this.mouseDownOnCrop=!1,this.dragStarted=!1,this.evData={startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0},this.componentRef=(0,c.createRef)(),this.mediaRef=(0,c.createRef)(),this.initChangeCalled=!1,this.state={cropIsActive:!1,newCropIsBeingDrawn:!1},this.onCropPointerDown=e=>{let{crop:t,disabled:r}=this.props,a=this.getBox();if(!t)return;let n=mR(t,a.width,a.height);if(r)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});let l=e.target.dataset.ord,i=e.clientX,o=e.clientY,s=n.x,c=n.y;if(l){let t=e.clientX-a.x,r=e.clientY-a.y,u=0,d=0;"ne"===l||"e"==l?(u=t-(n.x+n.width),d=r-n.y,s=n.x,c=n.y+n.height):"se"===l||"s"===l?(u=t-(n.x+n.width),d=r-(n.y+n.height),s=n.x,c=n.y):"sw"===l||"w"==l?(u=t-n.x,d=r-(n.y+n.height),s=n.x+n.width,c=n.y):("nw"===l||"n"==l)&&(u=t-n.x,d=r-n.y,s=n.x+n.width,c=n.y+n.height),i=s+a.x+u,o=c+a.y+d}this.evData={startClientX:i,startClientY:o,startCropX:s,startCropY:c,clientX:e.clientX,clientY:e.clientY,isResize:!!l,ord:l},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})},this.onComponentPointerDown=e=>{let{crop:t,disabled:r,locked:a,keepSelection:n,onChange:l}=this.props,i=this.getBox();if(r||a||n&&t)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});let o=e.clientX-i.x,s=e.clientY-i.y,c={unit:"px",x:o,y:s,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:o,startCropY:s,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,l(mR(c,i.width,i.height),mO(c,i.width,i.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})},this.onDocPointerMove=e=>{let t,{crop:r,disabled:a,onChange:n,onDragStart:l}=this.props,i=this.getBox();if(a||!r||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,l&&l(e));let{evData:o}=this;o.clientX=e.clientX,o.clientY=e.clientY,mT(r,t=o.isResize?this.resizeCrop():this.dragCrop())||n(mR(t,i.width,i.height),mO(t,i.width,i.height))},this.onComponentKeyDown=t=>{let{crop:r,disabled:a,onChange:n,onComplete:l}=this.props;if(a)return;let i=t.key,o=!1;if(!r)return;let s=this.getBox(),c=this.makePixelCrop(s),u=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?e.nudgeStepLarge:t.shiftKey?e.nudgeStepMedium:e.nudgeStep;if("ArrowLeft"===i?(c.x-=u,o=!0):"ArrowRight"===i?(c.x+=u,o=!0):"ArrowUp"===i?(c.y-=u,o=!0):"ArrowDown"===i&&(c.y+=u,o=!0),o){t.cancelable&&t.preventDefault(),c.x=mD(c.x,0,s.width-c.width),c.y=mD(c.y,0,s.height-c.height);let e=mR(c,s.width,s.height),r=mO(c,s.width,s.height);n(e,r),l&&l(e,r)}},this.onHandlerKeyDown=(t,r)=>{var a,n;let l,{aspect:i=0,crop:o,disabled:s,minWidth:c=0,minHeight:u=0,maxWidth:d,maxHeight:f,onChange:p,onComplete:h}=this.props,m=this.getBox();if(s||!o||"ArrowUp"!==t.key&&"ArrowDown"!==t.key&&"ArrowLeft"!==t.key&&"ArrowRight"!==t.key)return;t.stopPropagation(),t.preventDefault();let g=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?e.nudgeStepLarge:t.shiftKey?e.nudgeStepMedium:e.nudgeStep,b=mA((a=mR(o,m.width,m.height),n=t.key,l={...a},"ArrowLeft"===n?"nw"===r?(l.x-=g,l.y-=g,l.width+=g,l.height+=g):"w"===r?(l.x-=g,l.width+=g):"sw"===r?(l.x-=g,l.width+=g,l.height+=g):"ne"===r?(l.y+=g,l.width-=g,l.height-=g):"e"===r?l.width-=g:"se"===r&&(l.width-=g,l.height-=g):"ArrowRight"===n&&("nw"===r?(l.x+=g,l.y+=g,l.width-=g,l.height-=g):"w"===r?(l.x+=g,l.width-=g):"sw"===r?(l.x+=g,l.width-=g,l.height-=g):"ne"===r?(l.y-=g,l.width+=g,l.height+=g):"e"===r?l.width+=g:"se"===r&&(l.width+=g,l.height+=g)),"ArrowUp"===n?"nw"===r?(l.x-=g,l.y-=g,l.width+=g,l.height+=g):"n"===r?(l.y-=g,l.height+=g):"ne"===r?(l.y-=g,l.width+=g,l.height+=g):"sw"===r?(l.x+=g,l.width-=g,l.height-=g):"s"===r?l.height-=g:"se"===r&&(l.width-=g,l.height-=g):"ArrowDown"===n&&("nw"===r?(l.x+=g,l.y+=g,l.width-=g,l.height-=g):"n"===r?(l.y+=g,l.height-=g):"ne"===r?(l.y+=g,l.width-=g,l.height-=g):"sw"===r?(l.x-=g,l.width+=g,l.height+=g):"s"===r?l.height+=g:"se"===r&&(l.width+=g,l.height+=g)),l),i,r,m.width,m.height,c,u,d,f);if(!mT(o,b)){let e=mO(b,m.width,m.height);p(b,e),h&&h(b,e)}},this.onDocPointerDone=e=>{let{crop:t,disabled:r,onComplete:a,onDragEnd:n}=this.props,l=this.getBox();this.unbindDocMove(),!(r||!t)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,n&&n(e),a&&a(mR(t,l.width,l.height),mO(t,l.width,l.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))},this.onDragFocus=e=>{var t;null==(t=this.componentRef.current)||t.scrollTo(0,0)}}get document(){return document}getBox(){let e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};let{x:t,y:r,width:a,height:n}=e.getBoundingClientRect();return{x:t,y:r,width:a,height:n}}componentDidUpdate(e){let{crop:t,onComplete:r}=this.props;if(r&&!e.crop&&t){let{width:e,height:a}=this.getBox();e&&a&&r(mR(t,e,a),mO(t,e,a))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,mI),this.document.addEventListener("pointerup",this.onDocPointerDone,mI),this.document.addEventListener("pointercancel",this.onDocPointerDone,mI),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,mI),this.document.removeEventListener("pointerup",this.onDocPointerDone,mI),this.document.removeEventListener("pointercancel",this.onDocPointerDone,mI),this.docMoveBound=!1)}getCropStyle(){let{crop:e}=this.props;if(e)return{top:`${e.y}${e.unit}`,left:`${e.x}${e.unit}`,width:`${e.width}${e.unit}`,height:`${e.height}${e.unit}`}}dragCrop(){let{evData:e}=this,t=this.getBox(),r=this.makePixelCrop(t),a=e.clientX-e.startClientX,n=e.clientY-e.startClientY;return r.x=mD(e.startCropX+a,0,t.width-r.width),r.y=mD(e.startCropY+n,0,t.height-r.height),r}getPointRegion(e,t,r,a){let{evData:n}=this,l=n.clientX-e.x,i=n.clientY-e.y,o;return o=a&&t?"nw"===t||"n"===t||"ne"===t:i<n.startCropY,(r&&t?"nw"===t||"w"===t||"sw"===t:l<n.startCropX)?o?"nw":"sw":o?"ne":"se"}resolveMinDimensions(e,t,r=0,a=0){let n=Math.min(r,e.width),l=Math.min(a,e.height);return t&&(n||l)?t>1?n?[n,n/t]:[l*t,l]:l?[l*t,l]:[n,n/t]:[n,l]}resizeCrop(){let{evData:t}=this,{aspect:r=0,maxWidth:a,maxHeight:n}=this.props,l=this.getBox(),[i,o]=this.resolveMinDimensions(l,r,this.props.minWidth,this.props.minHeight),s=this.makePixelCrop(l),c=this.getPointRegion(l,t.ord,i,o),u=t.ord||c,d=t.clientX-t.startClientX,f=t.clientY-t.startClientY;(i&&"nw"===u||"w"===u||"sw"===u)&&(d=Math.min(d,-i)),(o&&"nw"===u||"n"===u||"ne"===u)&&(f=Math.min(f,-o));let p={unit:"px",x:0,y:0,width:0,height:0};"ne"===c?(p.x=t.startCropX,p.width=d,r?p.height=p.width/r:p.height=Math.abs(f),p.y=t.startCropY-p.height):"se"===c?(p.x=t.startCropX,p.y=t.startCropY,p.width=d,r?p.height=p.width/r:p.height=f):"sw"===c?(p.x=t.startCropX+d,p.y=t.startCropY,p.width=Math.abs(d),r?p.height=p.width/r:p.height=f):"nw"===c&&(p.x=t.startCropX+d,p.width=Math.abs(d),r?(p.height=p.width/r,p.y=t.startCropY-p.height):(p.height=Math.abs(f),p.y=t.startCropY+f));let h=mA(p,r,c,l.width,l.height,i,o,a,n);return r||e.xyOrds.indexOf(u)>-1?s=h:e.xOrds.indexOf(u)>-1?(s.x=h.x,s.width=h.width):e.yOrds.indexOf(u)>-1&&(s.y=h.y,s.height=h.height),s.x=mD(s.x,0,l.width-s.width),s.y=mD(s.y,0,l.height-s.height),s}createCropSelection(){let{ariaLabels:t=e.defaultProps.ariaLabels,disabled:r,locked:a,renderSelectionAddon:n,ruleOfThirds:l,crop:i}=this.props,o=this.getCropStyle();if(i)return c.default.createElement("div",{style:o,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":t.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!r&&!a&&c.default.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},c.default.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),c.default.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),c.default.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),c.default.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),c.default.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":t.nwDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"nw"),role:"button"}),c.default.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":t.nDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"n"),role:"button"}),c.default.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":t.neDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"ne"),role:"button"}),c.default.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":t.eDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"e"),role:"button"}),c.default.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":t.seDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"se"),role:"button"}),c.default.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":t.sDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"s"),role:"button"}),c.default.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":t.swDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"sw"),role:"button"}),c.default.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":t.wDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"w"),role:"button"})),n&&c.default.createElement("div",{className:"ReactCrop__selection-addon",onMouseDown:e=>e.stopPropagation()},n(this.state)),l&&c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),c.default.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){return mR({...mP,...this.props.crop||{}},e.width,e.height)}render(){let{aspect:e,children:t,circularCrop:r,className:a,crop:n,disabled:l,locked:i,style:o,ruleOfThirds:s}=this.props,{cropIsActive:u,newCropIsBeingDrawn:d}=this.state,f=n?this.createCropSelection():null,p=((...e)=>e.filter(e=>e&&"string"==typeof e).join(" "))("ReactCrop",a,u&&"ReactCrop--active",l&&"ReactCrop--disabled",i&&"ReactCrop--locked",d&&"ReactCrop--new-crop",n&&e&&"ReactCrop--fixed-aspect",n&&r&&"ReactCrop--circular-crop",n&&s&&"ReactCrop--rule-of-thirds",!this.dragStarted&&n&&!n.width&&!n.height&&"ReactCrop--invisible-crop",r&&"ReactCrop--no-animate");return c.default.createElement("div",{ref:this.componentRef,className:p,style:o},c.default.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},t),f)}};mM.xOrds=["e","w"],mM.yOrds=["n","s"],mM.xyOrds=["nw","ne","se","sw"],mM.nudgeStep=1,mM.nudgeStepMedium=10,mM.nudgeStepLarge=100,mM.defaultProps={ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}};var mL="edit-upload",mF=e=>{let{name:t,onChange:r,ref:a,value:n}=e;return(0,h.jsxs)("div",{className:`${mL}__input`,children:[t,(0,h.jsx)("input",{name:t,onChange:e=>r(e.target.value),ref:a,type:"number",value:n})]})},mB={height:100,unit:"%",width:100,x:0,y:0},mz=({fileName:e,fileSrc:t,imageCacheTag:r,initialCrop:a,initialFocalPoint:n,onSave:l,showCrop:i,showFocalPoint:o})=>{let{closeModal:s}=le(),{t:u}=(0,f.d)(),[d,p]=(0,c.useState)(()=>({...mB,...a||{}})),m={x:50,y:50},[g,b]=(0,c.useState)(()=>({...m,...n})),[v,y]=(0,c.useState)(!1),[x,w]=(0,c.useState)(0),[j,C]=(0,c.useState)(0),S=(0,c.useRef)(void 0),$=(0,c.useRef)(void 0),_=(0,c.useRef)(void 0),k=(0,c.useRef)(null),E=(0,c.useRef)(null),[N,P]=(0,c.useState)(!1),D=e=>{w(e.currentTarget.naturalHeight),C(e.currentTarget.naturalWidth),P(!0)},T=({dimension:e,value:t})=>{let r=parseInt(t);if("width"===e&&r>=j||"height"===e&&r>=x)return null;let a=r/("width"===e?j:x)*100;if(100===a||0===a)return null;p({...d,[e]:a})},O=({coordinate:e,value:t})=>{let r=parseInt(t);r>=0&&r<=100&&b(t=>({...t,[e]:r}))},R=c.default.useCallback(({x:e,y:t})=>{b({x:e,y:t}),y(!1)},[]),A=r?`${t}?${encodeURIComponent(r)}`:t;return(0,h.jsxs)("div",{className:mL,children:[(0,h.jsxs)("div",{className:`${mL}__header`,children:[(0,h.jsxs)("h2",{title:`${u("general:editing")} ${e}`,children:[u("general:editing")," ",e]}),(0,h.jsxs)("div",{className:`${mL}__actions`,children:[(0,h.jsx)(na,{"aria-label":u("general:cancel"),buttonStyle:"secondary",className:`${mL}__cancel`,onClick:()=>s(m3),children:u("general:cancel")}),(0,h.jsx)(na,{"aria-label":u("general:applyChanges"),buttonStyle:"primary",className:`${mL}__save`,disabled:!N,onClick:()=>{"function"==typeof l&&l({crop:d||void 0,focalPoint:g,heightInPixels:Number(k?.current?.value??x),widthInPixels:Number(E?.current?.value??j)}),s(m3)},children:u("general:applyChanges")})]})]}),(0,h.jsxs)("div",{className:`${mL}__toolWrap`,children:[(0,h.jsx)("div",{className:`${mL}__crop`,children:(0,h.jsxs)("div",{className:`${mL}__focal-wrapper`,ref:S,style:{aspectRatio:`${j/x}`},children:[i?(0,h.jsx)(mM,{className:`${mL}__reactCrop`,crop:d,onChange:(e,t)=>p(t),onComplete:()=>y(!0),renderSelectionAddon:()=>(0,h.jsx)("div",{className:`${mL}__crop-window`,ref:_}),children:(0,h.jsx)("img",{alt:u("upload:setCropArea"),onLoad:D,ref:$,src:A})}):(0,h.jsx)("img",{alt:u("upload:setFocalPoint"),onLoad:D,ref:$,src:A}),o&&(0,h.jsx)(mU,{boundsRef:i?_:$,checkBounds:!!i&&v,className:`${mL}__focalPoint`,containerRef:S,initialPosition:g,onDragEnd:R,setCheckBounds:!!i&&y,children:(0,h.jsx)(aH,{})})]})}),(i||o)&&(0,h.jsxs)("div",{className:`${mL}__sidebar`,children:[i&&(0,h.jsxs)("div",{className:`${mL}__groupWrap`,children:[(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:`${mL}__titleWrap`,children:[(0,h.jsx)("h3",{children:u("upload:crop")}),(0,h.jsx)(na,{buttonStyle:"none",className:`${mL}__reset`,onClick:()=>p({height:100,unit:"%",width:100,x:0,y:0}),children:u("general:reset")})]})}),(0,h.jsx)("span",{className:`${mL}__description`,children:u("upload:cropToolDescription")}),(0,h.jsxs)("div",{className:`${mL}__inputsWrap`,children:[(0,h.jsx)(mF,{name:`${u("upload:width")} (px)`,onChange:e=>T({dimension:"width",value:e}),ref:E,value:(d.width/100*j).toFixed(0)}),(0,h.jsx)(mF,{name:`${u("upload:height")} (px)`,onChange:e=>T({dimension:"height",value:e}),ref:k,value:(d.height/100*x).toFixed(0)})]})]}),o&&(0,h.jsxs)("div",{className:`${mL}__groupWrap`,children:[(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:`${mL}__titleWrap`,children:[(0,h.jsx)("h3",{children:u("upload:focalPoint")}),(0,h.jsx)(na,{buttonStyle:"none",className:`${mL}__reset`,onClick:()=>{let e=S.current.getBoundingClientRect(),t=i?_.current.getBoundingClientRect():$.current.getBoundingClientRect();b({x:(t.left-e.left+t.width/2)/e.width*100,y:(t.top-e.top+t.height/2)/e.height*100})},children:u("general:reset")})]})}),(0,h.jsx)("span",{className:`${mL}__description`,children:u("upload:focalPointDescription")}),(0,h.jsxs)("div",{className:`${mL}__inputsWrap`,children:[(0,h.jsx)(mF,{name:"X %",onChange:e=>O({coordinate:"x",value:e}),value:g.x.toFixed(0)}),(0,h.jsx)(mF,{name:"Y %",onChange:e=>O({coordinate:"y",value:e}),value:g.y.toFixed(0)})]})]})]})]})]})},mU=({boundsRef:e,checkBounds:t,children:r,className:a,containerRef:n,initialPosition:l={x:50,y:50},onDragEnd:i,setCheckBounds:o})=>{let[s,u]=(0,c.useState)({x:l.x,y:l.y}),[d,f]=(0,c.useState)(!1),p=(0,c.useRef)(void 0),m=c.default.useCallback((t,r,a)=>{let l=n.current.getBoundingClientRect(),i=e.current.getBoundingClientRect(),o=t??i.left,s=r??i.top,c=o<i.left||o>i.right,u=s<i.top||s>i.bottom,d=(o-l.left)/l.width*100,p=(s-l.top)/l.height*100,h=(i.left-l.left+i.width/2)/l.width*100,m=(i.top-l.top+i.height/2)/l.height*100;return(c||u)&&(f(!1),o<i.left?d=(i.left-l.left)/l.width*100:o>i.right&&(d=(l.width-(l.right-i.right))/l.width*100),s<i.top?p=(i.top-l.top)/l.height*100:s>i.bottom&&(p=(l.height-(l.bottom-i.bottom))/l.height*100),a&&(d=c?h:d,p=u?m:p)),{x:d,y:p}},[e,n]);return c.default.useEffect(()=>{if(!(d||!p.current)&&t){let{height:e,left:t,top:r,width:a}=p.current.getBoundingClientRect(),{x:n,y:l}=m(t+a/2,r+e/2,!0);i({x:n,y:l}),u({x:n,y:l}),o(!1);return}},[m,d,t,o,s.x,s.y,i]),c.default.useEffect(()=>{u({x:l.x,y:l.y})},[l.x,l.y]),(0,h.jsxs)("div",{className:[`${mL}__draggable-container`,d&&`${mL}__draggable-container--dragging`].filter(Boolean).join(" "),onMouseMove:e=>{if(!d)return null;let{x:t,y:r}=m(e.clientX,e.clientY);u({x:t,y:r})},children:[(0,h.jsx)("button",{className:[`${mL}__draggable`,a].filter(Boolean).join(" "),onMouseDown:e=>{e.preventDefault(),f(!0)},onMouseUp:()=>{f(!1),i(s)},ref:p,style:{left:`${s.x}%`,top:`${s.y}%`},type:"button",children:r}),(0,h.jsx)("div",{})]})},mV="file-details-draggable",mH=e=>{let t,r=(0,v.c)(20),{collectionSlug:a,doc:n,hideRemoveFile:l,imageCacheTag:i,isSortable:o,removeItem:s,rowIndex:c,uploadConfig:u}=e,{id:d,filename:f,thumbnailURL:p,url:m}=n,g;r[0]!==a||r[1]!==d?(g={id:d,collectionSlug:a},r[0]=a,r[1]=d,r[2]=g):g=r[2];let[b,y]=fI(g),x;return r[3]!==b||r[4]!==y||r[5]!==a||r[6]!==n||r[7]!==f||r[8]!==l||r[9]!==i||r[10]!==o||r[11]!==s||r[12]!==c||r[13]!==p||r[14]!==u||r[15]!==m?(x=e=>(0,h.jsxs)("div",{className:[mV,e&&o&&`${mV}--has-drag-handle`].filter(Boolean).join(" "),ref:e.setNodeRef,style:{transform:e.transform,transition:e.transition,zIndex:e.isDragging?1:void 0},children:[(0,h.jsxs)("div",{className:`${mV}--drag-wrapper`,children:[o&&e&&(0,h.jsx)("div",{className:`${mV}__drag`,...e.attributes,...e.listeners,children:(0,h.jsx)(oQ,{})}),(0,h.jsx)(fQ,{className:`${mV}__thumbnail`,collectionSlug:a,doc:n,fileSrc:p||m,imageCacheTag:i,uploadConfig:u})]}),(0,h.jsx)("div",{className:`${mV}__main-detail`,children:f}),(0,h.jsxs)("div",{className:`${mV}__actions`,children:[(0,h.jsx)(b,{}),(0,h.jsx)(y,{children:(0,h.jsx)(aU,{})}),!l&&s&&(0,h.jsx)(na,{buttonStyle:"icon-label",className:`${mV}__remove`,icon:"x",iconStyle:"none",onClick:()=>s(c),round:!0})]})]}),r[3]=b,r[4]=y,r[5]=a,r[6]=n,r[7]=f,r[8]=l,r[9]=i,r[10]=o,r[11]=s,r[12]=c,r[13]=p,r[14]=u,r[15]=m,r[16]=x):x=r[16],r[17]!==d||r[18]!==x?(t=(0,h.jsx)(nI,{id:d,children:x},d),r[17]=d,r[18]=x,r[19]=t):t=r[19],t},mq=e=>{let t=(0,v.c)(11),{defaultMessage:r,successMessage:a,value:n}=e,[l,i]=(0,c.useState)(!1),[o,s]=(0,c.useState)(!1),{t:u}=(0,f.d)();if(n){let e,c,d,f;return t[0]!==n?(e=async()=>{await navigator.clipboard.writeText(n),i(!0)},t[0]=n,t[1]=e):e=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{s(!0),i(!1)},d=()=>{s(!1),i(!1)},t[2]=c,t[3]=d):(c=t[2],d=t[3]),t[4]!==l||t[5]!==r||t[6]!==o||t[7]!==a||t[8]!==u||t[9]!==e?(f=(0,h.jsxs)("button",{className:"copy-to-clipboard",onClick:e,onMouseEnter:c,onMouseLeave:d,type:"button",children:[(0,h.jsx)(nc,{}),(0,h.jsxs)(ne,{delay:l?0:void 0,show:o||l,children:[l&&(a??u("general:copied")),!l&&(r??u("general:copy"))]})]}),t[4]=l,t[5]=r,t[6]=o,t[7]=a,t[8]=u,t[9]=e,t[10]=f):f=t[10],f}return null},mK="file-meta",mW=e=>{let{filename:t,filesize:r,height:a,mimeType:n,url:l,width:i}=e;return(0,h.jsxs)("div",{className:mK,children:[(0,h.jsxs)("div",{className:`${mK}__url`,children:[(0,h.jsx)("a",{href:l,rel:"noopener noreferrer",target:"_blank",children:t}),(0,h.jsx)(mq,{defaultMessage:"Copy URL",value:l})]}),(0,h.jsxs)("div",{className:`${mK}__size-type`,children:[rj(r),"number"==typeof i&&"number"==typeof a&&(0,h.jsxs)(c.default.Fragment,{children:["-",i,"x",a]}),n&&(0,h.jsxs)(c.default.Fragment,{children:["-",n]})]})]})},mG="file-details",mY=e=>{let{customUploadActions:t,doc:r,enableAdjustments:a,handleRemove:n,hasImageSizes:l,hideRemoveFile:i,imageCacheTag:o,uploadConfig:s}=e,{filename:c,filesize:u,height:d,mimeType:f,thumbnailURL:p,url:m,width:g}=r,b=s.displayPreview??!0;return(0,h.jsx)("div",{className:mG,children:(0,h.jsxs)("header",{children:[b&&(0,h.jsx)(fQ,{className:`${mG}__thumbnail`,doc:r,fileSrc:p||m,imageCacheTag:o,uploadConfig:s}),(0,h.jsxs)("div",{className:`${mG}__main-detail`,children:[(0,h.jsx)(mW,{filename:c,filesize:u,height:d,mimeType:f,url:m,width:g}),(a||l&&r.filename||t)&&(0,h.jsx)(m5,{customActions:t,enableAdjustments:!!a,enablePreviewSizes:l&&r.filename,mimeType:f})]}),!i&&n&&(0,h.jsx)(na,{buttonStyle:"icon-label",className:`${mG}__remove`,icon:"x",iconStyle:"with-border",onClick:n,round:!0})]})})},mX=e=>{let{hasMany:t}=e;return t?(0,h.jsx)(mH,{...e}):(0,h.jsx)(mY,{...e})},mQ="preview-sizes",mJ=(e,t)=>{if(!t||0===t.length)return e;let r={};return t.forEach(({name:t})=>{e[t]&&(r[t]=e[t])}),r},mZ=({name:e,active:t,meta:r,onClick:a,previewSrc:n})=>(0,h.jsxs)("div",{className:[`${mQ}__sizeOption`,t&&`${mQ}--selected`].filter(Boolean).join(" "),onClick:"function"==typeof a?a:void 0,onKeyDown:e=>{"function"==typeof a&&"Enter"===e.key&&a()},role:"button",tabIndex:0,children:[(0,h.jsx)("div",{className:`${mQ}__image`,children:(0,h.jsx)("img",{alt:r.filename,src:n})}),(0,h.jsxs)("div",{className:`${mQ}__sizeMeta`,children:[(0,h.jsx)("div",{className:`${mQ}__sizeName`,children:e}),(0,h.jsx)(mW,{...r})]})]}),m0=({doc:e,imageCacheTag:t,uploadConfig:r})=>{let{imageSizes:a}=r,{sizes:n}=e,[l,i]=(0,c.useState)(()=>mJ(n,a)),[o,s]=(0,c.useState)(null),u=e=>e.filename?e.url?`${e.url}${t?`?${encodeURIComponent(t)}`:""}`:void 0:null;(0,c.useEffect)(()=>{i(mJ(n,a))},[n,a,t]);let d=u(o?e.sizes[o]:e),f=(0,c.useMemo)(()=>({filename:e.filename,filesize:e.filesize,height:e.height,mimeType:e.mimeType,url:e.url,width:e.width}),[e]),p="Original";return(0,h.jsxs)("div",{className:mQ,children:[(0,h.jsxs)("div",{className:`${mQ}__imageWrap`,children:[(0,h.jsxs)("div",{className:`${mQ}__meta`,children:[(0,h.jsx)("div",{className:`${mQ}__sizeName`,children:o||p}),(0,h.jsx)(mW,{...o?l[o]:f})]}),(0,h.jsx)("img",{alt:e.filename,className:`${mQ}__preview`,src:d})]}),(0,h.jsx)("div",{className:`${mQ}__listWrap`,children:(0,h.jsxs)("div",{className:`${mQ}__list`,children:[(0,h.jsx)(mZ,{active:!o,meta:f,name:p,onClick:()=>s(null),previewSrc:u(e)}),Object.entries(l).map(([e,t])=>{let r=o===e,a=u(t);return a?(0,h.jsx)(mZ,{active:r,meta:t,name:e,onClick:()=>s(e),previewSrc:a},e):null})]})})]})},m1="file-field",m3="edit-upload",m2="preview-sizes",m6=e=>e||void 0===e?!e||!!e.name&&""!==e.name||"A file name is required.":"A file is required.",m5=e=>{let t=(0,v.c)(8),{customActions:r,enableAdjustments:a,enablePreviewSizes:n,mimeType:l}=e,{t:i}=(0,f.d)(),{openModal:o}=le(),s,u;if(t[0]!==r||t[1]!==a||t[2]!==n||t[3]!==l||t[4]!==o||t[5]!==i){u=Symbol.for("react.early_return_sentinel");e:{let e=rc(l)&&"image/svg+xml"!==l&&"image/jxl"!==l;if(!e&&(!r||0===r.length)){u=null;break e}s=(0,h.jsxs)("div",{className:`${m1}__upload-actions`,children:[e&&(0,h.jsxs)(c.default.Fragment,{children:[n&&(0,h.jsx)(na,{buttonStyle:"pill",className:`${m1}__previewSizes`,margin:!1,onClick:()=>{o(m2)},size:"small",children:i("upload:previewSizes")}),a&&(0,h.jsx)(na,{buttonStyle:"pill",className:`${m1}__edit`,margin:!1,onClick:()=>{o(m3)},size:"small",children:i("upload:editImage")})]}),r&&r.map(m9)]})}t[0]=r,t[1]=a,t[2]=n,t[3]=l,t[4]=o,t[5]=i,t[6]=s,t[7]=u}else s=t[6],u=t[7];return u!==Symbol.for("react.early_return_sentinel")?u:s},m4=e=>{let t=(0,v.c)(5),{resetUploadEdits:r,updateUploadEdits:a,uploadEdits:n}=oj(),l;return t[0]!==e||t[1]!==r||t[2]!==a||t[3]!==n?(l=(0,h.jsx)(hj,{children:(0,h.jsx)(m8,{...e,resetUploadEdits:r,updateUploadEdits:a,uploadEdits:n})}),t[0]=e,t[1]=r,t[2]=a,t[3]=n,t[4]=l):l=t[4],l},m8=e=>{let{collectionSlug:t,customActions:r,initialState:a,onChange:n,resetUploadEdits:l,updateUploadEdits:i,uploadConfig:o,UploadControls:s,uploadEdits:u}=e,{setUploadControlFile:p,setUploadControlFileName:m,setUploadControlFileUrl:g,uploadControlFile:b,uploadControlFileName:v,uploadControlFileUrl:y}=hC(),{config:{routes:{api:x},serverURL:w}}=(0,d.b)(),{t:j}=(0,f.d)(),{setModified:C}=ar(),{id:S,data:$,docPermissions:_,setUploadStatus:k}=o$(),E=ai(),{errorMessage:N,setValue:P,showError:D,value:T}=oR({path:"file",validate:m6}),[O,R]=(0,c.useState)(null),[A,I]=(0,c.useState)(!1),[M,L]=(0,c.useState)(T?.name||""),[F,B]=(0,c.useState)(!1),[z,U]=(0,c.useState)(""),V=(0,c.useRef)(null),H=(0,c.useRef)(null),q="object"==typeof o?.pasteURL&&o.pasteURL.allowList?.length>0,K=(0,c.useCallback)(({file:e,isNewFile:t=!0})=>{t&&e instanceof File&&R(URL.createObjectURL(e)),P(e),B(!1),g(""),m(null),p(null),"function"==typeof n&&n(e)},[n,P,p,m,g]),W=c.default.useCallback(e=>{let t=e.target.value;T&&(K({file:new File([T],t,{type:T.type,lastModified:T.lastModified}),isNewFile:!1}),L(t))},[K,T]),G=(0,c.useCallback)(e=>{K({file:e?.[0]})},[K]),Y=(0,c.useCallback)(()=>{I(!0),K({file:null}),R(""),U(""),l(),B(!1),g(""),m(null),p(null)},[K,l,p,m,g]),X=(0,c.useCallback)(e=>{C(!0),i(e)},[C,i]),Q=(0,c.useCallback)(async()=>{if(!(!z||o?.pasteURL===!1)){k("uploading");try{let e=await fetch(z);if(!e.ok)throw Error(`Fetch failed with status: ${e.status}`);let t=await e.blob(),r=v||decodeURIComponent(z.split("/").pop()||""),a=new File([t],r,{type:t.type});K({file:a}),k("idle");return}catch{if(!q){a_.error("Failed to fetch the file."),k("failed");return}}try{let e=`/${t}/paste-url${S?`/${S}?`:"?"}src=${encodeURIComponent(z)}`,r=await fetch(`${w}${x}${e}`);if(!r.ok)throw Error(`Fetch failed with status: ${r.status}`);let a=await r.blob(),n=decodeURIComponent(z.split("/").pop()||""),l=new File([a],n,{type:a.type});K({file:l}),k("idle")}catch{a_.error("The provided URL is not allowed."),k("failed")}}},[x,t,z,K,S,w,k,o,v,q]);(0,c.useEffect)(()=>{a?.file?.value instanceof File&&(R(URL.createObjectURL(a.file.value)),I(!1))},[a]),(0,c.useEffect)(()=>{F&&V.current},[F]),(0,c.useEffect)(()=>{E&&I(!1)},[E]);let J=_?.update,Z=o?.imageSizes?.length>0,ee=!!o?.resizeOptions,et=o?.focalPoint===!0,{crop:er=!0,focalPoint:ea=!0}=o,en=ea&&(Z||ee||et),el=o.mimeTypes?.join(", "),ei=o?.cacheTags&&$?.updatedAt;return(0,c.useEffect)(()=>{(async()=>{y&&(U(y),await Q())})()},[y,Q]),(0,c.useEffect)(()=>{b&&K({file:b})},[b,K]),(0,h.jsxs)("div",{className:[oF,m1].filter(Boolean).join(" "),children:[(0,h.jsx)(nU,{message:N,showError:D}),$&&$.filename&&!A&&(0,h.jsx)(mX,{collectionSlug:t,customUploadActions:r,doc:$,enableAdjustments:er||en,handleRemove:J?Y:void 0,hasImageSizes:Z,hideRemoveFile:o.hideRemoveFile,imageCacheTag:ei,uploadConfig:o}),(!o.hideFileInputOnCreate&&!$?.filename||A)&&(0,h.jsxs)("div",{className:`${m1}__upload`,children:[!T&&!F&&(0,h.jsx)(h$,{onChange:G,children:(0,h.jsxs)("div",{className:`${m1}__dropzoneContent`,children:[(0,h.jsxs)("div",{className:`${m1}__dropzoneButtons`,children:[(0,h.jsx)(na,{buttonStyle:"pill",onClick:()=>{H.current&&H.current.click()},size:"small",children:j("upload:selectFile")}),(0,h.jsx)("input",{accept:el,"aria-hidden":"true",className:`${m1}__hidden-input`,hidden:!0,onChange:e=>{e.target.files&&e.target.files.length>0&&G(e.target.files)},ref:H,type:"file"}),o?.pasteURL!==!1&&(0,h.jsxs)(c.Fragment,{children:[(0,h.jsx)("span",{className:`${m1}__orText`,children:j("general:or")}),(0,h.jsx)(na,{buttonStyle:"pill",onClick:()=>{B(!0),g(""),p(null),m(null)},size:"small",children:j("upload:pasteURL")})]}),s||null]}),(0,h.jsxs)("p",{className:`${m1}__dragAndDropText`,children:[j("general:or")," ",j("upload:dragAndDrop")]})]})}),F&&(0,h.jsxs)(c.default.Fragment,{children:[(0,h.jsxs)("div",{className:`${m1}__remote-file-wrap`,children:[(0,h.jsx)("input",{className:`${m1}__remote-file`,onChange:e=>{U(e.target.value)},ref:V,title:z,type:"text",value:z}),(0,h.jsx)("div",{className:`${m1}__add-file-wrap`,children:(0,h.jsx)("button",{className:`${m1}__add-file`,onClick:()=>{Q()},type:"button",children:j("upload:addFile")})})]}),(0,h.jsx)(na,{buttonStyle:"icon-label",className:`${m1}__remove`,icon:"x",iconStyle:"with-border",onClick:()=>{B(!1),g(""),p(null),m(null)},round:!0,tooltip:j("general:cancel")})]}),T&&O&&(0,h.jsxs)(c.default.Fragment,{children:[(0,h.jsx)("div",{className:`${m1}__thumbnail-wrap`,children:(0,h.jsx)(fQ,{collectionSlug:t,fileSrc:rc(T.type)?O:null})}),(0,h.jsxs)("div",{className:`${m1}__file-adjustments`,children:[(0,h.jsx)("input",{className:`${m1}__filename`,onChange:W,title:M||T.name,type:"text",value:M||T.name}),(0,h.jsx)(m5,{customActions:r,enableAdjustments:er||en,enablePreviewSizes:Z&&$?.filename&&!A,mimeType:T.type})]}),(0,h.jsx)(na,{buttonStyle:"icon-label",className:`${m1}__remove`,icon:"x",iconStyle:"with-border",onClick:Y,round:!0,tooltip:j("general:cancel")})]})]}),(T||$?.filename)&&(0,h.jsx)(nH,{children:(0,h.jsx)(ir,{Header:null,slug:m3,children:(0,h.jsx)(mz,{fileName:T?.name||$?.filename,fileSrc:$?.url||O,imageCacheTag:ei,initialCrop:u?.crop??void 0,initialFocalPoint:{x:u?.focalPoint?.x||$?.focalX||50,y:u?.focalPoint?.y||$?.focalY||50},onSave:X,showCrop:er,showFocalPoint:en})})}),$&&Z&&(0,h.jsx)(ir,{className:`${m1}__previewDrawer`,hoverTitle:!0,slug:m2,title:j("upload:sizesFor",{label:$.filename}),children:(0,h.jsx)(m0,{doc:$,imageCacheTag:ei,uploadConfig:o})})]})};function m9(e,t){return(0,h.jsx)(c.default.Fragment,{children:e},t)}function m7({resetUploadEdits:e,submitted:t,updateUploadEdits:r,uploadEdits:a}){let{action:n,collectionSlug:l,docPermissions:i,getDocPreferences:o,hasSavePermission:s,initialState:u,isInitializing:f,Upload:p}=o$(),{onSave:m}=fD(),{getFormState:g}=fs(),{config:{folders:b},getEntityConfig:v}=(0,d.b)(),y=c.default.useRef(null),x=v({collectionSlug:l}),{reportUpdate:w}=hJ(),j=x.slug,[C]=c.default.useState(j),S=(0,c.useCallback)(t=>{w({entitySlug:j,updatedAt:t?.result?.updatedAt||new Date().toISOString()}),"function"==typeof m&&m({...t,operation:"create"}),e()},[j,m,w,e]),$=(0,c.useCallback)(async({formState:e,submitted:t})=>{let r=fE(y),a=await o(),{state:n}=await g({collectionSlug:j,docPermissions:i,docPreferences:a,formState:e,operation:"create",schemaPath:C,signal:r.signal,skipValidation:!t});return y.current=null,n},[j,C,o,g,i]);return(0,c.useEffect)(()=>{let e=y.current;return()=>{fk(e)}},[]),(0,h.jsx)(oN,{operation:"create",children:(0,h.jsxs)(hn,{action:n,className:"collection-edit__form",disabled:f||!s,initialState:f?void 0:u,isInitializing:f,method:"POST",onChange:[$],onSuccess:S,submitted:t,children:[(0,h.jsx)(h3,{BeforeFields:(0,h.jsx)(c.default.Fragment,{children:p||(0,h.jsx)(m8,{collectionSlug:x.slug,customActions:[b&&x.folders&&(0,h.jsx)(mk,{buttonProps:{buttonStyle:"pill",size:"small"},folderCollectionSlug:b.slug,folderFieldName:b.fieldName},"move-doc-to-folder")].filter(Boolean),initialState:u,resetUploadEdits:e,updateUploadEdits:r,uploadConfig:x.upload,uploadEdits:a})}),docPermissions:i,fields:x.fields,schemaPathSegments:[x.slug]}),(0,h.jsx)(gt,{}),(0,h.jsx)(ge,{})]})})}function ge(){let e=(0,v.c)(4),{getFields:t}=ar(),{getFormDataRef:r}=hI(),a,n;return e[0]!==t||e[1]!==r?(a=()=>{r.current=t},n=[t,r],e[0]=t,e[1]=r,e[2]=a,e[3]=n):(a=e[2],n=e[3]),(0,c.useEffect)(a,n),null}function gt(){let{docConfig:e}=o$(),{activeIndex:t,setFormTotalErrorCount:r}=hI(),a=c.default.useRef(0),n=c.default.useCallback(e=>{e!==a.current&&(r({errorCount:e,index:t}),a.current=e)},[t,r]);return e?(0,h.jsx)(s_,{fields:e.fields,path:[],setErrorCount:n}):null}var gr="bulk-upload-drawer--add-more-files",ga="file-selections";function gn(){let e=(0,v.c)(39),{activeIndex:t,addFiles:r,forms:a,isInitializing:n,removeFile:l,setActiveIndex:i,totalErrorCount:o}=hI(),{initialFiles:s,initialForms:u,maxFiles:p}=gv(),{i18n:m,t:g}=(0,f.d)(),{closeModal:b,openModal:y}=le(),[x,w]=c.default.useState(!1),{breakpoints:j}=a0(),C;e[0]!==l?(C=e=>{l(e)},e[0]=l,e[1]=C):C=e[1];let S=C,$;e[2]!==r||e[3]!==b?($=e=>{r(e),b(gr)},e[2]=r,e[3]=b,e[4]=$):$=e[4];let _=$,k=n?s?.length??u?.length:a.length,{collectionSlug:E,selectableCollections:N,setCollectionSlug:P}=gv(),{getEntityConfig:D}=(0,d.b)(),T=x&&`${ga}__showingFiles`,O;e[5]!==T?(O=[ga,T].filter(Boolean),e[5]=T,e[6]=O):O=e[6];let R=O.join(" "),A;if(e[7]!==t||e[8]!==j.m||e[9]!==E||e[10]!==b||e[11]!==a||e[12]!==D||e[13]!==_||e[14]!==S||e[15]!==m||e[16]!==s||e[17]!==u||e[18]!==n||e[19]!==p||e[20]!==y||e[21]!==N||e[22]!==i||e[23]!==P||e[24]!==x||e[25]!==g||e[26]!==R||e[27]!==o||e[28]!==k){let r,l,c;e[30]===Symbol.for("react.memo_cache_sentinel")?(r=()=>w(gi),e[30]=r):r=e[30],e[31]!==b?(l=()=>b(gr),e[31]=b,e[32]=l):l=e[32],e[33]!==t||e[34]!==S||e[35]!==m||e[36]!==i||e[37]!==g?(c=(e,r)=>{let{errorCount:a,formID:n,formState:l}=e,o=l?.file?.value||{};return(0,h.jsxs)("div",{className:[`${ga}__fileRowContainer`,r===t&&`${ga}__fileRowContainer--active`,a&&a>0&&`${ga}__fileRowContainer--error`].filter(Boolean).join(" "),children:[(0,h.jsxs)("button",{className:`${ga}__fileRow`,onClick:()=>i(r),type:"button",children:[(0,h.jsx)(go,{file:o,formID:n}),(0,h.jsx)("div",{className:`${ga}__fileDetails`,children:(0,h.jsx)("p",{className:`${ga}__fileName`,title:o.name,children:o.name||g("upload:noFile")})}),o instanceof File?(0,h.jsx)("p",{className:`${ga}__fileSize`,children:function(e){let t=e.size,r=0===t?0:Math.floor(Math.log(t)/Math.log(1024));return(t/Math.pow(1024,r)).toFixed(+(r>1))+" "+["B","kB","MB","GB","TB"][r]}(o)}):null,(0,h.jsx)("div",{className:`${ga}__remove ${ga}__remove--underlay`,children:(0,h.jsx)(f.a,{})}),a?(0,h.jsx)(nF,{className:`${ga}__errorCount`,count:a,i18n:m}):null]}),(0,h.jsx)("button",{"aria-label":g("general:remove"),className:`${ga}__remove ${ga}__remove--overlay`,onClick:()=>S(r),type:"button",children:(0,h.jsx)(f.a,{})})]},n)},e[33]=t,e[34]=S,e[35]=m,e[36]=i,e[37]=g,e[38]=c):c=e[38],A=(0,h.jsxs)("div",{className:R,children:[j.m&&x?(0,h.jsx)("div",{className:`${ga}__mobileBlur`}):null,(0,h.jsxs)("div",{className:`${ga}__header`,children:[N?.length>1&&(0,h.jsx)(pX,{className:`${ga}__collectionSelect`,isClearable:!1,name:"groupBy",onChange:e=>{P("object"==typeof e&&"value"in e?e?.value:e)},options:N?.map(e=>{let t=D({collectionSlug:e});return{label:t.labels.singular,value:t.slug}})||[],path:"groupBy",required:!0,value:E}),(0,h.jsxs)("div",{className:`${ga}__headerTopRow`,children:[(0,h.jsxs)("div",{className:`${ga}__header__text`,children:[(0,h.jsx)(nF,{count:o,i18n:m,withMessage:!0}),(0,h.jsx)("p",{children:(0,h.jsxs)("strong",{title:`${k} ${g(k>1?"upload:filesToUpload":"upload:fileToUpload")}`,children:[k," ",g(k>1?"upload:filesToUpload":"upload:fileToUpload")]})})]}),(0,h.jsxs)("div",{className:`${ga}__header__actions`,children:["number"!=typeof p||k<p?(0,h.jsx)(o9,{className:`${ga}__header__addFile`,onClick:()=>y(gr),size:"small",children:g("upload:addFile")}):null,(0,h.jsxs)(na,{buttonStyle:"transparent",className:`${ga}__toggler`,onClick:r,children:[(0,h.jsx)("span",{className:`${ga}__toggler__label`,children:(0,h.jsxs)("strong",{title:`${k} ${g(k>1?"upload:filesToUpload":"upload:fileToUpload")}`,children:[k," ",g(k>1?"upload:filesToUpload":"upload:fileToUpload")]})}),(0,h.jsx)(az,{direction:x?"down":"up"})]}),(0,h.jsx)(ir,{gutter:!1,Header:null,slug:gr,children:(0,h.jsx)(hN,{onCancel:l,onDrop:_})})]})]}),(0,h.jsx)("div",{className:`${ga}__header__mobileDocActions`,children:(0,h.jsx)(hW,{})})]}),(0,h.jsx)("div",{className:`${ga}__animateWrapper`,children:(0,h.jsx)(oJ,{height:!j.m||x?"auto":0,children:(0,h.jsxs)("div",{className:`${ga}__filesContainer`,children:[n&&0===a.length&&(s?.length>0||u?.length>0)?(s?Array.from(s):u).map(gl):null,a.map(c)]})})})]}),e[7]=t,e[8]=j.m,e[9]=E,e[10]=b,e[11]=a,e[12]=D,e[13]=_,e[14]=S,e[15]=m,e[16]=s,e[17]=u,e[18]=n,e[19]=p,e[20]=y,e[21]=N,e[22]=i,e[23]=P,e[24]=x,e[25]=g,e[26]=R,e[27]=o,e[28]=k,e[29]=A}else A=e[29];return A}function gl(e,t){return(0,h.jsx)(d.e,{animationDelay:`calc(${t} * 60ms)`,height:"35px"},t)}function gi(e){return!e}function go({file:e,formID:t}){let[r,a]=c.default.useState(null),[n,l]=c.default.useState(!0);return c.default.useEffect(()=>{let t=!1;return async function(){l(!0),a(null);try{if(rc(e.type)){let r=await new Promise((t,r)=>{let a=new Image;a.src=URL.createObjectURL(e),a.onload=()=>{let n,l,i=a.width/a.height;i>1?(l=280,n=280/i):(l=280*i,n=280);let o=new OffscreenCanvas(l,n),s=o.getContext("2d"),c="image/png"===e.type?"image/png":"image/jpeg",u="image/png"===e.type?void 0:.8;s.drawImage(a,0,0,l,n),o.convertToBlob({type:c,...u&&{quality:u}}).then(e=>{URL.revokeObjectURL(a.src);let n=new FileReader;n.onload=()=>t(n.result),n.onerror=r,n.readAsDataURL(e)}).catch(r)},a.onerror=e=>{URL.revokeObjectURL(a.src),r(e)}});t||a(r)}else a(null)}catch{t||a(null)}finally{t||l(!1)}}(),()=>{t=!0}},[e]),n?(0,h.jsx)(d.e,{className:`${ga}__thumbnail-shimmer`,disableInlineStyles:!0}):(0,h.jsx)(fQ,{className:`${ga}__thumbnail`,fileSrc:r},`${t}-${r||"placeholder"}`)}var gs="bulk-upload--file-manager";function gc(){let e=(0,v.c)(18),{activeIndex:t,collectionSlug:r,docPermissions:a,documentSlots:n,forms:l,hasPublishPermission:i,hasSavePermission:o,hasSubmitted:s,resetUploadEdits:c,updateUploadEdits:u}=hI(),p=l[t],{getEntityConfig:g}=(0,d.b)(),{i18n:b}=(0,f.d)(),{user:y}=ig(),{openModal:x}=le(),w;if(e[0]!==p||e[1]!==t||e[2]!==r||e[3]!==a||e[4]!==n||e[5]!==l.length||e[6]!==g||e[7]!==i||e[8]!==o||e[9]!==s||e[10]!==b||e[11]!==x||e[12]!==c||e[13]!==u||e[14]!==y){let d=g({collectionSlug:r}),f;e[16]!==x?(f=()=>x(hG),e[16]=x,e[17]=f):f=e[17],w=(0,h.jsxs)("div",{className:gs,children:[(0,h.jsx)(gn,{}),(0,h.jsxs)("div",{className:`${gs}__editView`,children:[(0,h.jsx)(hk,{onClose:f,title:m(d.labels.singular,b)}),p?(0,h.jsxs)(ok,{collectionSlug:r,currentEditor:y,docPermissions:a,hasPublishedDoc:!1,hasPublishPermission:i,hasSavePermission:o,id:null,initialData:rv(p.formState,!0),initialState:p.formState,isLocked:!1,lastUpdateTime:0,mostRecentVersionIsAutosaved:!1,unpublishedVersionCount:0,Upload:n.Upload,versionCount:0,children:[(0,h.jsx)(hK,{collectionConfig:d}),(0,h.jsx)(m7,{resetUploadEdits:c,submitted:s,updateUploadEdits:u,uploadEdits:p?.uploadEdits})]},`${t}-${l.length}`):null]}),(0,h.jsx)(hY,{})]}),e[0]=p,e[1]=t,e[2]=r,e[3]=a,e[4]=n,e[5]=l.length,e[6]=g,e[7]=i,e[8]=o,e[9]=s,e[10]=b,e[11]=x,e[12]=c,e[13]=u,e[14]=y,e[15]=w}else w=e[15];return w}function gu(){let{addFiles:e,forms:t,isInitializing:r}=hI(),{closeModal:a}=le(),{collectionSlug:n,drawerSlug:l}=gv(),{getEntityConfig:i}=(0,d.b)(),{t:o}=(0,f.d)(),s=i({collectionSlug:n})?.upload?.mimeTypes,u=c.default.useCallback(t=>{let r=new DataTransfer;for(let e of t)(void 0===s||0===s.length||rx(e.type,s))&&r.items.add(e);0===r.files.length?a_.error(o("error:invalidFileType")):e(r.files)},[e,o,s]);return n?t.length||r?(0,h.jsx)(gc,{}):(0,h.jsx)(hN,{acceptMimeTypes:s?.join(", "),onCancel:()=>a(l),onDrop:u}):null}function gd(){let e,t,r=(0,v.c)(17),{drawerSlug:a,onCancel:n,setInitialFiles:l,setInitialForms:i,setOnCancel:o,setOnSuccess:s,setSelectableCollections:u,setSuccessfullyUploaded:d,successfullyUploaded:f}=gv(),{modalState:p}=le(),m=c.default.useRef(p),g;r[0]!==a||r[1]!==n||r[2]!==l||r[3]!==i||r[4]!==o||r[5]!==s||r[6]!==u||r[7]!==d||r[8]!==f?(g=e=>{let t=m.current[a],r=e[a];typeof r>"u"&&typeof t>"u"||(t?.isOpen!==r?.isOpen&&(r?.isOpen||(f||"function"==typeof n&&n(),l(void 0),i(void 0),o(gh),s(gf),u(null),d(!1))),m.current=e)},r[0]=a,r[1]=n,r[2]=l,r[3]=i,r[4]=o,r[5]=s,r[6]=u,r[7]=d,r[8]=f,r[9]=g):g=r[9];let b=id(g),y;return r[10]!==p||r[11]!==b?(y=()=>{b(p)},r[10]=p,r[11]=b,r[12]=y):y=r[12],r[13]!==p?(e=[p],r[13]=p,r[14]=e):e=r[14],(0,c.useEffect)(y,e),r[15]!==a?(t=(0,h.jsx)(ir,{gutter:!1,Header:null,slug:a,children:(0,h.jsx)(hA,{children:(0,h.jsx)(hj,{children:(0,h.jsx)(nH,{children:(0,h.jsx)(gu,{})})})})}),r[15]=a,r[16]=t):t=r[16],t}function gf(){return gp}function gp(){return null}function gh(){return gm}function gm(){return null}var gg=c.default.createContext({collectionSlug:"",drawerSlug:"",initialFiles:void 0,initialForms:[],maxFiles:void 0,onCancel:()=>null,onSuccess:()=>null,selectableCollections:null,setCollectionSlug:()=>null,setInitialFiles:()=>null,setInitialForms:()=>null,setMaxFiles:()=>null,setOnCancel:()=>null,setOnSuccess:()=>null,setSelectableCollections:()=>null,setSuccessfullyUploaded:()=>!1,successfullyUploaded:!1});function gb(e){let t,r,a=(0,v.c)(17),{children:n,drawerSlugPrefix:l}=e,[i,o]=c.default.useState(null),[s,u]=c.default.useState(),[d,f]=c.default.useState(),[p,m]=c.default.useState(),[g,b]=c.default.useState(void 0),[y,x]=c.default.useState(void 0),[w,j]=c.default.useState(void 0),[C,S]=c.default.useState(!1),$=`${l?`${l}-`:""}${gy()}`,_;a[0]===Symbol.for("react.memo_cache_sentinel")?(_=e=>{f(()=>e)},a[0]=_):_=a[0];let k=_,E;a[1]===Symbol.for("react.memo_cache_sentinel")?(E=e=>{m(()=>e)},a[1]=E):E=a[1];let N=E,P;return a[2]!==p?(P=()=>{"function"==typeof p&&p()},a[2]=p,a[3]=P):P=a[3],a[4]!==d?(t=(e,t)=>{"function"==typeof d&&d(e,t)},a[4]=d,a[5]=t):t=a[5],a[6]!==n||a[7]!==s||a[8]!==$||a[9]!==g||a[10]!==y||a[11]!==w||a[12]!==i||a[13]!==C||a[14]!==P||a[15]!==t?(r=(0,h.jsx)(gg,{value:{collectionSlug:s,drawerSlug:$,initialFiles:g,initialForms:y,maxFiles:w,onCancel:P,onSuccess:t,selectableCollections:i,setCollectionSlug:u,setInitialFiles:b,setInitialForms:x,setMaxFiles:j,setOnCancel:N,setOnSuccess:k,setSelectableCollections:o,setSuccessfullyUploaded:S,successfullyUploaded:C},children:(0,h.jsxs)(c.default.Fragment,{children:[n,(0,h.jsx)(gd,{})]})}),a[6]=n,a[7]=s,a[8]=$,a[9]=g,a[10]=y,a[11]=w,a[12]=i,a[13]=C,a[14]=P,a[15]=t,a[16]=r):r=a[16],r}var gv=()=>c.default.use(gg);function gy(){let e=ii();return`bulk-upload-drawer-slug-${e||1}`}var gx="upload-relationship-details";function gw(e){let t=(0,v.c)(11),{id:r,allowEdit:a,allowRemove:n,alt:l,byteSize:i,className:o,collectionSlug:s,displayPreview:c,filename:u,mimeType:f,onRemove:p,reloadDoc:m,src:g,thumbnailSrc:b,withMeta:y,x:x,y:w}=e,j=void 0===y||y,{config:C}=(0,d.b)(),S="collections"in C?C.collections.find(e=>e.slug===s):void 0,$=g?r:void 0,_;t[0]!==s||t[1]!==$?(_={id:$,collectionSlug:s},t[0]=s,t[1]=$,t[2]=_):_=t[2];let[k,,E]=fI(_),{openDrawer:N}=E,P;t[3]!==s||t[4]!==m?(P=async e=>{let{doc:t}=e;return m(t.id,s)},t[3]=s,t[4]=m,t[5]=P):P=t[5];let D=P,T;t[6]!==x||t[7]!==w?(T=function(e,t){let r=[];return t&&r.push(rj(t)),x&&w&&r.push(`${x}x${w}`),e&&r.push(e),r.join("  ")},t[6]=x,t[7]=w,t[8]=T):T=t[8];let O=j?T(f,i):"",R=c??S?.upload?.displayPreview??!0,A;return t[9]!==o?(A=[gx,o].filter(Boolean),t[9]=o,t[10]=A):A=t[10],(0,h.jsxs)("div",{className:A.join(" "),children:[(0,h.jsxs)("div",{className:`${gx}__imageAndDetails`,children:[R&&(0,h.jsx)(fJ,{alt:l,className:`${gx}__thumbnail`,filename:u,fileSrc:b,size:"small"}),(0,h.jsxs)("div",{className:`${gx}__details`,children:[(0,h.jsx)("p",{className:`${gx}__filename`,children:g?(0,h.jsx)("a",{href:g,target:"_blank",children:u}):u}),j?(0,h.jsx)("p",{className:`${gx}__meta`,children:O}):null]})]}),!1!==a||!1!==n?(0,h.jsxs)("div",{className:`${gx}__actions`,children:[!1!==a?(0,h.jsx)(na,{buttonStyle:"icon-label",className:`${gx}__edit`,icon:"edit",iconStyle:"none",onClick:N}):null,!1!==n?(0,h.jsx)(na,{buttonStyle:"icon-label",className:`${gx}__remove`,icon:"x",iconStyle:"none",onClick:()=>p()}):null,(0,h.jsx)(k,{onSave:D})]}):null]})}var gj="upload-field-card";function gC({children:e,className:t,size:r="medium"}){return(0,h.jsx)("div",{className:[gj,t,`${gj}--size-${r}`].filter(Boolean).join(" "),children:e})}var gS="upload upload--has-many";function g$(e){let t=(0,v.c)(27),{className:r,displayPreview:a,fileDocs:n,isSortable:l,onRemove:i,onReorder:o,readonly:s,reloadDoc:c,serverURL:u}=e,d;t[0]!==n||t[1]!==o?(d=(e,t)=>{if(e===t)return;let r=[...n],[a]=r.splice(e,1);r.splice(t,0,a),o(r)},t[0]=n,t[1]=o,t[2]=d):d=t[2];let f=d,p;t[3]!==n||t[4]!==i?(p=e=>{let t=[...n||[]];t.splice(e,1),i(0===t.length?[]:t)},t[3]=n,t[4]=i,t[5]=p):p=t[5];let m=p,g;t[6]!==r?(g=[gS,r].filter(Boolean),t[6]=r,t[7]=g):g=t[7];let b=g.join(" "),y;if(t[8]!==a||t[9]!==n||t[10]!==l||t[11]!==f||t[12]!==s||t[13]!==c||t[14]!==m||t[15]!==u||t[16]!==b){let e,r;t[18]!==f?(e=e=>{let{moveFromIndex:t,moveToIndex:r}=e;return f(t,r)},t[18]=f,t[19]=e):e=t[19],t[20]!==a||t[21]!==l||t[22]!==s||t[23]!==c||t[24]!==m||t[25]!==u?(r=(e,t)=>{let{relationTo:r,value:n}=e,i=String(n.id),o,d;if(n.url)try{o=new URL(n.url,u).toString()}catch{o=`${u}${n.url}`}if(n.thumbnailURL)try{d=new URL(n.thumbnailURL,u).toString()}catch{d=`${u}${n.thumbnailURL}`}return rc(n.mimeType)&&(d=rs({sizes:n.sizes,thumbnailURL:d,url:o,width:n.width})),(0,h.jsx)(nI,{disabled:!l||s,id:i,children:e=>(0,h.jsx)("div",{className:[`${gS}__dragItem`,e&&l&&`${gS}--has-drag-handle`].filter(Boolean).join(" "),ref:e.setNodeRef,style:{transform:e.transform,transition:e.transition,zIndex:e.isDragging?1:void 0},children:(0,h.jsxs)(gC,{size:"small",children:[e&&(0,h.jsx)("div",{className:`${gS}__drag`,...e.attributes,...e.listeners,children:(0,h.jsx)(oQ,{})}),(0,h.jsx)(gw,{allowEdit:!s,allowRemove:!s,alt:n?.alt||n?.filename,byteSize:n.filesize,collectionSlug:r,displayPreview:a,filename:n.filename,id:i,mimeType:n?.mimeType,onRemove:()=>m(t),reloadDoc:c,src:o,thumbnailSrc:d,withMeta:!1,x:n?.width,y:n?.height})]})})},i)},t[20]=a,t[21]=l,t[22]=s,t[23]=c,t[24]=m,t[25]=u,t[26]=r):r=t[26],y=(0,h.jsx)("div",{className:b,children:(0,h.jsx)(nM,{className:`${gS}__draggable-rows`,ids:n?.map(g_),onDragEnd:e,children:n.map(r)})}),t[8]=a,t[9]=n,t[10]=l,t[11]=f,t[12]=s,t[13]=c,t[14]=m,t[15]=u,t[16]=b,t[17]=y}else y=t[17];return y}function g_(e){let{value:t}=e;return String(t.id)}function gk(e){let{className:t,displayPreview:r,fileDoc:a,onRemove:n,readonly:l,reloadDoc:i,serverURL:o}=e,{relationTo:s,value:c}=a,u=String(c?.id),d,f;if(c.url)try{d=new URL(c.url,o).toString()}catch{d=`${o}${c.url}`}if(c.thumbnailURL)try{f=new URL(c.thumbnailURL,o).toString()}catch{f=`${o}${c.thumbnailURL}`}return rc(c.mimeType)&&(f=rs({sizes:c.sizes,thumbnailURL:f,url:d,width:c.width})),(0,h.jsx)(gC,{className:["upload upload--has-one",t].filter(Boolean).join(" "),children:(0,h.jsx)(gw,{allowEdit:!l,allowRemove:!l,alt:c?.alt||c?.filename,byteSize:c.filesize,collectionSlug:s,displayPreview:r,filename:c.filename,id:u,mimeType:c?.mimeType,onRemove:n,reloadDoc:i,src:d,thumbnailSrc:f,x:c?.width,y:c?.height})})}var gE="upload";function gN(e){let{AfterInput:t,allowCreate:r,api:a,BeforeInput:n,className:l,Description:i,description:o,displayPreview:s,Error:u,filterOptions:p,hasMany:m,isSortable:g,Label:b,label:v,localized:y,maxRows:x,onChange:w,path:j,readOnly:C,relationTo:S,required:$,serverURL:_,showError:k,style:E,value:N}=e,[P,D]=c.default.useState(),[T,O]=c.default.useState(Array.isArray(S)?S[0]:S),{openModal:R}=le(),{drawerSlug:A,setCollectionSlug:I,setInitialFiles:M,setMaxFiles:L,setOnSuccess:F}=gv(),{permissions:B}=ig(),{code:z}=i_(),{i18n:U,t:V}=(0,f.d)(),[H,,{closeDrawer:q,openDrawer:K}]=p_({collectionSlugs:"string"==typeof S?[S]:S,filterOptions:(0,c.useMemo)(()=>({...p,[T]:{...p?.[T]||{},id:{...p?.[T]?.id||{},not_in:(p?.[T]?.id?.not_in||[]).concat(...Array.isArray(N)||N?[N]:[])}}}),[N,T,p])}),[W,,{closeDrawer:G,openDrawer:Y}]=fI({collectionSlug:T}),X=c.default.useRef(!1),Q=(0,c.useMemo)(()=>!!r&&!!("string"==typeof T&&B?.collections&&B.collections?.[T]?.create),[T,B,r]),J=c.default.useCallback(e=>{"function"==typeof w&&w(e)},[w]),Z=c.default.useCallback(async(e,t)=>{if(!e.length)return;let r={depth:0,draft:!0,limit:e.length,locale:z,where:{and:[{id:{in:e}}]}},n=await fetch(`${_}${a}/${t}`,{body:tZ(r),credentials:"include",headers:{"Accept-Language":U.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"},method:"POST"});if(n.ok){let t=await n.json(),r=e.map(e=>t.docs.find(t=>String(t.id)===String(e)));return r.includes(void 0)&&m&&(r=r.map((t,r)=>t||{id:e[r],filename:`${V("general:untitled")} - ID: ${e[r]}`,isPlaceholder:!0})),{...t,docs:r}}return null},[z,_,a,U.language,V,m]),ee=(0,c.useCallback)(e=>{if(m)J([...Array.isArray(N)?N:[],...e.map(e=>e.doc.id)]),D(t=>[...t||[],...e.map(e=>({relationTo:e.collectionSlug,value:e.doc}))]);else{let t=e[0].doc;J(t.id),D([{relationTo:t.collectionSlug,value:t}])}},[N,J,m]),et=c.default.useCallback(e=>{let t=e;if(!m&&e&&e.length>1){let r=new DataTransfer;r.items.add(e[0]),t=r.files}t&&M(t),I(S),"number"==typeof x&&L(x),R(A)},[A,m,R,S,I,M,x,L]),er=c.default.useCallback(async e=>{let t=[];for(let[r,a]of e)a&&t.push(r);let r=await Z(t,T);r&&D(e=>[...e||[],...r.docs.map(e=>({relationTo:T,value:e}))]),J([...Array.isArray(N)?N:[],...t]),q()},[T,q,J,Z,N]),ea=c.default.useCallback(e=>{e.doc&&(D(t=>[...t||[],{relationTo:T,value:e.doc}]),J(e.doc.id)),G()},[G,T,J]),en=(0,c.useCallback)(async({collectionSlug:e,doc:t})=>{let r=await Z([t.id],e),a=r?r.docs?.[0]:null;D(e=>a?m?[...e||[],{relationTo:T,value:a}]:[{relationTo:T,value:a}]:e),J(m?[...Array.isArray(N)?N:[],t.id]:t.id),q()},[q,m,Z,J,N,T]),el=c.default.useCallback(async(e,t)=>{let{docs:r}=await Z([e],t);if(r[0]){let e=[];D(a=>{let n=a?.findIndex(e=>(e.value?.id===r[0].id||e.value?.isPlaceholder)&&e.relationTo===t);if(n>-1){let l=[...a];return l[n]={relationTo:t,value:r[0]},e=l,l}}),e.length&&m&&J(e.map(e=>e.value?.id))}},[Z,J,m]),ei=c.default.useCallback(e=>{J(e.map(({value:e})=>e.id)),D(e)},[J]),eo=c.default.useCallback(e=>{let t=e?e.map(({value:e})=>e.id):null;J(m?t:t?t[0]:null),D(e||[])},[J,m]);(0,c.useEffect)(()=>{async function e(){if(N){X.current=!0;let e=await Z(Array.isArray(N)?N:[N],T);e&&D(e.docs.map(e=>({relationTo:T,value:e})))}}X.current||e()},[Z,T,N]),(0,c.useEffect)(()=>{F(ee)},[N,j,ee,F]);let es=!N||m&&Array.isArray(N)&&("number"!=typeof x||N.length<x)||!m&&P?.[0]&&typeof P[0].value>"u";return(0,h.jsxs)("div",{className:[oF,gE,l,k&&"error",C&&"read-only"].filter(Boolean).join(" "),id:`field-${j?.replace(/\./g,"__")}`,style:E,children:[(0,h.jsx)(rY,{CustomComponent:b,Fallback:(0,h.jsx)(iN,{label:v,localized:y,path:j,required:$})}),(0,h.jsx)("div",{className:`${gE}__wrap`,children:(0,h.jsx)(rY,{CustomComponent:u,Fallback:(0,h.jsx)(nU,{path:j,showError:k})})}),n,(0,h.jsxs)("div",{className:`${gE}__dropzoneAndUpload`,children:[m&&Array.isArray(N)&&N.length>0?(0,h.jsx)(h.Fragment,{children:P&&P?.length>0?(0,h.jsx)(g$,{displayPreview:s,fileDocs:P,isSortable:g&&!C,onRemove:eo,onReorder:ei,readonly:C,reloadDoc:el,serverURL:_}):(0,h.jsx)("div",{className:`${gE}__loadingRows`,children:N.map(e=>(0,h.jsx)(d.e,{height:"40px"},e))})}):null,!m&&N?(0,h.jsx)(h.Fragment,{children:P&&P?.length>0&&P[0].value?(0,h.jsx)(gk,{displayPreview:s,fileDoc:P[0],onRemove:eo,readonly:C,reloadDoc:el,serverURL:_}):P&&N&&!P?.[0]?.value?(0,h.jsxs)(h.Fragment,{children:[V("general:untitled")," - ID: ",N]}):(0,h.jsx)(d.e,{height:"62px"})}):null,es?(0,h.jsx)(h$,{disabled:C||!Q,multipleFiles:m,onChange:et,children:(0,h.jsxs)("div",{className:`${gE}__dropzoneContent`,children:[(0,h.jsxs)("div",{className:`${gE}__dropzoneContent__buttons`,children:[Q&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(na,{buttonStyle:"pill",className:`${gE}__createNewToggler`,disabled:C||!Q,onClick:()=>{C||(m?et():Y())},size:"small",children:V("general:createNew")}),(0,h.jsx)("span",{className:`${gE}__dropzoneContent__orText`,children:V("general:or")})]}),(0,h.jsx)(na,{buttonStyle:"pill",className:`${gE}__listToggler`,disabled:C,onClick:K,size:"small",children:V("fields:chooseFromExisting")}),(0,h.jsx)(W,{onSave:ea}),(0,h.jsx)(H,{allowCreate:Q,enableRowSelections:m,onBulkSelect:er,onSelect:en})]}),Q&&!C&&(0,h.jsxs)("p",{className:`${gE}__dragAndDropText`,children:[V("general:or")," ",V("upload:dragAndDrop")]})]})}):(0,h.jsx)(h.Fragment,{children:!C&&!P&&(!N||"number"!=typeof x||Array.isArray(N)&&N.length<x)?(0,h.jsx)(d.e,{height:"40px"}):null})]}),t,(0,h.jsx)(rY,{CustomComponent:i,Fallback:(0,h.jsx)(nz,{description:o,path:j})})]})}var gP=oM(function(e){let{field:t,field:{admin:{allowCreate:r,className:a,description:n,isSortable:l}={},hasMany:i,label:o,localized:s,maxRows:u,relationTo:f,required:p},path:m,readOnly:g,validate:b}=e,{config:v}=(0,d.b)(),y=t.displayPreview,{customComponents:{AfterInput:x,BeforeInput:w,Description:j,Error:C,Label:S}={},disabled:$,filterOptions:_,path:k,setValue:E,showError:N,value:P}=oR({potentiallyStalePath:m,validate:c.default.useCallback((e,t)=>{if("function"==typeof b)return b(e,{...t,required:p})},[b,p])}),D=(0,c.useMemo)(()=>oL(t),[t]);return(0,h.jsx)(gb,{drawerSlugPrefix:m,children:(0,h.jsx)(gN,{AfterInput:x,allowCreate:!1!==r,api:v.routes.api,BeforeInput:w,className:a,Description:j,description:n,displayPreview:y,Error:C,filterOptions:_,hasMany:i,isSortable:l,label:o,Label:S,localized:s,maxRows:u,onChange:E,path:k,readOnly:g||$,relationTo:f,required:p,serverURL:v.serverURL,showError:N,style:D,value:P})})});function gD(e){let t=(0,v.c)(13),{clientFieldConfig:r,forceRender:a,indexPath:n,parentPath:l,parentSchemaPath:i,path:o,permissions:s,readOnly:c,schemaPath:u}=e,d;t[0]!==o?(d=e=>{let[t]=e;return t&&t?.[o]?.customComponents?.Field},t[0]=o,t[1]=d):d=t[1];let f=au(d),p;if(t[2]!==f||t[3]!==r||t[4]!==a||t[5]!==n||t[6]!==l||t[7]!==i||t[8]!==o||t[9]!==s||t[10]!==c||t[11]!==u){p=Symbol.for("react.early_return_sentinel");e:{let e={forceRender:a,permissions:s,readOnly:c,schemaPath:u};if(r.admin?.hidden){p=(0,h.jsx)(d4,{...e,path:o});break e}if(void 0!==f){p=f||null;break e}let t={...e,indexPath:n,parentPath:l,parentSchemaPath:i};switch(r.type){case"array":p=(0,h.jsx)(gM,{...t,field:r,path:o});break e;case"blocks":p=(0,h.jsx)(sx,{...t,field:r,path:o});break e;case"checkbox":p=(0,h.jsx)(oK,{...e,field:r,path:o});break e;case"code":p=(0,h.jsx)(sS,{...e,field:r,path:o});break e;case"collapsible":p=(0,h.jsx)(sE,{...t,field:r,path:o});break e;case"date":p=(0,h.jsx)(dX,{...e,field:r,path:o});break e;case"email":p=(0,h.jsx)(dQ,{...e,field:r,path:o});break e;case"group":p=(0,h.jsx)(d5,{...t,field:r,path:o});break e;case"join":p=(0,h.jsx)(pd,{...e,field:r,path:o});break e;case"json":p=(0,h.jsx)(pf,{...e,field:r,path:o});break e;case"number":p=(0,h.jsx)(pp,{...e,field:r,path:o});break e;case"point":p=(0,h.jsx)(pm,{...e,field:r,path:o});break e;case"radio":p=(0,h.jsx)(py,{...e,field:r,path:o});break e;case"relationship":p=(0,h.jsx)(pW,{...e,field:r,path:o});break e;case"richText":p=(0,h.jsx)(pG,{...e,field:r,path:o});break e;case"row":p=(0,h.jsx)(pY,{...t,field:r});break e;case"select":p=(0,h.jsx)(pJ,{...e,field:r,path:o});break e;case"tabs":p=(0,h.jsx)(hc,{...t,field:r,path:o});break e;case"text":p=(0,h.jsx)(hb,{...e,field:r,path:o});break e;case"textarea":p=(0,h.jsx)(hy,{...e,field:r,path:o});break e;case"ui":p=(0,h.jsx)(hx,{});break e;case"upload":p=(0,h.jsx)(gP,{...e,field:r,path:o});break e}}t[2]=f,t[3]=r,t[4]=a,t[5]=n,t[6]=l,t[7]=i,t[8]=o,t[9]=s,t[10]=c,t[11]=u,t[12]=p}else p=t[12];if(p!==Symbol.for("react.early_return_sentinel"))return p}var gT="render-fields",gO=e=>{let t=(0,v.c)(22),{className:r,fields:a,forceRender:n,margins:l,parentIndexPath:i,parentPath:o,parentSchemaPath:s,permissions:c,readOnly:u}=e,d=oP();if(a&&a.length>0){let e=l&&`${gT}--margins-${l}`,f=!1===l&&`${gT}--margins-none`,p;t[0]!==r||t[1]!==e||t[2]!==f?(p=[gT,r,e,f].filter(Boolean),t[0]=r,t[1]=e,t[2]=f,t[3]=p):p=t[3];let m=p.join(" "),g;if(t[4]!==a||t[5]!==n||t[6]!==d||t[7]!==i||t[8]!==o||t[9]!==s||t[10]!==c||t[11]!==u||t[12]!==m){let e;t[14]!==n||t[15]!==d||t[16]!==i||t[17]!==o||t[18]!==s||t[19]!==c||t[20]!==u?(e=(e,t)=>{if(!e||k(e))return null;let{operation:r,permissions:a,read:l}=t3({field:e,operation:d,parentName:o?.includes(".")?o.split(".")[o.split(".").length-1]:o,permissions:c});if("name"in e&&!l)return null;let f=u||e?.admin?.readOnly;f&&e.admin?.readOnly===!1&&(f=!1),"name"in e&&!r&&(f=!0);let{indexPath:p,path:m,schemaPath:g}=function({field:e,index:t,parentIndexPath:r,parentPath:a,parentSchemaPath:n}){if("name"in e)return{indexPath:`${r?r+"-":""}${t}`,path:`${a?a+".":""}${e.name}`,schemaPath:`${n?n+".":""}${e.name}`};let l=`_index-${r?r+"-":""}${t}`;return{indexPath:`${r?r+"-":""}${t}`,path:`${a?a+".":""}${l}`,schemaPath:`${n?n+".":""}${l}`}}({field:e,index:t,parentIndexPath:i,parentPath:o,parentSchemaPath:s});return(0,h.jsx)(oD,{value:m,children:(0,h.jsx)(gD,{clientFieldConfig:e,forceRender:n,indexPath:p,parentPath:o,parentSchemaPath:s,path:m,permissions:a,readOnly:f,schemaPath:g})},`${m}-${t}`)},t[14]=n,t[15]=d,t[16]=i,t[17]=o,t[18]=s,t[19]=c,t[20]=u,t[21]=e):e=t[21],g=(0,h.jsx)(o6,{className:m,forceRender:n,children:a.map(e)}),t[4]=a,t[5]=n,t[6]=d,t[7]=i,t[8]=o,t[9]=s,t[10]=c,t[11]=u,t[12]=m,t[13]=g}else g=t[13];return g}return null},gR="array-field",gA=e=>{let t=(0,v.c)(40),{addRow:r,attributes:a,copyRow:n,CustomRowLabel:l,duplicateRow:i,errorCount:o,fields:s,forceRender:c,hasMaxRows:u,isDragging:p,isLoading:g,isSortable:b,labels:y,listeners:x,moveRow:w,parentPath:j,pasteRow:C,path:S,permissions:$,readOnly:_,removeRow:k,row:E,rowCount:N,rowIndex:P,schemaPath:D,setCollapse:T,setNodeRef:O,transform:R,transition:A}=e,I=void 0!==c&&c,M=o7(g,500),{i18n:L}=(0,f.d)(),F=al(),B=`${m(y.singular,L)} ${String(P+1).padStart(2,"0")}`,z=o>0&&F,U=z?`${gR}__row--has-errors`:`${gR}__row--no-errors`,V;t[0]!==U?(V=[`${gR}__row`,U].filter(Boolean),t[0]=U,t[1]=V):V=t[1];let H=V.join(" "),q=`${j.split(".").join("-")}-row-${P}`,K=p?1:void 0,W;if(t[2]!==l||t[3]!==r||t[4]!==a||t[5]!==H||t[6]!==n||t[7]!==i||t[8]!==o||t[9]!==B||t[10]!==z||t[11]!==s||t[12]!==I||t[13]!==u||t[14]!==L||t[15]!==M||t[16]!==b||t[17]!==x||t[18]!==w||t[19]!==j||t[20]!==C||t[21]!==S||t[22]!==$||t[23]!==_||t[24]!==k||t[25]!==E.collapsed||t[26]!==E.id||t[27]!==N||t[28]!==P||t[29]!==D||t[30]!==T||t[31]!==O||t[32]!==q||t[33]!==K||t[34]!==R||t[35]!==A){let e;t[37]!==E.id||t[38]!==T?(e=e=>T(E.id,e),t[37]=E.id,t[38]=T,t[39]=e):e=t[39],W=(0,h.jsx)("div",{id:q,ref:O,style:{transform:R,transition:A,zIndex:K},children:(0,h.jsx)(o2,{actions:_?void 0:(0,h.jsx)(oX,{addRow:r,copyRow:n,duplicateRow:i,hasMaxRows:u,index:P,isSortable:b,moveRow:w,pasteRow:C,removeRow:k,rowCount:N}),className:H,collapsibleStyle:z?"error":"default",dragHandleProps:b?{id:E.id,attributes:a,listeners:x}:void 0,header:(0,h.jsxs)("div",{className:`${gR}__row-header`,children:[M?(0,h.jsx)(d.e,{height:"1rem",width:"8rem"}):(0,h.jsx)(am,{CustomComponent:l,label:B,path:S,rowNumber:P}),z&&(0,h.jsx)(nF,{count:o,i18n:L,withMessage:!0})]}),isCollapsed:E.collapsed,onToggle:e,children:M?(0,h.jsx)(d.e,{}):(0,h.jsx)(gO,{className:`${gR}__fields`,fields:s,forceRender:I,margins:"small",parentIndexPath:"",parentPath:S,parentSchemaPath:D,permissions:!0===$?$:$?.fields,readOnly:_})})},`${j}-row-${E.id}`),t[2]=l,t[3]=r,t[4]=a,t[5]=H,t[6]=n,t[7]=i,t[8]=o,t[9]=B,t[10]=z,t[11]=s,t[12]=I,t[13]=u,t[14]=L,t[15]=M,t[16]=b,t[17]=x,t[18]=w,t[19]=j,t[20]=C,t[21]=S,t[22]=$,t[23]=_,t[24]=k,t[25]=E.collapsed,t[26]=E.id,t[27]=N,t[28]=P,t[29]=D,t[30]=T,t[31]=O,t[32]=q,t[33]=K,t[34]=R,t[35]=A,t[36]=W}else W=t[36];return W},gI="array-field",gM=oM(e=>{let{field:t,field:{name:r,type:a,admin:{className:n,description:l,isSortable:i=!0}={},fields:o,label:s,localized:u,maxRows:p,minRows:g,required:b},forceRender:v=!1,path:y,permissions:x,readOnly:w,schemaPath:j,validate:C}=e,S=j??r,$=g??b?1:0,{setDocFieldPreferences:_}=o$(),{addFieldRow:k,dispatchFields:E,getFields:N,moveFieldRow:P,removeFieldRow:D,replaceState:T,setModified:O}=ar(),R=al(),{code:A}=i_(),{i18n:I,t:M}=(0,f.d)(),{config:{localization:L}}=(0,d.b)(),F=!L||!L.fallback||A===L.defaultLocale,B="labels"in e&&e?.labels?e.labels:"labels"in e.field&&e.field.labels?{plural:e.field.labels?.plural,singular:e.field.labels?.singular}:"label"in e.field&&e.field.label?{plural:void 0,singular:e.field.label}:{plural:M("general:rows"),singular:M("general:row")},{customComponents:{AfterInput:z,BeforeInput:U,Description:V,Error:H,Label:q}={},disabled:K,errorPaths:W,path:G,rows:Y=[],showError:X,valid:Q,value:J}=oR({hasRows:!0,potentiallyStalePath:y,validate:(0,c.useCallback)((e,t)=>!F&&null===e||("function"==typeof C?C(e,{...t,maxRows:p,minRows:$,required:b}):void 0),[p,$,b,C,F])}),Z=(0,c.useCallback)(e=>{k({path:G,rowIndex:e,schemaPath:S}),setTimeout(()=>{oG(`${G}-row-${e}`)},0)},[k,G,S]),ee=(0,c.useCallback)(e=>{E({type:"DUPLICATE_ROW",path:G,rowIndex:e}),O(!0),setTimeout(()=>{oG(`${G}-row-${e}`)},0)},[E,G,O]),et=(0,c.useCallback)(e=>{D({path:G,rowIndex:e})},[D,G]),er=(0,c.useCallback)((e,t)=>{P({moveFromIndex:e,moveToIndex:t,path:G})},[G,P]),ea=(0,c.useCallback)(e=>{let{collapsedIDs:t,updatedRows:r}=iD({collapsed:e,rows:Y});_(G,{collapsed:t}),E({type:"SET_ALL_ROWS_COLLAPSED",path:G,updatedRows:r})},[E,G,Y,_]),en=(0,c.useCallback)((e,t)=>{let{collapsedIDs:r,updatedRows:a}=iP({collapsed:t,rowID:e,rows:Y});E({type:"SET_ROW_COLLAPSED",path:G,updatedRows:a}),_(G,{collapsed:r})},[E,G,Y,_]),el=(0,c.useCallback)(e=>{let t={...N()},r=ni({type:a,fields:o,getDataToCopy:()=>nf({formState:t,path:G,rowIndex:e}),path:G,rowIndex:e,t:M});"string"==typeof r?a_.error(r):a_.success(M("general:copied"))},[o,N,G,M,a]),ei=(0,c.useCallback)(e=>{let t={...N()},r=no({onPaste:r=>{T(np({dataFromClipboard:r,formState:t,path:G,rowIndex:e})),O(!0)},path:G,schemaFields:o,t:M});"string"==typeof r&&a_.error(r)},[o,N,G,T,O,M]),eo=(0,c.useCallback)(e=>{T(np({dataFromClipboard:e,formState:{...N()},path:G})),O(!0)},[N,G,T,O]),es=(0,c.useCallback)(()=>nf({formState:{...N()},path:G}),[N,G]),ec=p&&Y.length>=p,eu=W.length,ed=R&&W.length>0,ef=(w||K)&&0===Y.length,ep=Y.length&&Y.length<$||b&&0===Y.length,eh=(0,c.useMemo)(()=>oL(t),[t]);return(0,h.jsxs)("div",{className:[oF,gI,n,ed?`${gI}--has-error`:`${gI}--has-no-error`].filter(Boolean).join(" "),id:`field-${G.replace(/\./g,"__")}`,style:eh,children:[X&&(0,h.jsx)(rY,{CustomComponent:H,Fallback:(0,h.jsx)(nU,{path:G,showError:X})}),(0,h.jsxs)("header",{className:`${gI}__header`,children:[(0,h.jsxs)("div",{className:`${gI}__header-wrap`,children:[(0,h.jsxs)("div",{className:`${gI}__header-content`,children:[(0,h.jsx)("h3",{className:`${gI}__title`,children:(0,h.jsx)(rY,{CustomComponent:q,Fallback:(0,h.jsx)(iN,{as:"span",label:s,localized:u,path:G,required:b})})}),ed&&eu>0&&(0,h.jsx)(nF,{count:eu,i18n:I,withMessage:!0})]}),(0,h.jsxs)("ul",{className:`${gI}__header-actions`,children:[Y?.length>0&&(0,h.jsxs)(c.Fragment,{children:[(0,h.jsx)("li",{children:(0,h.jsx)("button",{className:`${gI}__header-action`,onClick:()=>ea(!0),type:"button",children:M("fields:collapseAll")})}),(0,h.jsx)("li",{children:(0,h.jsx)("button",{className:`${gI}__header-action`,onClick:()=>ea(!1),type:"button",children:M("fields:showAll")})})]}),(0,h.jsx)("li",{children:(0,h.jsx)(nd,{allowCopy:Y?.length>0,allowPaste:!w,className:`${gI}__header-action`,disabled:K,fields:o,getDataToCopy:es,onPaste:eo,path:G,type:a})})]})]}),(0,h.jsx)(rY,{CustomComponent:V,Fallback:(0,h.jsx)(nz,{description:l,path:G})})]}),(0,h.jsx)(oW,{fieldValue:J,localized:u,path:G,readOnly:w}),U,(Y?.length>0||!Q&&(ef||ep))&&(0,h.jsxs)(nM,{className:`${gI}__draggable-rows`,ids:Y.map(e=>e.id),onDragEnd:({moveFromIndex:e,moveToIndex:t})=>er(e,t),children:[Y.map((e,t)=>{let{id:r,isLoading:a}=e,n=`${G}.${t}`,l=W?.filter(e=>e.startsWith(n+".")).length;return(0,h.jsx)(nI,{disabled:w||K||!i,id:r,children:r=>(0,h.jsx)(gA,{...r,addRow:Z,copyRow:el,CustomRowLabel:Y?.[t]?.customComponents?.RowLabel,duplicateRow:ee,errorCount:l,fields:o,forceRender:v,hasMaxRows:ec,isLoading:a,isSortable:i,labels:B,moveRow:er,parentPath:G,pasteRow:ei,path:n,permissions:x,readOnly:w||K,removeRow:et,row:e,rowCount:Y?.length,rowIndex:t,schemaPath:S,setCollapse:en})},r)}),!Q&&(0,h.jsxs)(c.default.Fragment,{children:[ef&&(0,h.jsx)(aB,{children:M("validation:fieldHasNo",{label:m(B.plural,I)})}),ep&&(0,h.jsx)(aB,{type:"error",children:M("validation:requiresAtLeast",{count:$,label:m($>1?B.plural:B.singular,I)||M($>1?"general:rows":"general:row")})})]})]}),!ec&&!w&&(0,h.jsx)(na,{buttonStyle:"icon-label",className:`${gI}__add-row`,disabled:K,icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:()=>{Z(J||0)},children:M("fields:addLabel",{label:m(B.singular,I)})}),z]})}),gL=e=>{let t=(0,v.c)(12),{disabled:r,path:a}=e,n=void 0===a?"confirm-password":a,{t:l}=(0,f.d)(),i;t[0]!==n?(i={path:n,validate:gF},t[0]=n,t[1]=i):i=t[1];let{disabled:o,setValue:s,showError:c,value:u}=oR(i),d=c&&"error",p;t[2]!==d?(p=[oF,"confirm-password",d].filter(Boolean),t[2]=d,t[3]=p):p=t[3];let m=p.join(" "),g;return t[4]!==o||t[5]!==r||t[6]!==n||t[7]!==s||t[8]!==l||t[9]!==m||t[10]!==u?(g=(0,h.jsxs)("div",{className:m,children:[(0,h.jsx)(iN,{htmlFor:"field-confirm-password",label:l("authentication:confirmPassword"),required:!0}),(0,h.jsxs)("div",{className:`${oF}__wrap`,children:[(0,h.jsx)(nU,{path:n}),(0,h.jsx)("input",{"aria-label":l("authentication:confirmPassword"),autoComplete:"off",disabled:!!(o||r),id:"field-confirm-password",name:"confirm-password",onChange:s,type:"password",value:u||""})]})]}),t[4]=o,t[5]=r,t[6]=n,t[7]=s,t[8]=l,t[9]=m,t[10]=u,t[11]=g):g=t[11],g};function gF(e,t){return rE(e,{name:"confirm-password",type:"text",required:!0,...t})}var gB=e=>{let t=(0,v.c)(28),{AfterInput:r,autoComplete:a,BeforeInput:n,className:l,description:i,Description:o,Error:s,inputRef:c,Label:u,label:d,localized:p,onChange:g,onKeyDown:b,path:y,placeholder:x,readOnly:w,required:j,rtl:C,showError:S,style:$,value:_,width:k}=e,E=void 0===a?"off":a,{i18n:N}=(0,f.d)(),P=S&&"error",D=w&&"read-only",T;t[0]!==l||t[1]!==P||t[2]!==D?(T=[oF,"password",l,P,D].filter(Boolean),t[0]=l,t[1]=P,t[2]=D,t[3]=T):T=t[3];let O=T.join(" "),R;return t[4]!==r||t[5]!==n||t[6]!==o||t[7]!==s||t[8]!==u||t[9]!==E||t[10]!==i||t[11]!==N||t[12]!==c||t[13]!==d||t[14]!==p||t[15]!==g||t[16]!==b||t[17]!==y||t[18]!==x||t[19]!==w||t[20]!==j||t[21]!==C||t[22]!==S||t[23]!==$||t[24]!==O||t[25]!==_||t[26]!==k?(R=(0,h.jsxs)("div",{className:O,style:{...$,width:k},children:[(0,h.jsx)(rY,{CustomComponent:u,Fallback:(0,h.jsx)(iN,{label:d,localized:p,path:y,required:j})}),(0,h.jsxs)("div",{className:`${oF}__wrap`,children:[(0,h.jsx)(rY,{CustomComponent:s,Fallback:(0,h.jsx)(nU,{path:y,showError:S})}),(0,h.jsxs)("div",{children:[n,(0,h.jsx)("input",{"aria-label":m(d,N),autoComplete:E,"data-rtl":C,disabled:w,id:`field-${y.replace(/\./g,"__")}`,name:y,onChange:g,onKeyDown:b,placeholder:m(x,N),ref:c,type:"password",value:_||""}),r]}),(0,h.jsx)(rY,{CustomComponent:o,Fallback:(0,h.jsx)(nz,{description:i,path:y})})]})]}),t[4]=r,t[5]=n,t[6]=o,t[7]=s,t[8]=u,t[9]=E,t[10]=i,t[11]=N,t[12]=c,t[13]=d,t[14]=p,t[15]=g,t[16]=b,t[17]=y,t[18]=x,t[19]=w,t[20]=j,t[21]=C,t[22]=S,t[23]=$,t[24]=O,t[25]=_,t[26]=k,t[27]=R):R=t[27],R},gz=oM(e=>{let{autoComplete:t,field:r,field:{admin:{className:a,disabled:n,placeholder:l,rtl:i}={},label:o,localized:s,required:u}={},inputRef:p,path:m,validate:g}=e,{t:b}=(0,f.d)(),v=i_(),{config:y}=(0,d.b)(),x=(0,c.useCallback)((e,t)=>{let r=m?m.split("."):[];return"function"==typeof g?g(e,{...t,required:u}):rk(e,{name:"password",type:"text",blockData:{},data:{},event:"onChange",path:r,preferences:{fields:{}},req:{payload:{config:y},t:b},required:!0,siblingData:{}})},[g,y,b,u,m]),{customComponents:{AfterInput:w,BeforeInput:j,Description:C,Error:S,Label:$}={},disabled:_,setValue:k,showError:E,value:N}=oR({path:m,validate:x}),P=oB({fieldLocalized:!1,fieldRTL:i,locale:v,localizationConfig:y.localization||void 0}),D=(0,c.useMemo)(()=>oL(r),[r]);return(0,h.jsx)(gB,{AfterInput:w,autoComplete:t,BeforeInput:j,className:a,Description:C,Error:S,inputRef:p,Label:$,label:o,localized:s,onChange:e=>{k(e.target.value)},path:m,placeholder:l,readOnly:_||n,required:u,rtl:P,showError:E,style:D,value:N||""})}),gU={array:gM,blocks:sx,checkbox:oK,code:sS,collapsible:sE,confirmPassword:gL,date:dX,email:dQ,group:d5,hidden:d4,join:pd,json:pf,number:pp,password:gz,point:pm,radio:py,relationship:pW,richText:pG,row:pY,select:pJ,tabs:hc,text:hb,textarea:hy,ui:hx,upload:gP},gV={...gU,Description:nz,Error:nU,Label:iN,RowLabel:am},gH=new Map([]),gq={altleft:"alt",altright:"alt",controlleft:"ctrl",controlright:"ctrl",ctrlleft:"ctrl",ctrlright:"ctrl",escape:"esc",metaleft:"meta",metaright:"meta",osleft:"meta",osright:"meta",shiftleft:"shift",shiftright:"shift"},gK=e=>(gq[e.toLowerCase()]||e).trim().toLowerCase().replace("key",""),gW=(e,t)=>{let r=(0,v.c)(9),{cmdCtrlKey:a,editDepth:n,keyCodes:l}=e,{modalState:i}=le(),o;r[0]!==a||r[1]!==n||r[2]!==t||r[3]!==l||r[4]!==i?(o=e=>{let r,o,s,c=e.detail?.key?e.detail:e;if(void 0===c.key)return;gH.forEach(gG),c.code&&("meta"===(r=gK(c.code))&&gH.forEach((e,t)=>"meta"!==t&&gH.delete(t)),gH.set(r,Date.now()));let u=window.navigator.userAgent.includes("Mac OS X");if(o=new Set([...gH.keys()].filter(gY)),s=new Set(l),o.size===s.size&&[...o].every(e=>s.has(e))&&(!a||u&&gH.has("meta")||!u&&c.ctrlKey)){if((Object.keys(i).filter(e=>i[e]?.isOpen)?.length+1||1)!==n)return;t(c)}},r[0]=a,r[1]=n,r[2]=t,r[3]=l,r[4]=i,r[5]=o):o=r[5];let s=o,u,d;r[6]!==s?(u=()=>(document.addEventListener("keydown",s,!1),document.addEventListener("bypassKeyDown",s,!1),document.addEventListener("keyup",gX,!1),()=>{document.removeEventListener("keydown",s),document.removeEventListener("bypassKeyDown",s),document.removeEventListener("keyup",gX)}),d=[s,gX],r[6]=s,r[7]=u,r[8]=d):(u=r[7],d=r[8]),(0,c.useEffect)(u,d)};function gG(e,t){Date.now()-e>3e3&&gH.delete(t)}function gY(e){return!["alt","ctrl","meta","shift"].includes(e)}function gX(e){let t;e.code&&("meta"===(t=gK(e.code))&&gH.clear(),gH.delete(t))}var gQ=(e,t)=>{let r,a,n,l,i,o,s=(0,v.c)(30),u;s[0]!==t?(u=void 0===t?{}:t,s[0]=t,s[1]=u):u=s[1];let{initialData:d,initialParams:p}=u,h;s[2]!==p?(h=void 0===p?{}:p,s[2]=p,s[3]=h):h=s[3];let m=h,{i18n:g}=(0,f.d)(),b;s[4]!==d?(b=d||{},s[4]=d,s[5]=b):b=s[5];let[y,x]=(0,c.useState)(b),[w,j]=(0,c.useState)(m),[C,S]=(0,c.useState)(!d),[$,_]=(0,c.useState)(!1),{code:k}=i_(),E=(0,c.useRef)(!1),N;s[6]!==k||s[7]!==w?(N=tZ({locale:k,..."object"==typeof w?w:{}},{addQueryPrefix:!0}),s[6]=k,s[7]=w,s[8]=N):N=s[8];let P=N,D;return s[9]!==g.language||s[10]!==d||s[11]!==P||s[12]!==e?(D=()=>{if(d&&!E.current){E.current=!0;return}let t=new AbortController;return e?(async()=>{_(!1),S(!0);try{let r=await ip.get(`${e}${P}`,{headers:{"Accept-Language":g.language},signal:t.signal});r.status>201&&_(!0);let a=await r.json();x(a),S(!1)}catch{t.signal.aborted||(_(!0),S(!1))}})():(_(!1),S(!1)),()=>{try{t.abort()}catch(e){}}},s[9]=g.language,s[10]=d,s[11]=P,s[12]=e,s[13]=D):D=s[13],s[14]!==g.language||s[15]!==d||s[16]!==k||s[17]!==P||s[18]!==e?(r=[e,k,P,g.language,d],s[14]=g.language,s[15]=d,s[16]=k,s[17]=P,s[18]=e,s[19]=r):r=s[19],(0,c.useEffect)(D,r),s[20]!==d?(a=()=>{d&&E.current&&x(d)},n=[d],s[20]=d,s[21]=a,s[22]=n):(a=s[21],n=s[22]),(0,c.useEffect)(a,n),s[23]!==y||s[24]!==$||s[25]!==C?(l={data:y,isError:$,isLoading:C},s[23]=y,s[24]=$,s[25]=C,s[26]=l):l=s[26],s[27]===Symbol.for("react.memo_cache_sentinel")?(i={setParams:j},s[27]=i):i=s[27],s[28]!==l?(o=[l,i],s[28]=l,s[29]=o):o=s[29],o},gJ=e=>{let t,r=(0,v.c)(5),[a,n]=(0,c.useState)(),l,i;return r[0]!==e?(l=()=>{let t;return e&&(t=new ResizeObserver(e=>{e.forEach(e=>{let{contentBoxSize:t,contentRect:r}=e,a=0,l=0;if(t){let e=Array.isArray(t)?t[0]:t;if(e){let{blockSize:t,inlineSize:r}=e;a=r,l=t}}else if(r){let{height:e,width:t}=r;a=t,l=e}n({height:l,width:a})})})).observe(e),()=>{t&&t.unobserve(e)}},i=[e],r[0]=e,r[1]=l,r[2]=i):(l=r[1],i=r[2]),(0,c.useEffect)(l,i),r[3]!==a?(t={size:a},r[3]=a,r[4]=t):t=r[4],t},gZ=e=>{let t=(0,v.c)(4),{admin:r,fields:a}=e,{useAsTitle:n}=r,{i18n:l}=(0,f.d)(),i;return t[0]!==a||t[1]!==l||t[2]!==n?(i=t2(a,{i18n:l,moveSubFieldsToTop:!0})?.find(e=>"name"in e&&e.name===n),t[0]=a,t[1]=l,t[2]=n,t[3]=i):i=t[3],i},g0=({className:e})=>(0,h.jsx)("svg",{className:"icon icon--sort",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{className:"fill",d:"M2.5 13.3333L5.83333 16.6667M5.83333 16.6667L9.16667 13.3333M5.83333 16.6667V3.33333M9.16667 7.08333H17.5M9.16667 10.4167H15M11.6667 13.75H12.5",stroke:"#2F2F2F",strokeLinecap:"round",strokeLinejoin:"round"})}),g1=({className:e})=>(0,h.jsx)("svg",{className:"icon icon--sort",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{className:"fill",d:"M2.5 6.66668L5.83333 3.33334M5.83333 3.33334L9.16667 6.66668M5.83333 3.33334V16.6667M11.6667 7.08354H17.5M9.16667 10.4169H15M9.16667 13.7502H12.5",stroke:"#2F2F2F",strokeLinecap:"round",strokeLinejoin:"round"})}),g3="sort-header",g2=e=>{let t=(0,v.c)(8),{appearance:r}=e,{handleSortPress:a,isActive:n,sort:l}=function(){let e,t=(0,v.c)(12),{handleSortChange:r,orderableFieldName:a,query:n}=fa(),l=Array.isArray(n.sort)?n.sort[0]:n.sort,i=(0,c.useRef)(l===`-${a}`?"desc":"asc"),o=l===`-${a}`||l===a,s,u;t[0]!==o||t[1]!==a||t[2]!==l?(s=()=>{o&&(i.current=l===`-${a}`?"desc":"asc")},u=[a,l,o],t[0]=o,t[1]=a,t[2]=l,t[3]=s,t[4]=u):(s=t[3],u=t[4]),(0,c.useEffect)(s,u),t[5]!==r||t[6]!==o||t[7]!==a?(e=()=>{if(o){r("asc"===i.current?`-${a}`:a),i.current="asc"===i.current?"desc":"asc";return}r("asc"===i.current?a:`-${a}`)},t[5]=r,t[6]=o,t[7]=a,t[8]=e):e=t[8];let d=e,f;return t[9]!==d||t[10]!==o?(f={handleSortPress:d,isActive:o,sort:i},t[9]=d,t[10]=o,t[11]=f):f=t[11],f}(),{t:i}=(0,f.d)(),o=r&&`${g3}--appearance-${r}`,s;t[0]!==o?(s=[g3,o].filter(Boolean),t[0]=o,t[1]=s):s=t[1];let u=s.join(" "),d;return t[2]!==a||t[3]!==n||t[4]!==l.current||t[5]!==i||t[6]!==u?(d=(0,h.jsx)("div",{className:u,children:(0,h.jsx)("div",{className:`${g3}__buttons`,children:"desc"===l.current?(0,h.jsx)("button",{"aria-label":i("general:sortByLabelDirection",{direction:i("general:ascending"),label:"Order"}),className:`${g3}__button ${g3}__${l.current} ${n?`${g3}--active`:""}`,onClick:a,type:"button",children:(0,h.jsx)(g0,{})}):(0,h.jsx)("button",{"aria-label":i("general:sortByLabelDirection",{direction:i("general:descending"),label:"Order"}),className:`${g3}__button ${g3}__${l.current} ${n?`${g3}--active`:""}`,onClick:a,type:"button",children:(0,h.jsx)(g1,{})})})}),t[2]=a,t[3]=n,t[4]=l.current,t[5]=i,t[6]=u,t[7]=d):d=t[7],d},g6="sort-row",g5=()=>{let e=(0,v.c)(2),{orderableFieldName:t,query:r}=fa(),a=r.sort===t||r.sort===`-${t}`,n=`${g6} ${a?"active":""}`,l;return e[0]!==n?(l=(0,h.jsx)("div",{className:n,role:"button",tabIndex:0,children:(0,h.jsx)(oQ,{className:`${g6}__icon`})}),e[0]=n,e[1]=l):l=e[1],l},g4=({cellMap:e,columns:t,dragAttributes:r={},dragListeners:a={},rowId:n,...l})=>(0,h.jsx)("tr",{...l,children:t.map((t,l)=>{let{accessor:i}=t,o=t.renderedCells[e[n]];return"_dragHandle"===i?(0,h.jsx)("td",{className:`cell-${i}`,children:(0,h.jsx)("div",{...r,...a,children:o})},l):(0,h.jsx)("td",{className:`cell-${i}`,children:o},l)})}),g8=({children:e,className:t,rowId:r})=>typeof r>"u"?null:(0,h.jsx)("div",{className:t,children:(0,h.jsx)("table",{cellPadding:0,cellSpacing:0,children:(0,h.jsx)("tbody",{children:e})})}),g9="table",g7=({appearance:e="default",BeforeTable:t,collection:r,columns:a,data:n})=>{let{config:l}=(0,d.b)(),{data:i,orderableFieldName:o,query:s}=fa(),u=i?.docs||n,[f,p]=(0,c.useState)(u),[m,g]=(0,c.useState)({}),[b,v]=(0,c.useState)();(0,c.useEffect)(()=>{p(u),g(Object.fromEntries(u.map((e,t)=>[String(e.id??e._id),t])))},[u]);let y=a?.filter(e=>e?.active);if(!y||0===y.filter(e=>!["_dragHandle","_select"].includes(e.accessor)).length)return(0,h.jsx)("div",{children:"No columns selected"});let x=async({moveFromIndex:e,moveToIndex:t})=>{if(s.sort!==o&&s.sort!==`-${o}`){a_.warning('To reorder the rows you must first sort them by the "Order" column'),v(void 0);return}if(e===t)return void v(void 0);let a=f[e].id??f[e]._id,n=t>e?f[t]:f[t-1],i=t>e?f[t+1]:f[t],c=[...f];p(r=>{let a=[...r];return a[e][o]="pending",a.splice(t,0,a.splice(e,1)[0]),a});try{let e=n?{id:n.id??n._id,key:n[o]}:{id:i.id??i._id,key:i[o]},t=n&&s.sort===o||!n&&s.sort===`-${o}`?"greater":"less",c={collectionSlug:r.slug,docsToMove:[a],newKeyWillBe:t,orderableFieldName:o,target:e},u=await fetch(`${l.serverURL}${l.routes.api}/reorder`,{body:JSON.stringify(c),credentials:"include",headers:{"Content-Type":"application/json"},method:"POST"});if(403===u.status)throw Error("You do not have permission to reorder these rows");if(!u.ok)throw Error("Failed to reorder. This can happen if you reorder several rows too quickly. Please try again.");if(200===u.status&&"initial migration"===(await u.json()).message)throw Error('You have enabled "orderable" on a collection with existing documentsand this is the first time you have sorted documents. We have run an automatic migration to add an initial order to the documents. Please refresh the page and try again.')}catch(t){let e=t instanceof Error?t.message:String(t);p(c),a_.error(e)}finally{v(void 0)}},w=f.map(e=>e.id??e._id);return(0,h.jsxs)("div",{className:[g9,e&&`${g9}--appearance-${e}`].filter(Boolean).join(" "),children:[t,(0,h.jsxs)(nM,{ids:w,onDragEnd:x,onDragStart:({id:e})=>{v(e)},children:[(0,h.jsxs)("table",{cellPadding:"0",cellSpacing:"0",children:[(0,h.jsx)("thead",{children:(0,h.jsx)("tr",{children:y.map((e,t)=>(0,h.jsx)("th",{id:`heading-${e.accessor}`,children:e.Heading},t))})}),(0,h.jsx)("tbody",{children:f.map((e,t)=>(0,h.jsx)(nI,{id:w[t],children:({attributes:r,isDragging:a,listeners:n,setNodeRef:l,transform:i,transition:o})=>(0,h.jsx)(g4,{cellMap:m,className:`row-${t+1}`,columns:y,dragAttributes:r,dragListeners:n,ref:l,rowId:e.id??e._id,style:{opacity:+!a,transform:i,transition:o}})},w[t]))})]}),(0,h.jsx)(tk,{children:(0,h.jsx)(g8,{className:[g9,`${g9}--drag-preview`].join(" "),rowId:b,children:(0,h.jsx)(g4,{cellMap:m,columns:y,rowId:b})})})]})]})},be=({cellData:e})=>(0,h.jsx)("div",{className:"query-preset-columns-cell",children:e?t9(e).map((e,t)=>{let r=!e.startsWith("-");return r?(0,h.jsx)(o9,{pillStyle:r?"always-white":"light",size:"small",children:rR(e)},t):null}):"No columns selected"}),bt=({cellData:e})=>(0,h.jsx)("div",{children:e?(e=>{if(e.or&&e.or.length>0&&e.or[0].and&&e.or[0].and.length>0){let t=e.or[0]?.and?.[0];if(!t)return"No where query";let r=Object.keys(t)[0];if(!t[r])return"No where query";let a=Object.keys(t[r])[0],n=t[r][a];return`${rR(r)} ${a} ${rR(n)}`}return""})(e):"No where query"}),br=({cellData:e})=>{let t=["read","update","delete"];return(0,h.jsx)("p",{children:t.reduce((r,a,n)=>{let l=e?.[a];return l&&l.constraint&&r.push((0,h.jsxs)(c.Fragment,{children:[(0,h.jsxs)("span",{children:[(0,h.jsx)("strong",{children:rR(a)}),": ",rR(l.constraint)]}),n!==t.length-1&&", "]},a)),r},[])})},ba=e=>{let t=(0,v.c)(5),{field:r}=e,{label:a,required:n}=r,{path:l,value:i}=oR(),o;return t[0]!==a||t[1]!==l||t[2]!==n||t[3]!==i?(o=(0,h.jsxs)("div",{className:"field-type query-preset-columns-field",children:[(0,h.jsx)(iN,{as:"h3",label:a,path:l,required:n}),(0,h.jsx)("div",{className:"value-wrapper",children:i?t9(i).map(bn):"No columns selected"})]}),t[0]=a,t[1]=l,t[2]=n,t[3]=i,t[4]=o):o=t[4],o};function bn(e,t){let r=!e.startsWith("-");return(0,h.jsx)(o9,{pillStyle:r?"always-white":"light-gray",size:"small",children:rR(e)},t)}var bl=e=>{let{field:t}=e,{label:r,required:a}=t,{path:n,value:l}=oR(),{collectionSlug:i}=fa(),{getEntityConfig:o}=(0,d.b)(),s=o({collectionSlug:i}),{i18n:u}=(0,f.d)();return(0,h.jsxs)("div",{className:"field-type query-preset-where-field",children:[(0,h.jsx)(iN,{as:"h3",label:r,path:n,required:a}),(0,h.jsx)("div",{className:"value-wrapper",children:l?((e,t)=>{if(!e)return null;let r=e=>{let t=Object.keys(e)[0];if(!e[t])return"No where query";let r=Object.keys(e[t])[0],a=e[t][r],n=e=>{if("object"==typeof e&&null!=e)try{return new Date(e).toLocaleDateString()}catch{return"Unknown error has occurred"}return e?.toString()??""},l=Array.isArray(a)?a.map(n).join(", "):n(a);return(0,h.jsxs)(o9,{pillStyle:"always-white",size:"small",children:[(0,h.jsx)("b",{children:rR(t)})," ",r," ",(0,h.jsx)("b",{children:rR(l)})]})};return e.or&&e.or.length>0?(0,h.jsx)("div",{className:"or-condition",children:e.or.map((e,a)=>(0,h.jsx)(c.default.Fragment,{children:e.and&&e.and.length>0?(0,h.jsxs)("div",{className:"and-condition",children:[0===a&&(0,h.jsx)("span",{className:"label",children:`Filter ${t} where `}),a>0&&(0,h.jsx)("span",{className:"label",children:" or "}),e.and.map((t,a)=>(0,h.jsxs)(c.default.Fragment,{children:[r(t),a<e.and.length-1&&(0,h.jsx)("span",{className:"label",children:" and "})]},a))]}):r(e)},a))}):r(e)})(l,m(s?.labels?.plural,u)):"No where query"})]})},bi="leave-without-saving",bo=e=>{let t,r=(0,v.c)(18),{onConfirm:a,onPrevent:n}=e,{closeModal:l,openModal:i}=le(),o=as(),{isValid:s}=ar(),{user:u}=ig(),[d,p]=c.default.useState(!1),{t:m}=(0,f.d)(),g=!!((o||!s)&&u),y;r[0]!==n||r[1]!==i?(y=()=>{let e=document.activeElement?.href||null;n&&n(e),i(bi)},r[0]=n,r[1]=i,r[2]=y):y=r[2];let x=y,w;r[3]!==l?(w=()=>{l(bi)},r[3]=l,r[4]=w):w=r[4];let j=w,C;r[5]!==j||r[6]!==x||r[7]!==d||r[8]!==g?(C={hasAccepted:d,onAccept:j,onPrevent:x,prevent:g},r[5]=j,r[6]=x,r[7]=d,r[8]=g,r[9]=C):C=r[9],(({hasAccepted:e=!1,message:t="Are you sure want to leave this page?",onAccept:r,onPrevent:a,prevent:n=!0})=>{let l,i,o,s,u,d;l=(0,v.c)(7),i=void 0===n||n,l[0]!==i||l[1]!==t?(o=e=>{if("function"!=typeof i||i())return e.preventDefault(),t&&(e.returnValue=t),t},l[0]=i,l[1]=t,l[2]=o):o=l[2],s=o,l[3]!==i||l[4]!==s?(u=()=>{if(i)return function(e,...t){e&&e.addEventListener&&e.addEventListener(...t)}(window,"beforeunload",s),()=>(function(e,...t){e&&e.removeEventListener&&e.removeEventListener(...t)})(window,"beforeunload",s)},d=[i,s],l[3]=i,l[4]=s,l[5]=u,l[6]=d):(u=l[5],d=l[6]),(0,c.useEffect)(u,d);let{startRouteTransition:f}=aR(),p=(0,b.useRouter)(),h=(0,c.useRef)("");(0,c.useEffect)(()=>{function e(e){try{let r=e.target,l=function(e){for(;e&&"a"!==e.tagName.toLowerCase();)e=e.parentElement;return e}(r);if(l){let r=window.location.href,i=l.href,o=function(e,t){try{let r=new URL(e),a=new URL(t);if(r.hostname===a.hostname&&r.pathname===a.pathname&&r.search===a.search){let e=r.hash,t=a.hash;return e!==t&&r.href.replace(e,"")===a.href.replace(t,"")}}catch(e){console.log("Unexpected exception thrown in LeaveWithoutSaving:isAnchorOfCurrentUrl",e)}return!1}(r,i),s=""!==l.download,c="_blank"===l.target||e.metaKey||e.ctrlKey;!(i===r||o||s||c)&&n&&(a||!window.confirm(t))&&(h.current=i,e.preventDefault(),e.stopPropagation(),"function"==typeof a&&a())}}catch(e){console.log("Unexpected exception thrown in LeaveWithoutSaving:usePreventLeave",e)}}return document.addEventListener("click",e,!0),()=>{document.removeEventListener("click",e,!0)}},[a,n,t]),(0,c.useEffect)(()=>{e&&h.current&&(r&&r(),f(()=>p.push(h.current)))},[e,r,p,f])})(C),r[10]!==l?(t=()=>{l(bi)},r[10]=l,r[11]=t):t=r[11];let S=t,$;r[12]!==a?($=async()=>{if(a)try{await a()}catch(e){console.error("Error in LeaveWithoutSaving onConfirm:",e)}p(!0)},r[12]=a,r[13]=$):$=r[13];let _=$,k;return r[14]!==_||r[15]!==S||r[16]!==m?(k=(0,h.jsx)(is,{body:m("general:changesNotSaved"),cancelLabel:m("general:stayOnThisPage"),confirmLabel:m("general:leaveAnyway"),heading:m("general:leaveWithoutSaving"),modalSlug:bi,onCancel:S,onConfirm:_}),r[14]=_,r[15]=S,r[16]=m,r[17]=k):k=r[17],k},bs="document-take-over",bc="document-take-over",bu=e=>{let t,r=(0,v.c)(19),{handleBackToDashboard:a,isActive:n,onReadOnly:l}=e,{closeModal:i,openModal:o}=le(),{t:s}=(0,f.d)(),{startRouteTransition:u}=aR(),{clearRouteCache:d}=h7(),p,m;if(r[0]!==i||r[1]!==n||r[2]!==o?(p=()=>{n?o(bs):i(bs)},m=[n,o,i],r[0]=i,r[1]=n,r[2]=o,r[3]=p,r[4]=m):(p=r[3],m=r[4]),(0,c.useEffect)(p,m),r[5]!==d||r[6]!==i||r[7]!==a||r[8]!==l||r[9]!==u||r[10]!==s){let e,n;r[12]!==a||r[13]!==u?(e=()=>{u(()=>a())},r[12]=a,r[13]=u,r[14]=e):e=r[14],r[15]!==d||r[16]!==i||r[17]!==l?(n=()=>{l(),i(bs),d()},r[15]=d,r[16]=i,r[17]=l,r[18]=n):n=r[18],t=(0,h.jsx)(lb,{className:bc,closeOnBlur:!1,slug:bs,children:(0,h.jsxs)("div",{className:`${bc}__wrapper`,children:[(0,h.jsxs)("div",{className:`${bc}__content`,children:[(0,h.jsx)("h1",{children:s("general:editingTakenOver")}),(0,h.jsx)("p",{children:s("general:anotherUserTakenOver")})]}),(0,h.jsxs)("div",{className:`${bc}__controls`,children:[(0,h.jsx)(na,{buttonStyle:"primary",id:`${bs}-back-to-dashboard`,onClick:e,size:"large",children:s("general:backToDashboard")}),(0,h.jsx)(na,{buttonStyle:"secondary",id:`${bs}-view-read-only`,onClick:n,size:"large",children:s("general:viewReadOnly")})]})]})}),r[5]=d,r[6]=i,r[7]=a,r[8]=l,r[9]=u,r[10]=s,r[11]=t}else t=r[11];return t},bd="document-locked",bf="document-locked",bp=e=>{let t,r,a=(0,v.c)(32),{handleGoBack:n,isActive:l,onReadOnly:i,onTakeOver:o,updatedAt:s,user:u}=e,{closeModal:d,openModal:p}=le(),{t:m}=(0,f.d)(),{clearRouteCache:g}=h7(),{startRouteTransition:b}=aR(),y,x;if(a[0]!==d||a[1]!==l||a[2]!==p?(y=()=>{l?p(bd):d(bd)},x=[l,p,d],a[0]=d,a[1]=l,a[2]=p,a[3]=y,a[4]=x):(y=a[3],x=a[4]),(0,c.useEffect)(y,x),a[5]!==n||a[6]!==b?(t=()=>{b(()=>n())},a[5]=n,a[6]=b,a[7]=t):t=a[7],a[8]!==g||a[9]!==d||a[10]!==n||a[11]!==i||a[12]!==o||a[13]!==b||a[14]!==m||a[15]!==t||a[16]!==s||a[17]!==u){let e,l,c,f;a[19]!==m||a[20]!==u?(e=u&&"object"==typeof u?u.email??u.id:`${m("general:user")}: ${u}`,a[19]=m,a[20]=u,a[21]=e):e=a[21],a[22]!==n||a[23]!==b?(l=()=>{b(()=>n())},a[22]=n,a[23]=b,a[24]=l):l=a[24],a[25]!==g||a[26]!==d||a[27]!==i?(c=()=>{i(),d(bd),g()},a[25]=g,a[26]=d,a[27]=i,a[28]=c):c=a[28],a[29]!==d||a[30]!==o?(f=()=>{o(),d(bd)},a[29]=d,a[30]=o,a[31]=f):f=a[31],r=(0,h.jsx)(lb,{className:bf,closeOnBlur:!1,onClose:t,slug:bd,children:(0,h.jsxs)("div",{className:`${bf}__wrapper`,children:[(0,h.jsxs)("div",{className:`${bf}__content`,children:[(0,h.jsx)("h1",{children:m("general:documentLocked")}),(0,h.jsxs)("p",{children:[(0,h.jsx)("strong",{children:e})," ",m("general:currentlyEditing")]}),(0,h.jsxs)("p",{children:[m("general:editedSince")," ",(0,h.jsx)("strong",{children:s?new Intl.DateTimeFormat("en-US",{day:"numeric",hour:"numeric",hour12:!0,minute:"numeric",month:"short",year:"numeric"}).format(new Date(s)):""})]})]}),(0,h.jsxs)("div",{className:`${bf}__controls`,children:[(0,h.jsx)(na,{buttonStyle:"secondary",id:`${bd}-go-back`,onClick:l,size:"large",children:m("general:goBack")}),(0,h.jsx)(na,{buttonStyle:"secondary",id:`${bd}-view-read-only`,onClick:c,size:"large",children:m("general:viewReadOnly")}),(0,h.jsx)(na,{buttonStyle:"primary",id:`${bd}-take-over`,onClick:f,size:"large",children:m("general:takeOver")})]})]})}),a[8]=g,a[9]=d,a[10]=n,a[11]=i,a[12]=o,a[13]=b,a[14]=m,a[15]=t,a[16]=s,a[17]=u,a[18]=r}else r=a[18];return r};function bh(e){let t=(0,v.c)(3),{i18n:r}=(0,f.d)(),{description:a}=e;if(a){let e;return t[0]!==a||t[1]!==r?(e=(0,h.jsx)("div",{className:"custom-view-description",children:m(a,r)}),t[0]=a,t[1]=r,t[2]=e):e=t[2],e}return null}var bm="graphic-account",bg=e=>(0,h.jsxs)("svg",{className:[bm,e?.active&&`${bm}--active`].filter(Boolean).join(" "),height:"25",viewBox:"0 0 25 25",width:"25",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("circle",{className:`${bm}__bg`,cx:"12.5",cy:"12.5",r:"11.5"}),(0,h.jsx)("circle",{className:`${bm}__head`,cx:"12.5",cy:"10.73",r:"3.98"}),(0,h.jsx)("path",{className:`${bm}__body`,d:"M12.5,24a11.44,11.44,0,0,0,7.66-2.94c-.5-2.71-3.73-4.8-7.66-4.8s-7.16,2.09-7.66,4.8A11.44,11.44,0,0,0,12.5,24Z"})]}),bb=(0,p.e)(rG(),1),bv=()=>{let e=(0,v.c)(2),{user:t}=ig(),r=(0,bb.default)(t.email.trim().toLowerCase()),a=`?${new URLSearchParams({default:"mp",r:"g",s:"50"}).toString()}`,n=`https://www.gravatar.com/avatar/${r}${a}`,l;return e[0]!==n?(l=(0,h.jsx)("img",{alt:"yas",className:"gravatar-account",height:25,src:n,style:{borderRadius:"50%"},width:25}),e[0]=n,e[1]=l):l=e[1],l},by=()=>{let e=(0,v.c)(3),{config:t}=(0,d.b)(),{admin:r,routes:a}=t,{avatar:n,routes:l}=r,{account:i}=l,{admin:o}=a,{user:s}=ig(),c=(0,b.usePathname)()===tE({adminRoute:o,path:i});if(!s?.email||"default"===n){let t;return e[0]!==c?(t=(0,h.jsx)(bg,{active:c}),e[0]=c,e[1]=t):t=e[1],t}if("gravatar"===n){let t;return e[2]===Symbol.for("react.memo_cache_sentinel")?(t=(0,h.jsx)(bv,{}),e[2]=t):t=e[2],t}},bx=(0,c.createContext)({Actions:{},setViewActions:()=>{}}),bw=()=>(0,c.use)(bx),bj=e=>{let t=(0,v.c)(4),{Actions:r,children:a}=e,[n,l]=(0,c.useState)(r),i;return t[0]!==r||t[1]!==a||t[2]!==n?(i=(0,h.jsx)(bx,{value:{Actions:{...n,...r},setViewActions:l},children:a}),t[0]=r,t[1]=a,t[2]=n,t[3]=i):i=t[3],i},bC=()=>(0,h.jsx)("svg",{className:"icon icon--close-menu",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{className:"stroke",d:"M14 6L6 14M6 6L14 14",strokeLinecap:"square"})}),bS=()=>(0,h.jsx)("svg",{className:"icon icon--menu",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{className:"stroke",d:"M4.66667 10H15.3333M4.66667 6H15.3333M4.66667 14H15.3333",strokeLinecap:"square"})}),b$="hamburger",b_=e=>{let t=(0,v.c)(4),{t:r}=(0,f.d)(),{closeIcon:a,isActive:n}=e,l=void 0===a?"x":a,i=void 0!==n&&n,o;return t[0]!==l||t[1]!==i||t[2]!==r?(o=(0,h.jsxs)("div",{className:b$,children:[!i&&(0,h.jsx)("div",{"aria-label":r("general:open"),className:`${b$}__open-icon`,title:r("general:open"),children:(0,h.jsx)(bS,{})}),i&&(0,h.jsxs)("div",{"aria-label":r("collapse"===l?"general:collapse":"general:close"),className:`${b$}__close-icon`,title:r("collapse"===l?"general:collapse":"general:close"),children:["x"===l&&(0,h.jsx)(bC,{}),"collapse"===l&&(0,h.jsx)(az,{direction:"left"})]})]}),t[0]=l,t[1]=i,t[2]=r,t[3]=o):o=t[3],o},bk="localizer-button",bE=e=>{let t=(0,v.c)(8),{ariaLabel:r,className:a}=e,n=i_(),{i18n:l,t:i}=(0,f.d)(),o;if(t[0]!==r||t[1]!==a||t[2]!==l||t[3]!==n||t[4]!==i){let e;t[6]!==a?(e=[bk,a].filter(Boolean),t[6]=a,t[7]=e):e=t[7],o=(0,h.jsxs)("div",{"aria-label":r||i("general:locale"),className:e.join(" "),"data-locale":n?n.code:void 0,children:[(0,h.jsxs)("div",{className:`${bk}__label`,children:[`${i("general:locale")}:`,""]}),(0,h.jsxs)("div",{className:`${bk}__current`,children:[(0,h.jsx)("span",{className:`${bk}__current-label`,children:`${m(n.label,l)}`}),(0,h.jsx)(az,{className:`${bk}__chevron`})]})]}),t[0]=r,t[1]=a,t[2]=l,t[3]=n,t[4]=i,t[5]=o}else o=t[5];return o},bN="localizer",bP=e=>{let t=(0,v.c)(17),{className:r}=e,{config:a}=(0,d.b)(),{localization:n}=a,l=(0,b.useRouter)(),{startRouteTransition:i}=aR(),{setLocaleIsLoading:o}=i$(),{i18n:s}=(0,f.d)(),u=i_();if(n){let{locales:e}=n,a;t[0]!==r?(a=[bN,r].filter(Boolean),t[0]=r,t[1]=a):a=t[1];let d=a.join(" "),f;if(t[2]!==s||t[3]!==u||t[4]!==e||t[5]!==l||t[6]!==o||t[7]!==i||t[8]!==d){let r;t[10]!==s||t[11]!==u||t[12]!==e||t[13]!==l||t[14]!==o||t[15]!==i?(r=t=>{let{close:r}=t;return(0,h.jsx)(aK.ButtonGroup,{children:e.map(e=>{let t=m(e.label,s);return(0,h.jsx)(aK.Button,{active:u.code===e.code,disabled:u.code===e.code,onClick:()=>{o(!0),r();let t=tZ({...ro(new URLSearchParams(window.location.search).toString(),{depth:10,ignoreQueryPrefix:!0}),locale:e.code},{addQueryPrefix:!0});i(()=>{l.push(t)})},children:t!==e.code?(0,h.jsxs)(c.Fragment,{children:[t,"",(0,h.jsx)("span",{className:`${bN}__locale-code`,"data-locale":e.code,children:`(${e.code})`})]}):(0,h.jsx)("span",{className:`${bN}__locale-code`,"data-locale":e.code,children:t})},e.code)})})},t[10]=s,t[11]=u,t[12]=e,t[13]=l,t[14]=o,t[15]=i,t[16]=r):r=t[16],f=(0,h.jsx)("div",{className:d,children:(0,h.jsx)(a7,{button:(0,h.jsx)(bE,{}),horizontalAlign:"right",render:r,showScrollbar:!0,size:"large"})}),t[2]=s,t[3]=u,t[4]=e,t[5]=l,t[6]=o,t[7]=i,t[8]=d,t[9]=f}else f=t[9];return f}return null},bD=c.default.createContext({hydrated:!1,navOpen:!0,navRef:null,setNavOpen:()=>{},shouldAnimate:!1}),bT=()=>c.default.use(bD),bO=async e=>{let t=(await e("nav"))?.open;return"boolean"!=typeof t||t},bR=({children:e,initialIsOpen:t})=>{let{breakpoints:{l:r,m:a,s:n}}=a0(),l=(0,b.usePathname)(),{getPreference:i}=ix(),o=(0,c.useRef)(null),[s,u]=c.default.useState(t),[d,f]=c.default.useState(!1),[p,m]=c.default.useState(!1);return(0,c.useEffect)(()=>{!1===r&&(async()=>{u(await bO(i))})()},[r,i,u]),(0,c.useEffect)(()=>{!0===n&&u(!1)},[l]),(0,c.useEffect)(()=>{o.current&&(s&&a?o.current.style.overscrollBehavior="contain":o.current.style.overscrollBehavior="auto")},[s,a]),(0,c.useEffect)(()=>{(!0===r||!0===a||!0===n)&&u(!1),m(!0);let e=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(e)}},[r,a,n]),(0,c.useEffect)(()=>()=>{o.current&&(o.current.style.overscrollBehavior="auto")},[]),(0,h.jsx)(bD,{value:{hydrated:p,navOpen:s,navRef:o,setNavOpen:u,shouldAnimate:d},children:e})},bA="nav-toggler",bI=e=>{let t,r=(0,v.c)(15),{id:a,children:n,className:l,tabIndex:i}=e,o=void 0===i?0:i,{t:s}=(0,f.d)(),{setPreference:c}=ix(),{navOpen:u,setNavOpen:d}=bT(),{breakpoints:p}=a0(),{l:m}=p,g=`${s(u?"general:close":"general:open")} ${s("general:menu")}`,b=u&&`${bA}--is-open`,y;r[0]!==l||r[1]!==b?(y=[bA,b,l].filter(Boolean),r[0]=l,r[1]=b,r[2]=y):y=r[2];let x=y.join(" "),w;return r[3]!==m||r[4]!==u||r[5]!==d||r[6]!==c?(w=async()=>{d(!u),m||await c("nav",{open:!u},!0)},r[3]=m,r[4]=u,r[5]=d,r[6]=c,r[7]=w):w=r[7],r[8]!==n||r[9]!==a||r[10]!==g||r[11]!==x||r[12]!==w||r[13]!==o?(t=(0,h.jsx)("button",{"aria-label":g,className:x,id:a,onClick:w,tabIndex:o,type:"button",children:n}),r[8]=n,r[9]=a,r[10]=g,r[11]=x,r[12]=w,r[13]=o,r[14]=t):t=r[14],t},bM=({fill:e})=>{let t=e||"var(--theme-elevation-1000)";return(0,h.jsxs)("svg",{className:"graphic-icon",height:"100%",viewBox:"0 0 25 25",width:"100%",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{d:"M11.8673 21.2336L4.40922 16.9845C4.31871 16.9309 4.25837 16.8355 4.25837 16.7282V10.1609C4.25837 10.0477 4.38508 9.97616 4.48162 10.0298L13.1404 14.9642C13.2611 15.0358 13.412 14.9464 13.412 14.8093V11.6091C13.412 11.4839 13.3456 11.3647 13.2309 11.2992L2.81624 5.36353C2.72573 5.30989 2.60505 5.30989 2.51454 5.36353L1.15085 6.14422C1.06034 6.19786 1 6.29321 1 6.40048V18.5995C1 18.7068 1.06034 18.8021 1.15085 18.8558L11.8491 24.9583C11.9397 25.0119 12.0603 25.0119 12.1509 24.9583L21.1355 19.8331C21.2562 19.7616 21.2562 19.5948 21.1355 19.5232L18.3357 17.9261C18.2211 17.8605 18.0883 17.8605 17.9737 17.9261L12.175 21.2336C12.0845 21.2872 11.9638 21.2872 11.8733 21.2336H11.8673Z",fill:t}),(0,h.jsx)("path",{d:"M22.8491 6.13827L12.1508 0.0417218C12.0603 -0.0119135 11.9397 -0.0119135 11.8491 0.0417218L6.19528 3.2658C6.0746 3.33731 6.0746 3.50418 6.19528 3.57569L8.97092 5.16091C9.08557 5.22647 9.21832 5.22647 9.33296 5.16091L11.8672 3.71872C11.9578 3.66508 12.0784 3.66508 12.1689 3.71872L19.627 7.96782C19.7175 8.02146 19.7778 8.11681 19.7778 8.22408V14.8212C19.7778 14.9464 19.8442 15.0656 19.9589 15.1311L22.7345 16.7104C22.8552 16.7819 23.006 16.6925 23.006 16.5554V6.40048C23.006 6.29321 22.9457 6.19786 22.8552 6.14423L22.8491 6.13827Z",fill:t})]})},bL=()=>(0,c.use)(bF),bF=(0,c.createContext)({}),bB=e=>{let t=(0,v.c)(4),{children:r}=e,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[],t[0]=a):a=t[0];let[n,l]=(0,c.useState)(a),i;return t[1]!==r||t[2]!==n?(i=(0,h.jsx)(bF,{value:{setStepNav:l,stepNav:n},children:r}),t[1]=r,t[2]=n,t[3]=i):i=t[3],i},bz=e=>{let t=(0,v.c)(4),{nav:r}=e,{setStepNav:a}=bL(),n,l;return t[0]!==r||t[1]!==a?(n=()=>{a(r)},l=[a,r],t[0]=r,t[1]=a,t[2]=n,t[3]=l):(n=t[2],l=t[3]),(0,c.useEffect)(n,l),null},bU="step-nav",bV=e=>{let t=(0,v.c)(7),{className:r,CustomIcon:a}=e,{i18n:n}=(0,f.d)(),{stepNav:l}=bL(),{config:i}=(0,d.b)(),{routes:o}=i,{admin:s}=o,{t:u}=(0,f.d)(),p;return t[0]!==a||t[1]!==s||t[2]!==r||t[3]!==n||t[4]!==l||t[5]!==u?(p=(0,h.jsx)(c.Fragment,{children:l.length>0?(0,h.jsxs)("nav",{className:[bU,r].filter(Boolean).join(" "),children:[(0,h.jsx)(aL,{className:`${bU}__home`,href:s,prefetch:!1,tabIndex:0,children:(0,h.jsx)("span",{title:u("general:dashboard"),children:(0,h.jsx)(rY,{CustomComponent:a,Fallback:(0,h.jsx)(bM,{})})})}),(0,h.jsx)("span",{children:"/"}),l.map((e,t)=>{let r=m(e.label,n);return l.length===t+1?(0,h.jsx)("span",{className:`${bU}__last`,children:r},t):(0,h.jsxs)(c.Fragment,{children:[e.url?(0,h.jsx)(aL,{href:e.url,prefetch:!1,children:(0,h.jsx)("span",{children:r},t)}):(0,h.jsx)("span",{children:r},t),(0,h.jsx)("span",{children:"/"})]},t)})]}):(0,h.jsx)("div",{className:[bU,r].filter(Boolean).join(" "),children:(0,h.jsx)("div",{className:`${bU}__home`,children:(0,h.jsx)("span",{title:u("general:dashboard"),children:(0,h.jsx)(rY,{CustomComponent:a,Fallback:(0,h.jsx)(bM,{})})})})})}),t[0]=a,t[1]=s,t[2]=r,t[3]=n,t[4]=l,t[5]=u,t[6]=p):p=t[6],p},bH="app-header";function bq({CustomAvatar:e,CustomIcon:t}){let{t:r}=(0,f.d)(),{Actions:a}=bw(),{config:{admin:{routes:{account:n}},localization:l,routes:{admin:i}}}=(0,d.b)(),{navOpen:o}=bT(),s=(0,c.useRef)(null),[u,p]=(0,c.useState)(!1);(0,c.useEffect)(()=>{let e=()=>{let e=s.current;e&&p(e.scrollWidth>e.clientWidth)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[a]);let m=a?Object.values(a):[];return(0,h.jsxs)("header",{className:[bH,o&&`${bH}--nav-open`].filter(Boolean).join(" "),children:[(0,h.jsx)("div",{className:`${bH}__bg`}),(0,h.jsx)("div",{className:`${bH}__content`,children:(0,h.jsxs)("div",{className:`${bH}__wrapper`,children:[(0,h.jsx)(bI,{className:`${bH}__mobile-nav-toggler`,tabIndex:-1,children:(0,h.jsx)(b_,{})}),(0,h.jsxs)("div",{className:`${bH}__controls-wrapper`,children:[(0,h.jsx)("div",{className:`${bH}__step-nav-wrapper`,children:(0,h.jsx)(bV,{className:`${bH}__step-nav`,CustomIcon:t})}),(0,h.jsxs)("div",{className:`${bH}__actions-wrapper`,children:[(0,h.jsx)("div",{className:`${bH}__actions`,ref:s,children:m.map((e,t)=>(0,h.jsx)("div",{className:u&&t===m.length-1?`${bH}__last-action`:"",children:e},t))}),u&&(0,h.jsx)("div",{className:`${bH}__gradient-placeholder`})]}),l&&(0,h.jsx)(bE,{ariaLabel:"invisible",className:`${bH}__localizer-spacing`}),(0,h.jsx)(aL,{"aria-label":r("authentication:account"),className:`${bH}__account`,href:tE({adminRoute:i,path:n}),prefetch:!1,tabIndex:0,children:(0,h.jsx)(rY,{CustomComponent:e,Fallback:(0,h.jsx)(by,{})})})]})]})}),(0,h.jsx)(bP,{className:`${bH}__localizer`})]})}var bK="card",bW=e=>{let{id:t,actions:r,buttonAriaLabel:a,href:n,onClick:l,title:i,titleAs:o}=e,s=[bK,t,(l||n)&&`${bK}--has-onclick`].filter(Boolean).join(" ");return(0,h.jsxs)("div",{className:s,id:t,children:[(0,h.jsx)(o??"div",{className:`${bK}__title`,children:i}),r&&(0,h.jsx)("div",{className:`${bK}__actions`,children:r}),(l||n)&&(0,h.jsx)(na,{"aria-label":a,buttonStyle:"none",className:`${bK}__click`,el:"link",onClick:l,to:n})]})},bG="copy-locale-data",bY="copy-locale",bX=()=>{let e,t,r,a,n,l,i,o=(0,v.c)(36),{config:s}=(0,d.b)(),{localization:u,routes:p,serverURL:g}=s,{admin:y}=p,{code:x}=i_(),{id:w,collectionSlug:j,globalSlug:C}=o$(),{i18n:S,t:$}=(0,f.d)(),_=as(),{toggleModal:k}=le(),{copyDataFromLocale:E}=fs(),N=(0,b.useRouter)(),{startRouteTransition:P}=aR(),D=u&&u.locales.map(bQ)||[],T;o[0]!==x?(T=e=>e.value!==x,o[0]=x,o[1]=T):T=o[1];let O=D.filter(T),R;o[2]!==S||o[3]!==u?(R=e=>{let t=u&&u.locales.find(t=>t.code===e);return t&&t.label?m(t.label,S):e},o[2]=S,o[3]=u,o[4]=R):R=o[4];let A=R,[I,M]=c.default.useState(!1),[L,F]=c.default.useState(null),[B,z]=c.default.useState(x),[U,V]=c.default.useState(!1),H,q;o[5]!==x||o[6]!==B?(H=()=>{B!==x&&z(x)},q=[x,B],o[5]=x,o[6]=B,o[7]=H,o[8]=q):(H=o[7],q=o[8]),c.default.useEffect(H,q),o[9]!==y||o[10]!==j||o[11]!==E||o[12]!==C||o[13]!==w||o[14]!==U||o[15]!==N||o[16]!==g||o[17]!==P||o[18]!==k?(e=async e=>{let{from:t,to:r}=e;M(!0);try{await E({collectionSlug:j,docID:w,fromLocale:t,globalSlug:C,overrideData:U,toLocale:r}),M(!1),P(()=>N.push(tE({adminRoute:y,path:`/${j?`collections/${j}/${w}`:`globals/${C}`}`,serverURL:g})+`?locale=${r}`)),k(bY)}catch(e){a_.error(e.message)}},o[9]=y,o[10]=j,o[11]=E,o[12]=C,o[13]=w,o[14]=U,o[15]=N,o[16]=g,o[17]=P,o[18]=k,o[19]=e):e=o[19];let K=e;return w||C?(o[20]!==_||o[21]!==$||o[22]!==k?(t=()=>{_?a_.info($("general:unsavedChanges")):k(bY)},o[20]=_,o[21]=$,o[22]=k,o[23]=t):t=o[23],o[24]!==k?(r=()=>{k(bY)},o[24]=k,o[25]=r):r=o[25],o[26]!==K||o[27]!==I||o[28]!==B||o[29]!==$||o[30]!==L?(a=async()=>{B===L?a_.error($("localization:cannotCopySameLocale")):I||await K({from:B,to:L})},o[26]=K,o[27]=I,o[28]=B,o[29]=$,o[30]=L,o[31]=a):a=o[31],o[32]===Symbol.for("react.memo_cache_sentinel")?(n=e=>{e?.value&&z(e.value)},o[32]=n):n=o[32],o[33]===Symbol.for("react.memo_cache_sentinel")?(l=e=>{e?.value&&F(e.value)},o[33]=l):l=o[33],o[34]!==U?(i=()=>V(!U),o[34]=U,o[35]=i):i=o[35],(0,h.jsxs)(c.default.Fragment,{children:[(0,h.jsx)(aK.Button,{id:`${bG}__button`,onClick:t,children:$("localization:copyToLocale")}),(0,h.jsxs)(ir,{className:bG,gutter:!1,Header:(0,h.jsx)(hk,{onClose:r,title:$("localization:copyToLocale")}),slug:bY,children:[(0,h.jsxs)("div",{className:`${bG}__sub-header`,children:[(0,h.jsx)("span",{children:B&&L?(0,h.jsx)("div",{children:$("localization:copyFromTo",{from:A(B),to:A(L)})}):$("localization:selectLocaleToCopy")}),(0,h.jsx)(na,{buttonStyle:"primary",disabled:!B||!L,iconPosition:"left",onClick:a,size:"medium",children:I?$("general:copying")+"...":$("general:copy")})]}),(0,h.jsxs)("div",{className:`${bG}__content`,children:[(0,h.jsx)(pX,{label:$("localization:copyFrom"),name:"fromLocale",onChange:n,options:D,path:"fromLocale",readOnly:!0,value:B}),(0,h.jsx)(pX,{label:$("localization:copyTo"),name:"toLocale",onChange:l,options:O,path:"toLocale",value:L}),(0,h.jsx)(oK,{checked:U,field:{name:"overwriteExisting",label:$("general:overwriteExistingData")},onChange:i,path:"overwriteExisting"})]})]})]})):null};function bQ(e){return{label:e.label,value:e.code}}var bJ=((i={}).AllAvailable="allAvailable",i.AllInPage="allInPage",i.None="none",i.Some="some",i),bZ=(0,c.createContext)({count:void 0,getQueryParams:e=>"",getSelectedIds:()=>[],selectAll:void 0,selected:new Map,selectedIDs:[],setSelection:e=>{},toggleAll:e=>{},totalDocs:void 0}),b0=e=>{let t=[];for(let[r,a]of e)a&&t.push(r);return t},b1=({children:e,docs:t=[],totalDocs:r})=>{let a=(0,c.useRef)({}),{user:n}=ig(),{code:l}=i_(),[i,o]=(0,c.useState)(()=>{let e=new Map;return t.forEach(({id:t})=>{e.set(t,!1)}),e}),[s,u]=(0,c.useState)("none"),[d,f]=(0,c.useState)(0),p=(0,b.useSearchParams)(),{query:m}=fa(),g=(0,c.useCallback)((e=!1)=>{let r=new Map;e?(u("allAvailable"),t.forEach(({id:e,_isLocked:t,_userEditing:a})=>{t&&a?.id!==n?.id||r.set(e,!0)})):"allAvailable"===s||"allInPage"===s?u("none"):t.forEach(({id:e,_isLocked:t,_userEditing:a})=>{t&&a?.id!==n?.id||r.set(e,"some"!==s)}),o(r)},[t,s,n?.id]),v=(0,c.useCallback)(e=>{let r=t.find(t=>t.id===e);if(r?._isLocked&&n?.id!==r?._userEditing.id)return;let a=i.get(e),l="boolean"!=typeof a||!a,c=new Map(i.set(e,l));"allAvailable"!==s||l||u("some"),o(c)},[i,t,s,n?.id]),y=(0,c.useCallback)(e=>{let t;if("allAvailable"===s)t=ft(p)?.where||{id:{not_equals:""}};else{let e=[];for(let[t,r]of i)r&&e.push(t);t={id:{in:e}}}return e&&(t={and:[{...e},t]}),tZ({locale:l,where:t},{addQueryPrefix:!0})},[s,i,l,p]),x=(0,c.useCallback)(()=>b0(i),[i]);(0,c.useEffect)(()=>{if("allAvailable"===s)return;let e=!1,r=!0;if(i.size)for(let[t,a]of i)r=r&&a,e=e||a;else r=!1,e=!1;r&&i.size===t.length?u("allInPage"):u(e?"some":"none")},[s,i,r,t]),(0,c.useEffect)(()=>{let e=0;if("allAvailable"===s)e=r;else for(let[t,r]of i)r&&e++;f(e)},[s,i,r]),(0,c.useEffect)(()=>{u("none"),o(new Map)},[m]);let w=(0,c.useMemo)(()=>b0(i),[i]);return a.current={count:d,getQueryParams:y,getSelectedIds:x,selectAll:s,selected:i,selectedIDs:w,setSelection:v,toggleAll:g,totalDocs:r},(0,h.jsx)(bZ,{value:a.current,children:e})},b3=()=>(0,c.use)(bZ),b2="list-selection";function b6(e){let t=(0,v.c)(5),{count:r,ListActions:a,SelectionActions:n}=e,{t:l}=(0,f.d)(),i;return t[0]!==a||t[1]!==n||t[2]!==r||t[3]!==l?(i=(0,h.jsxs)("div",{className:b2,children:[(0,h.jsx)("span",{children:l("general:selectedCount",{count:r,label:""})}),a&&a.length>0&&(0,h.jsxs)(c.default.Fragment,{children:[(0,h.jsx)("span",{children:""}),(0,h.jsx)("div",{className:`${b2}__actions`,children:a})]}),n&&n.length>0&&(0,h.jsxs)(c.default.Fragment,{children:[(0,h.jsx)("span",{children:""}),(0,h.jsx)("div",{className:`${b2}__actions`,children:n})]})]}),t[0]=a,t[1]=n,t[2]=r,t[3]=l,t[4]=i):i=t[4],i}function b5({children:e,className:t,...r}){return(0,h.jsx)(na,{...r,buttonStyle:"none",className:[`${b2}__button`,t].filter(Boolean).join(" "),children:e})}var b4=e=>{let t=(0,v.c)(6),{viewType:r}=e,{collection:a,modalPrefix:n}=e,{slug:l,trash:i}=void 0===a?{}:a,{permissions:o}=ig(),{count:s,selectAll:u,selectedIDs:d,toggleAll:f}=b3(),p=(0,b.useRouter)(),m=(0,b.useSearchParams)(),{clearRouteCache:g}=h7(),y=o?.collections?.[l]?.delete,x=u===bJ.AllAvailable,w=x?[]:d;if(u===bJ.None||!y)return null;let j=ft(m)?.where,C="trash"===r?{and:[...Array.isArray(j?.and)?j.and:j?[j]:[],{deletedAt:{exists:!0}}]}:j,S;return t[0]!==g||t[1]!==p||t[2]!==m||t[3]!==u||t[4]!==f?(S=()=>{f(),p.replace(tZ({...ft(m),page:u?"1":void 0},{addQueryPrefix:!0})),g()},t[0]=g,t[1]=p,t[2]=m,t[3]=u,t[4]=f,t[5]=S):S=t[5],(0,h.jsx)(c.default.Fragment,{children:(0,h.jsx)(b8,{afterDelete:S,modalPrefix:n,search:ft(m)?.search,selections:{[l]:{all:u===bJ.AllAvailable,ids:w,totalCount:x?s:w.length}},trash:i,viewType:r,where:C})})};function b8({afterDelete:e,modalPrefix:t,search:r,selections:a,trash:n,viewType:l,where:i}){let{t:o}=(0,f.d)(),{config:{collections:s,routes:{api:u},serverURL:p}}=(0,d.b)(),{code:g}=i_(),{i18n:b}=(0,f.d)(),{openModal:v}=le(),[y,x]=c.default.useState(!1),w=`${t?`${t}-`:""}confirm-delete-many-docs`,j=c.default.useCallback(async()=>{let t=1===Object.keys(a).length,n={};for(let[e,{all:c,ids:d=[]}]of Object.entries(a)){let a=s.find(({slug:t})=>t===e);if(a){let s;s=c?t&&i?"trash"===l?{and:[...Array.isArray(i.and)?i.and:[i],{deletedAt:{exists:!0}}]}:i:"trash"===l?{and:[{id:{not_equals:""}},{deletedAt:{exists:!0}}]}:{id:{not_equals:""}}:{and:[{id:{in:d}},..."trash"===l?[{deletedAt:{exists:!0}}]:[]]};let f=`${p}${u}/${e}${tZ({limit:0,locale:g,where:t4({collectionConfig:a,search:r,where:s}),..."trash"===l?{trash:!0}:{}},{addQueryPrefix:!0})}`,h="trash"===l||y||!a.trash?await ip.delete(f,{headers:{"Accept-Language":b.language,"Content-Type":"application/json"}}):await ip.patch(f,{body:JSON.stringify({deletedAt:new Date().toISOString()}),headers:{"Accept-Language":b.language,"Content-Type":"application/json"}});try{let{plural:t,singular:r}=a.labels,i=await h.json(),s=i?.docs.length||0,c=s>1?t:r;if(h.status<400||s>0){let e;e=a.trash&&!y&&"trash"!==l?"general:trashedCountSuccessfully":"trash"===l||y?"general:permanentlyDeletedCountSuccessfully":"general:deletedCountSuccessfully",a_.success(o(e,{count:s,label:m(c,b)}))}i?.errors.length>0&&a_.error(i.message,{description:i.errors.map(e=>e.message).join(`
`)}),n[e]={deletedCount:s,errors:i?.errors||null,ids:i?.docs.map(e=>e.id)||[],totalCount:i.totalDocs},h.status>400&&i?.errors.length===0&&(a_.error(o("error:unknown")),n[e].errors=[o("error:unknown")]);continue}catch(t){a_.error(o("error:unknown")),n[e]={deletedCount:0,errors:[t],ids:[],totalCount:0};continue}}}"function"==typeof e&&e(n)},[a,e,s,y,g,r,p,u,b,l,i,o]),{label:C,labelCount:S}=Object.entries(a).reduce((e,[t,r],a,n)=>{let l=s.find(({slug:e})=>e===t);if(l){let t=void 0===e.labelCount?r.totalCount:e.labelCount,i=`${void 0!==e.labelCount?`${r.totalCount} `:""}${m(r.totalCount>1?l.labels.plural:l.labels.singular,b)}`;return{label:a===n.length-1&&0!==a?`${e.label} and ${i}`:a>0?`${e.label}, ${i}`:i,labelCount:t}}return e},{label:"",labelCount:void 0});return(0,h.jsxs)(c.default.Fragment,{children:[(0,h.jsx)(b5,{"aria-label":o("general:delete"),className:"delete-documents__toggle",onClick:()=>{v(w)},children:o("general:delete")}),(0,h.jsx)(is,{body:(0,h.jsxs)(c.default.Fragment,{children:[(0,h.jsx)("p",{children:n?"trash"===l?(0,h.jsx)(mc,{elements:{0:({children:e})=>(0,h.jsx)("strong",{children:e}),1:({children:e})=>(0,h.jsx)("strong",{children:e})},i18nKey:"general:aboutToPermanentlyDeleteTrash",t:o,variables:{count:S??0,label:C}}):o("general:aboutToTrashCount",{count:S,label:C}):o("general:aboutToDeleteCount",{count:S,label:C})}),n&&"trash"!==l&&(0,h.jsx)("div",{className:"delete-documents__checkbox",children:(0,h.jsx)(oH,{checked:y,id:"delete-forever",label:o("general:deletePermanently"),name:"delete-forever",onToggle:e=>x(e.target.checked)})})]}),confirmingLabel:o("general:deleting"),heading:o("general:confirmDeletion"),modalSlug:w,onConfirm:j})]})}var b9=(0,c.createContext)({appIsReady:!1,breakpoint:void 0,breakpoints:void 0,iframeRef:void 0,isLivePreviewEnabled:void 0,isLivePreviewing:!1,isPopupOpen:!1,measuredDeviceSize:{height:0,width:0},openPopupWindow:()=>{},popupRef:void 0,previewWindowType:"iframe",setAppIsReady:()=>{},setBreakpoint:()=>{},setHeight:()=>{},setIsLivePreviewing:()=>{},setLoadedURL:()=>{},setMeasuredDeviceSize:()=>{},setPreviewWindowType:()=>{},setSize:()=>{},setToolbarPosition:()=>{},setURL:()=>{},setWidth:()=>{},setZoom:()=>{},size:{height:0,width:0},toolbarPosition:{x:0,y:0},typeofLivePreviewURL:void 0,url:void 0,zoom:1}),b7=()=>(0,c.use)(b9),ve=({id:e,collection:t,global:r})=>{let{config:{routes:{api:a},serverURL:n}}=(0,d.b)(),{docConfig:l,lastUpdateTime:i,mostRecentVersionIsAutosaved:o,setMostRecentVersionIsAutosaved:s,setUnpublishedVersionCount:u}=o$(),{isValid:p,setBackgroundProcessing:m,submit:g}=ar(),[b]=ad(),v=as(),y=al(),{code:x}=i_(),{i18n:w,t:j}=(0,f.d)(),C=l?.versions,S=2e3;C.drafts&&C.drafts.autosave&&(S=C.drafts.autosave.interval);let $=!!(l?.versions?.drafts&&l?.versions?.drafts.validate),[_,k]=(0,c.useState)(!1),E=(0,c.useDeferredValue)(_),N=fM(b,S),P=(0,c.useRef)(b),D=(0,c.useRef)(v),T=(0,c.useRef)(x);P.current=b,D.current=v,T.current=x;let{queueTask:O}=pN(),R=(0,c.useRef)(null),A=id(()=>{let l,i;R.current=void 0,O(async()=>{if(v){var c,d;let f,p,h,m;l=new Date().getTime(),k(!0),t&&e&&(h=t.slug,f=`${n}${a}/${h}/${e}?depth=0&draft=true&autosave=true&locale=${T.current}`,p="PATCH"),r&&(h=r.slug,f=`${n}${a}/globals/${h}?depth=0&draft=true&autosave=true&locale=${T.current}`,p="POST");let{valid:b}=(c=P.current,m={data:{},valid:!0},c&&(Object.keys(c).forEach(e=>{(!0===d||!c[e]?.disableFormData)&&(m.data[e]=c[e]?.value,c[e].valid||(m.valid=!1))}),m.data=rb(m.data)),m);if(!(y&&!b&&C?.drafts&&C?.drafts?.validate)&&D.current&&f){let e=await g({acceptValues:{overrideLocalChanges:!1},action:f,context:{getDocPermissions:!1,incrementVersionCount:!o},disableFormWhileProcessing:!1,disableSuccessStatus:!0,method:p,overrides:{_status:"draft"},skipValidation:C?.drafts&&!C?.drafts?.validate});e&&e?.res?.ok&&!o&&(s(!0),u(e=>e+1)),(i=new Date().getTime())-l<1e3?R.current=setTimeout(()=>{k(!1)},1e3-(i-l)):L()}}},{afterProcess:()=>{m(!1)},beforeProcess:()=>{m(!0)}})}),I=(0,c.useRef)(!1),M=(0,c.useRef)(rv(N));(0,c.useEffect)(()=>{if(!I.current){I.current=!0;return}let{updatedAt:e,...t}=rv(N),{updatedAt:r,...a}=M.current;(0,t0.dequal)(t,a)||(M.current=t,A())},[N]),(0,c.useEffect)(()=>()=>{L()},[]);let L=id(()=>{R.current&&clearTimeout(R.current),k(!1)});return(0,h.jsxs)("div",{className:"autosave",children:[$&&!p&&(0,h.jsx)(bo,{}),E&&j("general:saving"),!E&&!!i&&(0,h.jsx)(c.default.Fragment,{children:j("version:lastSavedAgo",{distance:op({date:i,i18n:w})})})]})},vt="delete-document",vr=e=>{let{id:t,buttonId:r,collectionSlug:a,onDelete:n,redirectAfterDelete:l=!0,singularLabel:i,title:o}=e,{config:{routes:{admin:s,api:u},serverURL:p},getEntityConfig:g}=(0,d.b)(),v=g({collectionSlug:a}),{setModified:y}=ar(),x=(0,b.useRouter)(),{i18n:w,t:j}=(0,f.d)(),{title:C}=ov(),{startRouteTransition:S}=aR(),{openModal:$}=le(),_=`delete-${t}`,[k,E]=(0,c.useState)(!1),N=(0,c.useCallback)(()=>{a_.error(j("error:deletingTitle",{title:C}))},[j,C]),P=(0,c.useCallback)(async()=>{y(!1);try{let e=k||!v.trash?await ip.delete(`${p}${u}/${a}/${t}`,{headers:{"Accept-Language":w.language,"Content-Type":"application/json"}}):await ip.patch(`${p}${u}/${a}/${t}`,{body:JSON.stringify({deletedAt:new Date().toISOString()}),headers:{"Accept-Language":w.language,"Content-Type":"application/json"}}),r=await e.json();if(e.status<400){if(a_.success(j(k||!v.trash?"general:titleDeleted":"general:titleTrashed",{label:m(i,w),title:C})||r.message),l)return S(()=>x.push(tE({adminRoute:s,path:`/collections/${a}`})));"function"==typeof n&&await n({id:t,collectionConfig:v});return}r.errors?r.errors.forEach(e=>a_.error(e.message)):N();return}catch{return N()}},[k,y,p,u,a,t,j,i,N,w,C,x,s,l,n,v,S]);return t?(0,h.jsxs)(c.Fragment,{children:[(0,h.jsx)(aK.Button,{id:r,onClick:()=>{$(_)},children:j("general:delete")}),(0,h.jsx)(is,{body:(0,h.jsxs)(c.Fragment,{children:[(0,h.jsx)(mc,{elements:{1:({children:e})=>(0,h.jsx)("strong",{children:e})},i18nKey:v.trash?"general:aboutToTrash":"general:aboutToDelete",t:j,variables:{label:m(i,w),title:o||C||t}}),v.trash&&(0,h.jsx)("div",{className:`${vt}__checkbox`,children:(0,h.jsx)(oH,{checked:k,id:"delete-forever",label:j("general:deletePermanently"),name:"delete-forever",onToggle:e=>E(e.target.checked)})})]}),className:vt,confirmingLabel:j("general:deleting"),heading:j("general:confirmDeletion"),modalSlug:_,onConfirm:P})]}):null},va=({id:e,slug:t,onDuplicate:r,redirectAfterDuplicate:a=!0,singularLabel:n})=>{let l=(0,b.useRouter)(),i=as(),{openModal:o}=le(),s=i_(),{setModified:u}=ar(),{startRouteTransition:p}=aR(),{config:{routes:{admin:g,api:v},serverURL:y},getEntityConfig:x}=(0,d.b)(),w=x({collectionSlug:t}),[j,C]=c.default.useState(!1),{i18n:S,t:$}=(0,f.d)(),_=`duplicate-${e}`,k=(0,c.useCallback)(async()=>{C(!0),await ip.post(`${y}${v}/${t}/${e}/duplicate${s?.code?`?locale=${s.code}`:""}`,{body:JSON.stringify({}),headers:{"Accept-Language":S.language,"Content-Type":"application/json",credentials:"include"}}).then(async e=>{let{doc:i,errors:o,message:c}=await e.json();if(e.status<400){if(a_.success(c||$("general:successfullyDuplicated",{label:m(n,S)})),u(!1),a)return p(()=>l.push(tE({adminRoute:g,path:`/collections/${t}/${i.id}${s?.code?`?locale=${s.code}`:""}`})));"function"==typeof r&&r({collectionConfig:w,doc:i})}else a_.error(o?.[0].message||c||$("error:unspecific",{label:m(n,S)}))})},[s,y,v,t,e,S,$,n,r,a,u,l,g,w,p]),E=(0,c.useCallback)(async()=>{C(!1),await k()},[k]);return(0,h.jsxs)(c.default.Fragment,{children:[(0,h.jsx)(aK.Button,{id:"action-duplicate",onClick:()=>i?(C(!0),o(_)):k(),children:$("general:duplicate")}),j&&(0,h.jsx)(is,{body:$("general:unsavedChangesDuplicate"),confirmLabel:$("general:duplicateWithoutSaving"),heading:$("general:unsavedChanges"),modalSlug:_,onConfirm:E})]})},vn=({active:e=!0,className:t})=>(0,h.jsx)("svg",{className:[t,"icon icon--eye"].filter(Boolean).join(" "),viewBox:"0 0 16 12",xmlns:"http://www.w3.org/2000/svg",children:e?(0,h.jsx)(c.Fragment,{children:(0,h.jsx)("path",{className:"stroke",d:"M2 11.5L4.35141 9.51035M15 0.5L12.6486 2.48965M10.915 6.64887C10.6493 7.64011 9.78959 8.38832 8.7408 8.48855M10.4085 4.38511C9.94992 3.84369 9.2651 3.5 8.5 3.5C7.11929 3.5 6 4.61929 6 6C6 6.61561 6.22251 7.17926 6.59149 7.61489M10.4085 4.38511L6.59149 7.61489M10.4085 4.38511L12.6486 2.48965M6.59149 7.61489L4.35141 9.51035M14.1292 3.92915C15.0431 5.02085 15.5 6 15.5 6C15.5 6 13.1667 11 8.5 11C7.67995 11 6.93195 10.8456 6.256 10.5911M4.35141 9.51035C2.45047 8.03672 1.5 6 1.5 6C1.5 6 3.83333 1 8.5 1C10.1882 1 11.5711 1.65437 12.6486 2.48965"})}):(0,h.jsxs)(c.Fragment,{children:[(0,h.jsx)("circle",{className:"stroke",cx:"8.5",cy:"6",r:"2.5"}),(0,h.jsx)("path",{className:"stroke",d:"M8.5 1C3.83333 1 1.5 6 1.5 6C1.5 6 3.83333 11 8.5 11C13.1667 11 15.5 6 15.5 6C15.5 6 13.1667 1 8.5 1Z"})]})}),vl="live-preview-toggler",vi=()=>{let{isLivePreviewing:e,setIsLivePreviewing:t,url:r}=b7(),{t:a}=(0,f.d)();return r?(0,h.jsx)("button",{"aria-label":a(e?"general:exitLivePreview":"general:livePreview"),className:[vl,e&&`${vl}--active`].filter(Boolean).join(" "),id:"live-preview-toggler",onClick:()=>{t(!e)},title:a(e?"general:exitLivePreview":"general:livePreview"),type:"button",children:(0,h.jsx)(vn,{active:e})}):null},vo=({className:e})=>(0,h.jsxs)("svg",{className:["icon icon--lock",e].filter(Boolean).join(" "),fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{className:"stroke",d:"M7.5 9.5V7.5C7.5 6.83696 7.76339 6.20107 8.23223 5.73223C8.70107 5.26339 9.33696 5 10 5C10.663 5 11.2989 5.26339 11.7678 5.73223C12.2366 6.20107 12.5 6.83696 12.5 7.5V9.5",strokeLinecap:"round",strokeLinejoin:"round",strokeOpacity:"1"}),(0,h.jsx)("path",{className:"stroke",d:"M13.5 9.5H6.5C5.94772 9.5 5.5 9.94772 5.5 10.5V14C5.5 14.5523 5.94772 15 6.5 15H13.5C14.0523 15 14.5 14.5523 14.5 14V10.5C14.5 9.94772 14.0523 9.5 13.5 9.5Z",stopOpacity:"1",strokeLinecap:"round",strokeLinejoin:"round"})]}),vs="locked",vc=e=>{let t=(0,v.c)(8),{className:r,user:a}=e,[n,l]=(0,c.useState)(!1),{t:i}=(0,f.d)(),o=a&&"object"==typeof a?a.email??a.id:i("general:anotherUser"),s;t[0]!==r?(s=[vs,r].filter(Boolean),t[0]=r,t[1]=s):s=t[1];let u=s.join(" "),d,p;t[2]===Symbol.for("react.memo_cache_sentinel")?(d=()=>l(!0),p=()=>l(!1),t[2]=d,t[3]=p):(d=t[2],p=t[3]);let m=`${o} ${i("general:isEditing")}`,g;return t[4]!==n||t[5]!==u||t[6]!==m?(g=(0,h.jsxs)("div",{className:u,onMouseEnter:d,onMouseLeave:p,role:"button",tabIndex:0,children:[(0,h.jsx)(ne,{alignCaret:"left",className:`${vs}__tooltip`,position:"top",show:n,children:m}),(0,h.jsx)(vo,{})]}),t[4]=n,t[5]=u,t[6]=m,t[7]=g):g=t[7],g},vu=e=>{let{id:t,buttonId:r,collectionSlug:a,onDelete:n,redirectAfterDelete:l=!0,singularLabel:i,title:o}=e,{config:{routes:{admin:s,api:u},serverURL:p},getEntityConfig:g}=(0,d.b)(),v=g({collectionSlug:a}),y=(0,b.useRouter)(),{i18n:x,t:w}=(0,f.d)(),{title:j}=ov(),{startRouteTransition:C}=aR(),{openModal:S}=le(),$=`perma-delete-${t}`,_=(0,c.useCallback)(()=>{a_.error(w("error:deletingTitle",{title:j}))},[w,j]),k=(0,c.useCallback)(async()=>{try{let e=`${p}${u}/${a}?${tZ({trash:!0,where:{and:[{id:{equals:t}},{deletedAt:{exists:!0}}]}})}`,r=await ip.delete(e,{headers:{"Accept-Language":x.language,"Content-Type":"application/json"}}),o=await r.json();if(r.status<400){if(a_.success(w("general:titleDeleted",{label:m(i,x),title:j})||o.message),l)return C(()=>y.push(tE({adminRoute:s,path:`/collections/${a}/trash`})));"function"==typeof n&&await n({id:t,collectionConfig:v});return}o.errors?o.errors.forEach(e=>a_.error(e.message)):_()}catch{_()}},[p,u,a,t,w,i,_,x,j,y,s,l,n,v,C]);return t?(0,h.jsxs)(c.Fragment,{children:[(0,h.jsx)(na,{buttonStyle:"secondary",id:r,onClick:()=>{S($)},children:w("general:permanentlyDelete")}),(0,h.jsx)(is,{body:(0,h.jsx)(mc,{elements:{1:({children:e})=>(0,h.jsx)("strong",{children:e})},i18nKey:"general:aboutToPermanentlyDelete",t:w,variables:{label:m(i,x),title:o||j||t}}),confirmingLabel:w("general:deleting"),heading:w("general:confirmDeletion"),modalSlug:$,onConfirm:k})]}):null},vd=e=>{let{className:t}=e;return(0,h.jsx)("svg",{className:[t,"icon icon--externalLink"].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{className:"stroke",d:"M16 10.6667V14.6667C16 15.0203 15.8595 15.3594 15.6095 15.6095C15.3594 15.8595 15.0203 16 14.6667 16H5.33333C4.97971 16 4.64057 15.8595 4.39052 15.6095C4.14048 15.3594 4 15.0203 4 14.6667V5.33333C4 4.97971 4.14048 4.64057 4.39052 4.39052C4.64057 4.14048 4.97971 4 5.33333 4H9.33333M16 4L10 10M16 4H12M16 4V8",strokeLinecap:"square"})})};function vf(e){let t,r=(0,v.c)(5),{generatePreviewURL:a,label:n}=(()=>{let{id:e,collectionSlug:t,globalSlug:r,versionCount:a}=o$(),[n,l]=(0,c.useState)(!1),[i,o]=(0,c.useState)(""),{code:s}=i_(),u=a>0,{config:{routes:{api:p},serverURL:h}}=(0,d.b)(),{t:m}=(0,f.d)(),g=(0,c.useRef)(!1);return{generatePreviewURL:(0,c.useCallback)(async({openPreviewWindow:a=!1})=>{if(!g.current){g.current=!0;try{l(!0);let n=`${h}${p}`;t&&(n=`${n}/${t}/${e}/preview`),r&&(n=`${n}/globals/${r}/preview`);let i=await fetch(`${n}?${tZ({draft:u?"true":"false",locale:s||void 0})}`);if(!i.ok)throw Error();let c=await i.json();if(!c)throw Error();o(c),l(!1),g.current=!1,a&&window.open(c,"_blank")}catch{l(!1),g.current=!1,a_.error(m("error:previewing"))}}},[h,p,t,r,u,s,e,m]),isLoading:n,label:m(n?"general:loading":"version:preview"),previewURL:i}})(),l;return r[0]!==a?(l=()=>{a({openPreviewWindow:!0})},r[0]=a,r[1]=l):l=r[1],r[2]!==n||r[3]!==l?(t=(0,h.jsx)("button",{"aria-label":n,className:"preview-btn",id:"preview-button",onClick:l,title:n,type:"button",children:(0,h.jsx)(vd,{})}),r[2]=n,r[3]=l,r[4]=t):t=r[4],t}var vp=e=>{for(let t of e){if("localized"in t&&t.localized)return!0;switch(t.type){case"array":case"collapsible":case"group":case"row":if(t.fields&&vp(t.fields))return!0;break;case"blocks":if(t.blocks){for(let e of t.blocks)if(e.fields&&vp(e.fields))return!0}break;case"tabs":if(t.tabs){for(let e of t.tabs)if("localized"in e&&e.localized||"fields"in e&&e.fields&&vp(e.fields))return!0}}}return!1},vh="table",vm=({appearance:e,BeforeTable:t,columns:r,data:a})=>{let n=r?.filter(e=>e?.active);return n&&0!==n.length?(0,h.jsxs)("div",{className:[vh,e&&`${vh}--appearance-${e}`].filter(Boolean).join(" "),children:[t,(0,h.jsxs)("table",{cellPadding:"0",cellSpacing:"0",children:[(0,h.jsx)("thead",{children:(0,h.jsx)("tr",{children:n.map((e,t)=>(0,h.jsx)("th",{id:`heading-${e.accessor.replace(/\./g,"__")}`,children:e.Heading},t))})}),(0,h.jsx)("tbody",{children:a&&a?.map((e,t)=>(0,h.jsx)("tr",{className:`row-${t+1}`,children:n.map((e,r)=>{let{accessor:a}=e;return(0,h.jsx)("td",{className:`cell-${a.replace(/\./g,"__")}`,children:e.renderedCells[t]},r)})},"string"==typeof e.id||"number"==typeof e.id?String(e.id):t))})]})]}):(0,h.jsx)("div",{children:"No columns selected"})},vg="schedule-publish",vb={label:"All",value:"all"},vv=({slug:e,defaultType:t,schedulePublishConfig:r})=>{let{toggleModal:a}=le(),{config:{admin:{dateFormat:n,timezones:{defaultTimezone:l,supportedTimezones:i}},localization:o,routes:{api:s},serverURL:u}}=(0,d.b)(),{id:p,collectionSlug:g,globalSlug:b}=o$(),{title:v}=ov(),{i18n:y,t:x}=(0,f.d)(),{schedulePublish:w}=fs(),[j,C]=c.default.useState(t||"publish"),[S,$]=c.default.useState(),[_,k]=c.default.useState(l),[E,N]=c.default.useState(vb),[P,D]=c.default.useState(!1),T=x("general:schedulePublishFor",{title:v}),[O,R]=c.default.useState(),[A,I]=c.default.useState(),M=c.default.useRef(()=>null),L=Intl.DateTimeFormat().resolvedOptions().timeZone,F=c.default.useMemo(()=>{if(o){let e=o.locales.map(({code:e,label:t})=>({label:m(t,y),value:e}));return e.unshift(vb),e}return[]},[o,y]),B=c.default.useCallback(async()=>{let e={sort:"waitUntil",where:{and:[{taskSlug:{equals:"schedulePublish"}},{waitUntil:{greater_than:new Date}}]}};g&&(e.where.and.push({"input.doc.value":{equals:String(p)}}),e.where.and.push({"input.doc.relationTo":{equals:g}})),b&&e.where.and.push({"input.global":{equals:b}});let{docs:t}=await ip.post(`${u}${s}/payload-jobs`,{body:tZ(e),headers:{"Accept-Language":y.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"}}).then(e=>e.json());I((({dateFormat:e,deleteHandler:t,docs:r,i18n:a,localization:n,supportedTimezones:l,t:i})=>{let o=[{accessor:"input.type",active:!0,field:{name:"",type:"text"},Heading:(0,h.jsx)("span",{children:i("version:type")}),renderedCells:r.map(e=>{let t=e.input?.type;return(0,h.jsxs)(o9,{pillStyle:"publish"===t?"success":"warning",size:"small",children:["publish"===t&&i("version:publish"),"unpublish"===t&&i("version:unpublish")]},e.id)})},{accessor:"waitUntil",active:!0,field:{name:"",type:"date"},Heading:(0,h.jsx)("span",{children:i("general:time")}),renderedCells:r.map(t=>(0,h.jsx)("span",{children:of({date:t.waitUntil,i18n:a,pattern:e,timezone:t.input.timezone})},t.id))},{accessor:"input.timezone",active:!0,field:{name:"",type:"text"},Heading:(0,h.jsx)("span",{children:i("general:timezone")}),renderedCells:r.map(e=>{let t=l.find(t=>t.value===e.input.timezone)?.label||e.input.timezone;return(0,h.jsx)("span",{children:t||i("general:noValue")},e.id)})}];return n&&o.push({accessor:"input.locale",active:!0,field:{name:"",type:"text"},Heading:(0,h.jsx)("span",{children:i("general:locale")}),renderedCells:r.map(e=>{if(e.input.locale){let t=n.locales.find(t=>t.code===e.input.locale);if(t)return(0,h.jsx)("span",{children:m(t.label,a)},e.id)}return(0,h.jsx)("span",{children:i("general:all")},e.id)})}),o.push({accessor:"delete",active:!0,field:{name:"delete",type:"text"},Heading:(0,h.jsx)("span",{children:i("general:delete")}),renderedCells:r.map(e=>(0,h.jsx)(na,{buttonStyle:"icon-label",className:"schedule-publish__delete",icon:"x",onClick:r=>{r.preventDefault(),t(e.id)},tooltip:i("general:delete")},e.id))}),o})({dateFormat:n,deleteHandler:M.current,docs:t,i18n:y,localization:o,supportedTimezones:i,t:x})),R(t)},[g,b,u,s,y,n,o,i,x,p]),z=c.default.useCallback(async e=>{try{await w({deleteID:e}),await B(),a_.success(x("general:deletedSuccessfully"))}catch(e){console.error(e),a_.error(e.message)}},[B,w,x]);c.default.useEffect(()=>{M.current=z},[z]);let U=c.default.useCallback(async()=>{let e;if(!S)return a_.error(x("general:noDateSelected"));D(!0),"object"==typeof E&&"all"!==E.value&&"publish"===j&&(e=E.value);try{await w({type:j,date:S,doc:g?{relationTo:g,value:String(p)}:void 0,global:b||void 0,locale:e,timezone:_}),$(void 0),a_.success(x("version:scheduledSuccessfully")),B()}catch(e){console.error(e),a_.error(e.message)}D(!1)},[S,E,j,x,w,g,p,b,_,B]),V=(0,c.useMemo)(()=>{if(_&&L&&S){let e=iF.tz(_),t=iF.tz(L),r=od(new iF(S).withTimeZone(_),e);return od(r,t).toISOString()}return S},[_,S,L]),H=(0,c.useCallback)(e=>{if(_&&e){let t=iF.tz(_);$(od(new iF(e),t)||null)}else $(e||null)},[$,_]);c.default.useEffect(()=>{O||(async()=>await B())()},[O,B]);let q=(0,c.useMemo)(()=>S&&function(e,t,r){let[a,n]=iQ(void 0,e,t);return+iJ(a)==+iJ(n)}(iH(S,S),i0(S))?new Date:iJ(new Date),[S]);return(0,h.jsxs)(ir,{className:vg,gutter:!1,Header:(0,h.jsxs)("div",{className:`${vg}__drawer-header`,children:[(0,h.jsx)("h2",{title:T,children:T}),(0,h.jsx)(h_,{onClick:()=>a(e)})]}),slug:e,children:[(0,h.jsxs)(l8,{className:`${vg}__scheduler`,children:[(0,h.jsx)(iN,{label:x("version:type"),required:!0}),(0,h.jsxs)("ul",{className:`${vg}__type`,children:[(0,h.jsx)("li",{children:(0,h.jsx)(pb,{id:`${e}-type`,isSelected:"publish"===j,onChange:()=>C("publish"),option:{label:x("version:publish"),value:"publish"},path:`${e}-type`,readOnly:P})}),(0,h.jsx)("li",{children:(0,h.jsx)(pb,{id:`${e}-type`,isSelected:"unpublish"===j,onChange:()=>C("unpublish"),option:{label:x("version:unpublish"),value:"unpublish"},path:`${e}-type`,readOnly:P})})]}),(0,h.jsx)("br",{}),(0,h.jsx)(iN,{label:x("general:time"),path:"time",required:!0}),(0,h.jsx)(sP,{id:"time",maxTime:i1(Date.now(),void 0),minDate:new Date,minTime:q,onChange:e=>H(e),pickerAppearance:"dayAndTime",readOnly:P,timeFormat:r?.timeFormat,timeIntervals:r?.timeIntervals??5,value:V}),i.length>0&&(0,h.jsx)(dG,{id:"timezone-picker",onChange:k,options:i,selectedTimezone:_}),(0,h.jsx)("br",{}),F.length>0&&"publish"===j&&(0,h.jsxs)(c.default.Fragment,{children:[(0,h.jsx)(iN,{label:x("localization:localeToPublish")}),(0,h.jsx)(dK,{onChange:e=>N(e),options:F,value:E}),(0,h.jsx)("br",{})]}),(0,h.jsxs)("div",{className:`${vg}__actions`,children:[(0,h.jsx)(na,{buttonStyle:"primary",disabled:P,id:"scheduled-publish-save",onClick:U,type:"button",children:x("general:save")}),P?(0,h.jsx)("span",{children:x("general:saving")}):null]})]}),(0,h.jsxs)(l8,{className:`${vg}__upcoming`,children:[(0,h.jsx)("h4",{children:x("general:upcomingEvents")}),!O&&(0,h.jsx)(d.e,{}),O?.length===0&&(0,h.jsx)(aB,{type:"info",children:x("general:noUpcomingEventsScheduled")}),O?.length>0&&(0,h.jsx)(vm,{appearance:"condensed",columns:A,data:O})]})]})};function vy({label:e}){let{id:t,collectionSlug:r,docConfig:a,globalSlug:n,hasPublishedDoc:l,hasPublishPermission:i,setHasPublishedDoc:o,setMostRecentVersionIsAutosaved:s,setUnpublishedVersionCount:u,unpublishedVersionCount:p,uploadStatus:m}=o$(),{config:g,getEntityConfig:b}=(0,d.b)(),{submit:v}=ar(),y=as(),x=nq(),{code:w}=i_(),{isModalOpen:j,toggleModal:C}=le(),S=`schedule-publish-${t}`,{localization:$,routes:{api:_},serverURL:k}=g,{t:E}=(0,f.d)(),N=e||E("version:publishChanges"),P=c.default.useMemo(()=>r?b({collectionSlug:r}):n?b({globalSlug:n}):void 0,[r,n,b]),D=p>0,T="object"==typeof P?.versions?.drafts&&P?.versions?.drafts.schedulePublish,O=i&&(y||D||!l)&&"uploading"!==m,R=!!("object"==typeof P?.versions?.drafts&&P?.versions?.drafts.autosave),A=!!(T&&i&&(n||r&&t)&&(R||!y)),[I,M]=(0,c.useState)(!1);(0,c.useEffect)(()=>{M(vp(P?.fields))},[P?.fields]);let L=$&&I&&i,F="update"===oP()&&!y,B=(0,c.useCallback)(async()=>{if(F)return;let e=`?locale=${w}&depth=0&fallback-locale=null&draft=true`,a,l="POST";r&&(a=`${k}${_}/${r}${t?`/${t}`:""}${e}`,t&&(l="PATCH")),n&&(a=`${k}${_}/globals/${n}${e}`),await v({action:a,method:l,overrides:{_status:"draft"},skipValidation:!0})},[v,r,n,k,_,w,t,F]);gW({cmdCtrlKey:!0,editDepth:x,keyCodes:["s"]},e=>{e.preventDefault(),e.stopPropagation(),B&&a.versions?.drafts&&a.versions?.drafts?.autosave&&B()});let z=(0,c.useCallback)(async()=>{"uploading"!==m&&await v({overrides:{_status:"published"}})&&(u(0),s(!1),o(!0))},[o,v,u,m,s]),U=(0,c.useCallback)(async e=>{if("uploading"===m)return;let a=tZ({publishSpecificLocale:e}),l=`${k}${_}${n?`/globals/${n}`:`/${r}${t?`/${t}`:""}`}${a?"?"+a:""}`;await v({action:l,overrides:{_status:"published"}})&&o(!0)},[_,r,n,t,k,o,v,m]),V=!$||$&&"active"!==$.defaultLocalePublishOption,H=$&&$?.locales.find(e=>"string"==typeof e?e===w:e.code===w),q=H&&("string"==typeof H.label?H.label:H.label?.[w]??void 0),K=V?z:()=>U(H.code),W=V?N:E("version:publishIn",{locale:q}),G=V?()=>U(H.code):z,Y=V?E("version:publishIn",{locale:q}):E("version:publishAllLocales");return i?(0,h.jsxs)(c.default.Fragment,{children:[(0,h.jsx)(me,{buttonId:"action-save",disabled:!O,enableSubMenu:A,onClick:K,size:"medium",SubMenuPopupContent:L||A?({close:e})=>(0,h.jsxs)(c.default.Fragment,{children:[A&&(0,h.jsx)(aK.ButtonGroup,{children:(0,h.jsx)(aK.Button,{id:"schedule-publish",onClick:()=>[C(S),e()],children:E("version:schedulePublish")})},"schedule-publish"),L&&(0,h.jsx)(aK.ButtonGroup,{children:(0,h.jsx)(aK.Button,{id:"publish-locale",onClick:G,children:Y})})]}):void 0,type:"button",children:$?W:N}),A&&j(S)&&(0,h.jsx)(vv,{defaultType:D?"publish":"unpublish",schedulePublishConfig:"object"==typeof T&&T,slug:S})]}):null}var vx="restore-button",vw=e=>{let{id:t,buttonId:r,collectionSlug:a,onRestore:n,redirectAfterRestore:l=!0,singularLabel:i,title:o}=e,{config:{routes:{admin:s,api:u},serverURL:p},getEntityConfig:g}=(0,d.b)(),v=g({collectionSlug:a}),y=(0,b.useRouter)(),{i18n:x,t:w}=(0,f.d)(),{title:j}=ov(),{startRouteTransition:C}=aR(),{openModal:S}=le(),$=`restore-${t}`,[_,k]=(0,c.useState)(!1),E=(0,c.useCallback)(()=>{a_.error(w("error:restoringTitle",{title:j}))},[w,j]),N=(0,c.useCallback)(async()=>{try{let e=`${p}${u}/${a}?${tZ({trash:!0,where:{and:[{id:{equals:t}},{deletedAt:{exists:!0}}]}})}`,r={deletedAt:null};v?.versions?.drafts&&(r._status=_?"published":"draft");let o=await ip.patch(e,{body:JSON.stringify(r),headers:{"Accept-Language":x.language,"Content-Type":"application/json"}}),c=await o.json();if(o.status<400){if(a_.success(w("general:titleRestored",{label:m(i,x),title:j})||c.message),l)return C(()=>y.push(tE({adminRoute:s,path:`/collections/${a}/${t}`})));"function"==typeof n&&await n({id:t,collectionConfig:v});return}c.errors?c.errors.forEach(e=>a_.error(e.message)):E()}catch{E()}},[p,u,a,t,w,i,E,x,j,y,s,l,n,v,C,_]);return t?(0,h.jsxs)(c.Fragment,{children:[(0,h.jsx)(na,{buttonStyle:"primary",id:r,onClick:()=>{S($)},children:w("general:restore")},r),(0,h.jsx)(is,{body:(0,h.jsxs)(c.Fragment,{children:[(0,h.jsx)(mc,{elements:{1:({children:e})=>(0,h.jsx)("strong",{children:e})},i18nKey:v?.versions?.drafts?"general:aboutToRestoreAsDraft":"general:aboutToRestore",t:w,variables:{label:m(i,x),title:o||j||t}}),v?.versions?.drafts&&(0,h.jsx)("div",{className:`${vx}__checkbox`,children:(0,h.jsx)(oH,{checked:_,id:"restore-as-published",label:w("general:restoreAsPublished"),name:"restore-as-published",onToggle:e=>k(e.target.checked)})})]}),className:vx,confirmingLabel:w("general:restoring"),heading:w("general:confirmRestoration"),modalSlug:$,onConfirm:N})]}):null};function vj({label:e}){let{uploadStatus:t}=o$(),{t:r}=(0,f.d)(),{submit:a}=ar(),n=as(),l=e||r("general:save"),i=(0,c.useRef)(null),o=nq(),s="update"===oP()&&!n||"uploading"===t;return gW({cmdCtrlKey:!0,editDepth:o,keyCodes:["s"]},e=>{e.preventDefault(),e.stopPropagation(),i?.current&&i.current.click()}),(0,h.jsx)(me,{buttonId:"action-save",disabled:s,onClick:()=>{if("uploading"!==t)return void a()},ref:i,size:"medium",type:"button",children:l})}function vC(e){let{config:{routes:{api:t},serverURL:r}}=(0,d.b)(),{id:a,collectionSlug:n,globalSlug:l,setUnpublishedVersionCount:i,uploadStatus:o}=o$(),s=as(),{code:u}=i_(),p=(0,c.useRef)(null),m=nq(),{t:g}=(0,f.d)(),{submit:b}=ar(),v="update"===oP()&&!s||"uploading"===o,y=(0,c.useCallback)(async()=>{if(v)return;let e=`?locale=${u}&depth=0&fallback-locale=null&draft=true`,o,s="POST";n&&(o=`${r}${t}/${n}${a?`/${a}`:""}${e}`,a&&(s="PATCH")),l&&(o=`${r}${t}/globals/${l}${e}`),await b({action:o,method:s,overrides:{_status:"draft"},skipValidation:!0}),i(e=>e+1)},[b,n,l,r,t,u,a,v,i]);return gW({cmdCtrlKey:!0,editDepth:m,keyCodes:["s"]},e=>{e.preventDefault(),e.stopPropagation(),p?.current&&p.current.click()}),(0,h.jsx)(me,{buttonId:"action-save-draft",buttonStyle:"secondary",className:"save-draft",disabled:v,onClick:()=>void y(),ref:p,size:"medium",type:"button",children:g("version:saveDraft")})}var vS="status",v$=()=>{let{id:e,collectionSlug:t,docPermissions:r,globalSlug:a,hasPublishedDoc:n,incrementVersionCount:l,isTrashed:i,setHasPublishedDoc:o,setMostRecentVersionIsAutosaved:s,setUnpublishedVersionCount:u,unpublishedVersionCount:p}=o$(),{toggleModal:m}=le(),{config:{routes:{api:g},serverURL:b}}=(0,d.b)(),{reset:v}=ar(),{code:y}=i_(),{i18n:x,t:w}=(0,f.d)(),j=`confirm-un-publish-${e}`,C=`confirm-revert-${e}`,S;p>0&&n?S="changed":n?n&&p<=0&&(S="published"):S="draft";let $=i?n?"previouslyPublished":"previouslyDraft":S,_=(0,c.useCallback)(async r=>{let n,i,c;"unpublish"===r&&(c={_status:"draft"}),t&&(n=`${b}${g}/${t}/${e}?locale=${y}&fallback-locale=null&depth=0`,i="patch"),a&&(n=`${b}${g}/globals/${a}?locale=${y}&fallback-locale=null&depth=0`,i="post"),"revert"===r&&(c=await ip.get(n,{headers:{"Accept-Language":x.language,"Content-Type":"application/json"}}).then(e=>e.json()));let d=await ip[i](n,{body:JSON.stringify(c),headers:{"Accept-Language":x.language,"Content-Type":"application/json"}});if(200===d.status){let e,n=await d.json();a?e=n.result:t&&(e=n.doc),v(e),a_.success(n.message),l(),s(!1),"unpublish"===r?o(!1):"revert"===r&&u(0)}else try{let e=await d.json();e.errors?.[0]?.message?a_.error(e.errors[0].message):e.error?a_.error(e.error):a_.error(w("error:unPublishingDocument"))}catch{a_.error(w("error:unPublishingDocument"))}},[g,t,a,e,x.language,l,y,v,b,u,s,w,o]),k=r?.update;return S?(0,h.jsx)("div",{className:vS,title:`${w("version:status")}: ${w(`version:${$}`)}`,children:(0,h.jsxs)("div",{className:`${vS}__value-wrap`,children:[(0,h.jsxs)("span",{className:`${vS}__label`,children:[w("version:status"),":"]}),(0,h.jsx)("span",{className:`${vS}__value`,children:w(`version:${$}`)}),!i&&k&&"published"===S&&(0,h.jsxs)(c.default.Fragment,{children:["",(0,h.jsx)(na,{buttonStyle:"none",className:`${vS}__action`,id:"action-unpublish",onClick:()=>m(j),children:w("version:unpublish")}),(0,h.jsx)(is,{body:w("version:aboutToUnpublish"),confirmingLabel:w("version:unpublishing"),heading:w("version:confirmUnpublish"),modalSlug:j,onConfirm:()=>_("unpublish")})]}),!i&&k&&n&&"changed"===S&&(0,h.jsxs)(c.default.Fragment,{children:["",(0,h.jsx)(na,{buttonStyle:"none",className:`${vS}__action`,id:"action-revert-to-published",onClick:()=>m(C),children:w("version:revertToPublished")}),(0,h.jsx)(is,{body:w("version:aboutToRevertToPublished"),confirmingLabel:w("version:reverting"),heading:w("version:confirmRevertToSaved"),modalSlug:C,onConfirm:()=>_("revert")})]})]})}):null},v_="doc-controls",vk=e=>{let t=(0,v.c)(5),{id:r,slug:a,BeforeDocumentControls:n,customComponents:l,data:i,disableActions:o,disableCreate:s,EditMenuItems:u,hasSavePermission:p,isAccountView:g,isEditing:b,isInDrawer:y,isTrashed:x,onDelete:w,onDrawerCreateNew:j,onDuplicate:C,onRestore:S,onTakeOver:$,permissions:_,readOnlyForIncomingUser:k,redirectAfterDelete:E,redirectAfterDuplicate:N,redirectAfterRestore:P,user:D}=e,{PreviewButton:T,PublishButton:O,SaveButton:R,SaveDraftButton:A}=void 0===l?{}:l,{i18n:I,t:M}=(0,f.d)(),L=nq(),{config:F,getEntityConfig:B}=(0,d.b)(),z=B({collectionSlug:a}),U=B({globalSlug:a}),{isLivePreviewEnabled:V}=b7(),{admin:H,localization:q,routes:K}=F,{dateFormat:W}=H,{admin:G}=K,[Y,X]=c.default.useState(""),[Q,J]=c.default.useState(""),Z=ai(),ee=ac(),et,er;t[0]!==i||t[1]!==W||t[2]!==I?(et=()=>{i?.updatedAt&&X(of({date:i.updatedAt,i18n:I,pattern:W})),i?.createdAt&&J(of({date:i.createdAt,i18n:I,pattern:W}))},er=[i,I,W],t[0]=i,t[1]=W,t[2]=I,t[3]=et,t[4]=er):(et=t[3],er=t[4]),(0,c.useEffect)(et,er);let ea=_&&"create"in _&&_.create,en=_&&"delete"in _&&_.delete,el=!!(z&&r&&!o&&(ea||en)),ei=!r&&z?.versions?.drafts&&z.versions?.drafts.validate,eo=z?.versions?.drafts,es=U?.versions?.drafts,ec=eo&&eo?.autosave||es&&es?.autosave,eu=eo&&eo?.autosave,ed=es&&es?.autosave,ef=eu&&!1!==eo.autosave&&!0===eo.autosave.showSaveDraftButton||ed&&!1!==es.autosave&&!0===es.autosave.showSaveDraftButton,ep=q&&!z?.admin?.disableCopyToLocale,eh=z&&z.folders,em=D&&k;return(0,h.jsxs)(l8,{className:v_,children:[(0,h.jsxs)("div",{className:`${v_}__wrapper`,children:[(0,h.jsxs)("div",{className:`${v_}__content`,children:[em||eh?(0,h.jsxs)("div",{className:`${v_}__meta-icons`,children:[em&&(0,h.jsx)(vc,{className:`${v_}__locked-controls`,user:D}),eh&&F.folders&&!x&&(0,h.jsx)(mk,{folderCollectionSlug:F.folders.slug,folderFieldName:F.folders.fieldName})]}):null,(0,h.jsxs)("ul",{className:`${v_}__meta`,children:[z&&!b&&!g&&(0,h.jsx)("li",{className:`${v_}__list-item`,children:(0,h.jsx)("p",{className:`${v_}__value`,children:I.t("general:creatingNewLabel",{label:m(z?.labels?.singular??I.t("general:document"),I)})})}),(z?.versions?.drafts||U?.versions?.drafts)&&(0,h.jsxs)(c.Fragment,{children:[(U||z&&b)&&(0,h.jsx)("li",{className:[`${v_}__status`,`${v_}__list-item`].filter(Boolean).join(" "),children:(0,h.jsx)(v$,{})}),p&&ec&&!ei&&!x&&(0,h.jsx)("li",{className:`${v_}__list-item`,children:(0,h.jsx)(ve,{collection:z,global:U,id:r,publishedDocUpdatedAt:i?.createdAt})})]}),z?.timestamps&&(b||g)&&(0,h.jsxs)(c.Fragment,{children:[(0,h.jsxs)("li",{className:[`${v_}__list-item`,`${v_}__value-wrap`].filter(Boolean).join(" "),title:i?.updatedAt?Y:"",children:[(0,h.jsxs)("p",{className:`${v_}__label`,children:[I.t(x?"general:deleted":"general:lastModified"),":"]}),i?.updatedAt&&(0,h.jsx)("p",{className:`${v_}__value`,children:Y})]}),(0,h.jsxs)("li",{className:[`${v_}__list-item`,`${v_}__value-wrap`].filter(Boolean).join(" "),title:i?.createdAt?Q:"",children:[(0,h.jsxs)("p",{className:`${v_}__label`,children:[I.t("general:created"),":"]}),i?.createdAt&&(0,h.jsx)("p",{className:`${v_}__value`,children:Q})]})]})]})]}),(0,h.jsxs)("div",{className:`${v_}__controls-wrapper`,children:[(0,h.jsxs)("div",{className:`${v_}__controls`,children:[n,V&&!y&&(0,h.jsx)(vi,{}),(z?.admin.preview||U?.admin.preview)&&(0,h.jsx)(rY,{CustomComponent:T,Fallback:(0,h.jsx)(vf,{})}),p&&!x&&(0,h.jsx)(c.Fragment,{children:z?.versions?.drafts||U?.versions?.drafts?(0,h.jsxs)(c.Fragment,{children:[(ei||!ec||ec&&ef)&&(0,h.jsx)(rY,{CustomComponent:A,Fallback:(0,h.jsx)(vC,{})}),(0,h.jsx)(rY,{CustomComponent:O,Fallback:(0,h.jsx)(vy,{})})]}):(0,h.jsx)(rY,{CustomComponent:R,Fallback:(0,h.jsx)(vj,{})})}),en&&x&&(0,h.jsx)(vu,{buttonId:"action-permanently-delete",collectionSlug:z?.slug,id:r.toString(),onDelete:w,redirectAfterDelete:E,singularLabel:z?.labels?.singular}),p&&x&&(0,h.jsx)(vw,{buttonId:"action-restore",collectionSlug:z?.slug,id:r.toString(),onRestore:S,redirectAfterRestore:P,singularLabel:z?.labels?.singular}),D&&k&&(0,h.jsx)(na,{buttonStyle:"secondary",id:"take-over",onClick:$,size:"medium",type:"button",children:M("general:takeOver")})]}),el&&!k&&(0,h.jsx)(a7,{button:(0,h.jsxs)("div",{className:`${v_}__dots`,children:[(0,h.jsx)("div",{}),(0,h.jsx)("div",{}),(0,h.jsx)("div",{})]}),className:`${v_}__popup`,disabled:ee||Z,horizontalAlign:"right",size:"large",verticalAlign:"bottom",children:(0,h.jsxs)(aK.ButtonGroup,{children:[ep&&(0,h.jsx)(bX,{}),ea&&(0,h.jsxs)(c.default.Fragment,{children:[!s&&(0,h.jsx)(c.Fragment,{children:L>1?(0,h.jsx)(aK.Button,{id:"action-create",onClick:j,children:I.t("general:createNew")}):(0,h.jsx)(aK.Button,{href:tE({adminRoute:G,path:`/collections/${z?.slug}/create`}),id:"action-create",children:I.t("general:createNew")})}),!0!==z.disableDuplicate&&b&&(0,h.jsx)(va,{id:r.toString(),onDuplicate:C,redirectAfterDuplicate:N,singularLabel:z?.labels?.singular,slug:z?.slug})]}),en&&(0,h.jsx)(vr,{buttonId:"action-delete",collectionSlug:z?.slug,id:r.toString(),onDelete:w,redirectAfterDelete:E,singularLabel:z?.labels?.singular,useAsTitle:z?.admin?.useAsTitle}),u]})})]})]}),(0,h.jsx)("div",{className:`${v_}__divider`})]})},vE=/^<(?<name>[^\s/>]+)[^>]*>$/,vN=/^<(?<isEnd>\/)?(?<name>[^\s>]+)[^>]*>$/,vP=/^<[^>]+>/,vD=/^<img[^>]*>$/,vT=/^<video[^>]*>.*?<\/video>$/ms,vO=class{config;leastCommonLength=1/0;matchedBlockList=[];newTokens=[];oldTokens=[];operationList=[];sideBySideContents;unifiedContent;constructor(e,t,{classNames:r={createBlock:"html-diff-create-block-wrapper",createInline:"html-diff-create-inline-wrapper",deleteBlock:"html-diff-delete-block-wrapper",deleteInline:"html-diff-delete-inline-wrapper"},greedyBoundary:a=1e3,greedyMatch:n=!0,minMatchedSize:l=2,tokenizeByCharacter:i=!1}={}){if(this.config={classNames:{createBlock:"html-diff-create-block-wrapper",createInline:"html-diff-create-inline-wrapper",deleteBlock:"html-diff-delete-block-wrapper",deleteInline:"html-diff-delete-inline-wrapper",...r},greedyBoundary:a,greedyMatch:n,minMatchedSize:l},(e=e.trim())===(t=t.trim())){this.unifiedContent=e;let t=0,r=e.replace(/<([^\s/>]+)[^>]*>/g,(e,r)=>{let a=r.length+1;return`${e.slice(0,a)} data-seq="${++t}"${e.slice(a)}`});this.sideBySideContents=[r,r];return}let o=i?this.tokenizeByCharacter:this.tokenizeByWord;this.oldTokens=o(e),this.newTokens=o(t),this.matchedBlockList=this.getMatchedBlockList(),this.operationList=this.getOperationList()}computeBestMatchedBlock(e,t,r,a){let n=null;for(let l=e;l<t;l++){let e=Math.min(t-l,a-r),i=this.slideBestMatchedBlock(l,r,e);if(i&&(!n||i.size>n.size)&&(n=i,i.size>this.leastCommonLength))return n}for(let l=r;l<a;l++){let r=Math.min(t-e,a-l),i=this.slideBestMatchedBlock(e,l,r);if(i&&(!n||i.size>n.size)&&(n=i,i.size>this.leastCommonLength))break}return n}computeMatchedBlockList(e,t,r,a,n=[]){let l=this.computeBestMatchedBlock(e,t,r,a);return l?(e<l.oldStart&&r<l.newStart&&this.computeMatchedBlockList(e,l.oldStart,r,l.newStart,n),n.push(l),t>l.oldEnd&&a>l.newEnd&&this.computeMatchedBlockList(l.oldEnd,t,l.newEnd,a,n),n):[]}dressUpBlockTag(e,t){return"create"===e?`<div class="${this.config.classNames.createBlock}">${t}</div>`:"delete"===e?`<div class="${this.config.classNames.deleteBlock}">${t}</div>`:""}dressUpDiffContent(e,t){let r=t.length;if(!r)return"";let a="",n=0,l=-1;for(let r of t){l++;let i=r.includes('data-enable-match="true"'),o=r.includes('data-enable-match="false"'),s=!!r.match(vP)?.length;o?(n=l+1,a+=r):!i&&s?(l>n&&(a+=this.dressUpText(e,t.slice(n,l))),n=l+1,r.match(vT)?a+=this.dressUpBlockTag(e,r):a+=r):i&&s&&(l>n&&(a+=this.dressUpText(e,t.slice(n,l))),n=l+1,a+=this.dressupMatchEnabledHtmlTag(e,r))}return n<r&&(a+=this.dressUpText(e,t.slice(n))),a}dressUpInlineTag(e,t){return"create"===e?`<span class="${this.config.classNames.createInline}">${t}</span>`:"delete"===e?`<span class="${this.config.classNames.deleteInline}">${t}</span>`:""}dressupMatchEnabledHtmlTag(e,t){let r=t.match(vE)?.groups?.name;if(!r)return t;let a=r.length+1;return`${t.slice(0,a)} data-match-type="${"create"===e?"create":"delete"}"${t.slice(a,t.length)}`}dressUpText(e,t){let r=t.join("");return r.trim()?"create"===e?`<span data-match-type="create">${r}</span>`:"delete"===e?`<span data-match-type="delete">${r}</span>`:"":""}getMatchedBlockList(){let e=this.oldTokens.length,t=this.newTokens.length,r=null,a=0;for(;a<e&&a<t&&this.oldTokens[a]===this.newTokens[a];)a++;a>=this.config.minMatchedSize&&(r={newEnd:a,newStart:0,oldEnd:a,oldStart:0,size:a});let n=null,l=e-1,i=t-1;for(;a<=l&&a<=i&&this.oldTokens[l]===this.newTokens[i];)l--,i--;let o=e-1-l;o>=this.config.minMatchedSize&&(n={newEnd:t,newStart:i+1,oldEnd:e,oldStart:l+1,size:o});let s=r?a:0,c=n?l+1:e,u=r?a:0,d=n?i+1:t;if(this.config.greedyMatch){let e=Math.min(c-s,d-u);e>this.config.greedyBoundary&&(this.leastCommonLength=Math.floor(e/3))}let f=this.computeMatchedBlockList(s,c,u,d);return r&&f.unshift(r),n&&f.push(n),f}getOperationList(){let e=[],t=0,r=0;for(let a of this.matchedBlockList){let n=t===a.oldStart,l=r===a.newStart,i={newEnd:a.newStart,newStart:r,oldEnd:a.oldStart,oldStart:t};n||l?n&&!l?e.push(Object.assign(i,{type:"create"})):!n&&l&&e.push(Object.assign(i,{type:"delete"})):e.push(Object.assign(i,{type:"replace"})),e.push({type:"equal",newEnd:a.newEnd,newStart:a.newStart,oldEnd:a.oldEnd,oldStart:a.oldStart}),t=a.oldEnd,r=a.newEnd}let a=this.oldTokens.length,n=this.newTokens.length,l={newEnd:n,newStart:r,oldEnd:a,oldStart:t},i=t===a,o=r===n;return i||o?i&&!o?e.push(Object.assign(l,{type:"create"})):!i&&o&&e.push(Object.assign(l,{type:"delete"})):e.push(Object.assign(l,{type:"replace"})),e}slideBestMatchedBlock(e,t,r){let a=0,n=null,l=0;for(let i=0;i<r;i++)this.oldTokens[e+i]===this.newTokens[t+i]?l++:l=0,l>a&&(a=l,n={newEnd:t+i+1,newStart:t+i-l+1,oldEnd:e+i+1,oldStart:e+i-l+1,size:l});return a>=this.config.minMatchedSize?n:null}tokenizeByCharacter(e){let t=[],r=0,a=/<picture[^>]*>.*?<\/picture>|<video[^>]*>.*?<\/video>|<[^>]+>/gs,n;for(;null!==(n=a.exec(e));){let a=e.substring(r,n.index);if(a)for(let e of a)t.push(e);t.push(n[0]),r=n.index+n[0].length}for(let a of e.substring(r))t.push(a);return t}tokenizeByWord(e){return e.match(/<picture[^>]*>.*?<\/picture>|<video[^>]*>.*?<\/video>|<[^>]+>|\w+\b|\s+|[^<>\w]/gs)||[]}getSideBySideContents(){if(void 0!==this.sideBySideContents)return this.sideBySideContents;let e="",t="",r=0;this.operationList.forEach(a=>{switch(a.type){case"create":t+=this.dressUpDiffContent("create",this.newTokens.slice(a.newStart,a.newEnd));break;case"delete":{let t=this.oldTokens.slice(a.oldStart,a.oldEnd);e+=this.dressUpDiffContent("delete",t);break}case"equal":{let n=this.newTokens.slice(a.newStart,a.newEnd),l="";for(let e of n){let t=e.match(vE);if(t){r+=1;let a=(t?.groups?.name?.length??0)+1;l+=`${e.slice(0,a)} data-seq="${r}"${e.slice(a)}`}else l+=e}e+=l,t+=l;break}case"replace":e+=this.dressUpDiffContent("delete",this.oldTokens.slice(a.oldStart,a.oldEnd)),t+=this.dressUpDiffContent("create",this.newTokens.slice(a.newStart,a.newEnd));break;default:console.error("Richtext diff error - invalid operation: "+String(a.type))}});let a=[e,t];return this.sideBySideContents=a,a}getUnifiedContent(){if(void 0!==this.unifiedContent)return this.unifiedContent;let e="";return this.operationList.forEach(t=>{switch(t.type){case"create":e+=this.dressUpDiffContent("create",this.newTokens.slice(t.newStart,t.newEnd));break;case"delete":e+=this.dressUpDiffContent("delete",this.oldTokens.slice(t.oldStart,t.oldEnd));break;case"equal":for(let r of this.newTokens.slice(t.newStart,t.newEnd))e+=r;break;case"replace":{let r=this.oldTokens.slice(t.oldStart,t.oldEnd),a=this.newTokens.slice(t.newStart,t.newEnd);if(1===r.length&&1===a.length&&r[0]?.match(vP)&&a[0]?.match(vP)){e+=a[0];break}let n=[],l=[],i=t.newStart;for(let r=t.oldStart;r<t.oldEnd;r++){let a=this.oldTokens[r];if(!a)continue;let o=a?.match(vN);if(o){if([vD,vT].some(e=>a?.match(e))){n.push(a);continue}e+=this.dressUpDiffContent("delete",n),n.splice(0);let r=!1;for(let a=i;a<t.newEnd;a++){let t=this.newTokens[a];if(!t)continue;let n=t?.match(vN);if(n&&n.groups?.name===o.groups?.name&&n.groups?.isEnd===o.groups?.isEnd){r=!0,e+=this.dressUpDiffContent("create",l),e+=t,l.splice(0),i=a+1;break}l.push(t)}r||(e+=a,l.splice(0))}else n.push(a)}i<t.newEnd&&l.push(...this.newTokens.slice(i,t.newEnd)),e+=this.dressUpDiffContent("delete",n),e+=this.dressUpDiffContent("create",l);break}default:console.error("Richtext diff error - invalid operation: "+String(t.type))}}),this.unifiedContent=e,e}},vR="html-diff",vA=({fromHTML:e,toHTML:t,tokenizeByCharacter:r})=>{let[a,n]=new vO(e,t,{tokenizeByCharacter:r}).getSideBySideContents();return{From:a?(0,h.jsx)("div",{className:`${vR}__diff-old html-diff`,dangerouslySetInnerHTML:{__html:a}}):null,To:n?(0,h.jsx)("div",{className:`${vR}__diff-new html-diff`,dangerouslySetInnerHTML:{__html:n}}):null}},vI=(0,c.createContext)(null),vM=({children:e})=>{let t=(0,c.useRef)(new Set);return(0,c.useEffect)(()=>{let e=e=>{t.current.forEach(({handler:t,ref:r})=>{r.current&&!r.current.contains(e.target)&&t()})};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,h.jsx)(vI,{value:{register:e=>t.current.add(e),unregister:e=>t.current.delete(e)},children:e})},vL=()=>{let e=(0,c.use)(vI);if(!e)throw Error("useClickOutside must be used within a ClickOutsideProvider");return e};function vF(e,t,r=!0){let{register:a,unregister:n}=vL();(0,c.useEffect)(()=>{if(!r||!e.current)return;let l={handler:t,ref:e};return a(l),()=>n(l)},[e,t,r,a,n])}var vB=e=>{let t=(0,v.c)(7),{action:r,disabled:a}=e,{submit:n}=ar(),{t:l}=(0,f.d)(),i;t[0]!==r||t[1]!==n?(i=()=>{n({action:r,method:"PATCH",skipValidation:!0})},t[0]=r,t[1]=n,t[2]=i):i=t[2];let o=i,s;return t[3]!==a||t[4]!==o||t[5]!==l?(s=(0,h.jsx)(me,{className:`${vH}__save`,disabled:a,onClick:o,children:l("general:save")}),t[3]=a,t[4]=o,t[5]=l,t[6]=s):s=t[6],s},vz=e=>{let t=(0,v.c)(7),{action:r,disabled:a}=e,{submit:n}=ar(),{t:l}=(0,f.d)(),i;t[0]!==r||t[1]!==n?(i=()=>{n({action:r,method:"PATCH",overrides:{_status:"published"},skipValidation:!0})},t[0]=r,t[1]=n,t[2]=i):i=t[2];let o=i,s;return t[3]!==a||t[4]!==o||t[5]!==l?(s=(0,h.jsx)(me,{className:`${vH}__publish`,disabled:a,onClick:o,children:l("version:publishChanges")}),t[3]=a,t[4]=o,t[5]=l,t[6]=s):s=t[6],s},vU=e=>{let t=(0,v.c)(7),{action:r,disabled:a}=e,{submit:n}=ar(),{t:l}=(0,f.d)(),i;t[0]!==r||t[1]!==n?(i=()=>{n({action:r,method:"PATCH",overrides:{_status:"draft"},skipValidation:!0})},t[0]=r,t[1]=n,t[2]=i):i=t[2];let o=i,s;return t[3]!==a||t[4]!==o||t[5]!==l?(s=(0,h.jsx)(me,{buttonStyle:"secondary",className:`${vH}__draft`,disabled:a,onClick:o,children:l("version:saveDraft")}),t[3]=a,t[4]=o,t[5]=l,t[6]=s):s=t[6],s},vV=e=>{let{collection:t,collection:{fields:r,labels:{plural:a,singular:n}}={},count:l,drawerSlug:i,ids:o,onSuccess:s,selectAll:u,selectedFields:p,setSelectedFields:g,where:v}=e,{permissions:y,user:x}=ig(),{code:w}=i_(),{closeModal:j}=le(),{config:{routes:{api:C},serverURL:S}}=(0,d.b)(),{getFormState:$}=fs(),{i18n:_,t:k}=(0,f.d)(),[E,N]=(0,c.useState)(!1),P=(0,b.useRouter)(),D=c.default.useRef(null),{clearRouteCache:T}=h7(),O=y?.collections?.[t.slug],R=(0,b.useSearchParams)(),A=(0,c.useMemo)(()=>rb(p.reduce((e,t)=>(e[t.value.path]=!0,e),{})),[p]),I=(0,c.useCallback)(async({formState:e,submitted:r})=>{let a=fE(D),{state:n}=await $({collectionSlug:t.slug,docPermissions:O,docPreferences:null,formState:e,operation:"update",schemaPath:t.slug,select:A,signal:a.signal,skipValidation:!r});return D.current=null,n},[$,t,O,A]);(0,c.useEffect)(()=>{let e=D.current;return()=>{fk(e)}},[]);let M=(0,c.useMemo)(()=>{let e=[];v&&e.push(v);let r=t4({collectionConfig:t,search:R.get("search")});return r&&e.push(r),u?e.push(ft(R)?.where||{id:{not_equals:""}}):e.push({id:{in:o||[]}}),tZ({locale:w,where:rA(e)},{addQueryPrefix:!0})},[t,R,u,o,w,v]),L=(0,c.useCallback)(async({dispatchFields:e,formState:r,selected:a})=>{N(!0),g(a||[]);let{state:n}=await $({collectionSlug:t.slug,docPermissions:O,docPreferences:null,formState:r,operation:"update",schemaPath:t.slug,select:rb(a.reduce((e,t)=>(e[t.value.path]=!0,e),{})),skipValidation:!0});e({type:"UPDATE_MANY",formState:n}),N(!1)},[$,t.slug,O,g]);return(0,h.jsx)(ok,{collectionSlug:t.slug,currentEditor:x,hasPublishedDoc:!1,id:null,initialData:{},isLocked:!1,lastUpdateTime:0,mostRecentVersionIsAutosaved:!1,unpublishedVersionCount:0,versionCount:0,children:(0,h.jsx)(oE,{value:"update",children:(0,h.jsxs)("div",{className:`${vH}__main`,children:[(0,h.jsxs)("div",{className:`${vH}__header`,children:[(0,h.jsx)("h2",{className:`${vH}__header__title`,children:k("general:editingLabel",{count:l,label:m(l>1?a:n,_)})}),(0,h.jsx)("button",{"aria-label":k("general:close"),className:`${vH}__header__close`,id:`close-drawer__${i}`,onClick:()=>j(i),type:"button",children:(0,h.jsx)(f.a,{})})]}),(0,h.jsxs)(hn,{className:`${vH}__form`,isInitializing:E,onChange:[I],onSuccess:()=>{P.replace(tZ({...ft(R),page:u?"1":void 0},{addQueryPrefix:!0})),T(),j(i),"function"==typeof s&&s()},children:[(0,h.jsx)(hB,{fields:r,onChange:L,permissions:O.fields}),0===p.length?null:(0,h.jsx)("div",{className:"render-fields",children:p.map((e,t)=>{let{value:{field:r,fieldPermissions:a,path:n}}=e;return(0,h.jsx)(gD,{clientFieldConfig:r,indexPath:"",parentPath:"",parentSchemaPath:"",path:n,permissions:a},`${n}-${t}`)})}),(0,h.jsx)("div",{className:`${vH}__sidebar-wrap`,children:(0,h.jsx)("div",{className:`${vH}__sidebar`,children:(0,h.jsx)("div",{className:`${vH}__sidebar-sticky-wrap`,children:(0,h.jsx)("div",{className:`${vH}__document-actions`,children:t?.versions?.drafts?(0,h.jsxs)(c.default.Fragment,{children:[(0,h.jsx)(vU,{action:`${S}${C}/${t.slug}${M}&draft=true`,disabled:0===p.length}),(0,h.jsx)(vz,{action:`${S}${C}/${t.slug}${M}&draft=true`,disabled:0===p.length})]}):(0,h.jsx)(vB,{action:`${S}${C}/${t.slug}${M}`,disabled:0===p.length})})})})})]})]})})})},vH="edit-many",vq=e=>{let t=(0,v.c)(8),{count:r,selectAll:a,selectedIDs:n,toggleAll:l}=b3(),i;t[0]!==l?(i=()=>l(),t[0]=l,t[1]=i):i=t[1];let o=a===bJ.AllAvailable,s;return t[2]!==r||t[3]!==e||t[4]!==n||t[5]!==i||t[6]!==o?(s=(0,h.jsx)(vK,{...e,count:r,ids:n,onSuccess:i,selectAll:o}),t[2]=r,t[3]=e,t[4]=n,t[5]=i,t[6]=o,t[7]=s):s=t[7],s},vK=e=>{let t,r,a=(0,v.c)(16),{collection:n,count:l,ids:i,modalPrefix:o,onSuccess:s,selectAll:u,where:d}=e,{permissions:p}=ig(),{openModal:m}=le(),{t:g}=(0,f.d)(),b;a[0]===Symbol.for("react.memo_cache_sentinel")?(b=[],a[0]=b):b=a[0];let[y,x]=(0,c.useState)(b),w=p?.collections?.[n.slug],j=`${o?`${o}-`:""}edit-${n.slug}`;if(0===l||!w?.update)return null;if(a[1]===Symbol.for("react.memo_cache_sentinel")?(t=[vH,`${vH}__toggle`].filter(Boolean),a[1]=t):t=a[1],a[2]!==n||a[3]!==l||a[4]!==j||a[5]!==i||a[6]!==s||a[7]!==m||a[8]!==u||a[9]!==y||a[10]!==g||a[11]!==d){let e;a[13]!==j||a[14]!==m?(e=()=>{m(j),x([])},a[13]=j,a[14]=m,a[15]=e):e=a[15],r=(0,h.jsxs)("div",{className:t.join(" "),children:[(0,h.jsx)(b5,{"aria-label":g("general:edit"),onClick:e,children:g("general:edit")}),(0,h.jsx)(nH,{children:(0,h.jsx)(ir,{Header:null,slug:j,children:(0,h.jsx)(vV,{collection:n,count:l,drawerSlug:j,ids:i,onSuccess:s,selectAll:u,selectedFields:y,setSelectedFields:x,where:d})})})]}),a[2]=n,a[3]=l,a[4]=j,a[5]=i,a[6]=s,a[7]=m,a[8]=u,a[9]=y,a[10]=g,a[11]=d,a[12]=r}else r=a[12];return r};function vW(e){let t=(0,v.c)(3),r=nq(),a;return t[0]!==r||t[1]!==e?(a=(0,h.jsx)(lb,{closeOnBlur:!1,...e,style:{...e.style||{},zIndex:`calc(100 + ${r||0} + 1)`}}),t[0]=r,t[1]=e,t[2]=a):a=t[2],a}function vG(e){let t,r=(0,v.c)(12),{highlightField:a,setKey:n}=e,{id:l}=o$(),{toggleModal:i}=le(),{t:o}=(0,f.d)(),s=`generate-confirmation-${l}`,u;r[0]!==a||r[1]!==n||r[2]!==o?(u=()=>{n(),a_.success(o("authentication:newAPIKeyGenerated")),a(!0)},r[0]=a,r[1]=n,r[2]=o,r[3]=u):u=r[3];let d=u,p;return r[4]!==s||r[5]!==i?(p=()=>{i(s)},r[4]=s,r[5]=i,r[6]=p):p=r[6],r[7]!==d||r[8]!==s||r[9]!==o||r[10]!==p?(t=(0,h.jsxs)(c.default.Fragment,{children:[(0,h.jsx)(na,{buttonStyle:"secondary",onClick:p,size:"small",children:o("authentication:generateNewAPIKey")}),(0,h.jsx)(is,{body:(0,h.jsx)(mc,{elements:{1:vY},i18nKey:"authentication:generatingNewAPIKeyWillInvalidate",t:o}),confirmLabel:o("authentication:generate"),heading:o("authentication:confirmGeneration"),modalSlug:s,onConfirm:d})]}),r[7]=d,r[8]=s,r[9]=o,r[10]=p,r[11]=t):t=r[11],t}function vY(e){let{children:t}=e;return(0,h.jsx)("strong",{children:t})}function vX(e){let t=(0,v.c)(4),{permissions:r}=e,{setPermissions:a}=ig(),n,l;return t[0]!==r||t[1]!==a?(n=()=>{a(r)},l=[r,a],t[0]=r,t[1]=a,t[2]=n,t[3]=l):(n=t[2],l=t[3]),(0,c.useEffect)(n,l),null}var vQ="dots",vJ=({ariaLabel:e,className:t,noBackground:r,orientation:a="vertical"})=>(0,h.jsxs)("div",{"aria-label":e,className:[t,vQ,r&&`${vQ}--no-background`,a&&`${vQ}--${a}`].filter(Boolean).join(" "),children:[(0,h.jsx)("div",{}),(0,h.jsx)("div",{}),(0,h.jsx)("div",{})]}),vZ=[{label:"equals",value:"equals"},{label:"isNotEqualTo",value:"not_equals"}],v0=[{label:"isIn",value:"in"},{label:"isNotIn",value:"not_in"},{label:"exists",value:"exists"}],v1=[...vZ,...v0],v3=[...v1,{label:"isGreaterThan",value:"greater_than"},{label:"isLessThan",value:"less_than"},{label:"isLessThanOrEqualTo",value:"less_than_equal"},{label:"isGreaterThanOrEqualTo",value:"greater_than_equal"}],v2=[...vZ,{label:"exists",value:"exists"},{label:"near",value:"near"}],v6={label:"within",value:"within"},v5={label:"intersects",value:"intersects"},v4={label:"isLike",value:"like"},v8={label:"isNotLike",value:"not_like"},v9={label:"contains",value:"contains"},v7={checkbox:{component:"Text",operators:vZ},code:{component:"Text",operators:[...v1,v4,v8,v9]},date:{component:"Date",operators:[...v1,...v3]},email:{component:"Text",operators:[...v1,v9]},json:{component:"Text",operators:[...v1,v4,v9,v8,v6,v5]},number:{component:"Number",operators:[...v1,...v3]},point:{component:"Point",operators:[...v2,v6,v5]},radio:{component:"Select",operators:[...v1]},relationship:{component:"Relationship",operators:[...v1]},richText:{component:"Text",operators:[...v1,v4,v8,v9]},select:{component:"Select",operators:[...v1]},text:{component:"Text",operators:[...v1,v4,v8,v9]},textarea:{component:"Text",operators:[...v1,v4,v8,v9]},upload:{component:"Text",operators:[...v1]}},ye=({fields:e,i18n:t,labelPrefix:r,pathPrefix:a})=>e.reduce((e,n)=>{let l=a;if(k(n)&&!_(n)||"virtual"in n&&!0===n.virtual)return e;if("virtual"in n&&"string"==typeof n.virtual&&(l=l?l+"."+n.virtual:n.virtual,E(n)&&(n.name="")),"tabs"===n.type&&"tabs"in n)return n.tabs.forEach(a=>{if("boolean"!=typeof a.label){let n=m(a.label,t),i=N(a)&&a.name?l?l+"."+a.name:a.name:l;"string"==typeof n&&e.push(...ye({fields:a.fields,i18n:t,labelPrefix:r?r+" > "+n:n,pathPrefix:i}))}}),e;if("row"===n.type&&"fields"in n)return e.push(...ye({fields:n.fields,i18n:t,labelPrefix:r,pathPrefix:l})),e;if("collapsible"===n.type&&"fields"in n){let a=m(n.label||"",t);return e.push(...ye({fields:n.fields,i18n:t,labelPrefix:r?r+" > "+a:a,pathPrefix:l})),e}if("group"===n.type&&"fields"in n){let a=m(n.label||"",t),i=r?a?r+" > "+a:r:a;if(E(n)){let r=n.name?l?l+"."+n.name:n.name:l;e.push(...ye({fields:n.fields,i18n:t,labelPrefix:i,pathPrefix:r}))}else e.push(...ye({fields:n.fields,i18n:t,labelPrefix:i,pathPrefix:l}));return e}if("array"===n.type&&"fields"in n){let a=m(n.label||"",t),i=n.name?l?l+"."+n.name:n.name:l;return e.push(...ye({fields:n.fields,i18n:t,labelPrefix:r?a?r+" > "+a:r:a,pathPrefix:i})),e}if("object"==typeof v7[n.type]){let a=new Set,i=("hasMany"in n&&n.hasMany?v0:v7[n.type].operators).reduce((e,r)=>{if(!a.has(r.value)){a.add(r.value);let n=`operators:${r.label}`;e.push({...r,label:t.t(n)})}return e},[]),o=m(n.label||"",t),s={label:r?hL({field:n,prefix:r}):o,plainTextLabel:`${r?r+" > ":""}${o}`,value:l?hM(l,n):n.name,...v7[n.type],field:n,operators:i};return e.push(s),e}return e},[]),yt="group-by-builder",yr=["text","textarea","number","select","relationship","date","checkbox","radio","email","number","upload"],ya=({collectionSlug:e,fields:t})=>{let{i18n:r,t:a}=(0,f.d)(),n=(0,c.useMemo)(()=>ye({fields:t,i18n:r}),[t,r]),{query:l,refineListData:i}=fa(),o=l.groupBy?.replace(/^-/,""),s=n.find(e=>e.value===o);return(0,h.jsxs)("div",{className:yt,children:[(0,h.jsxs)("div",{className:`${yt}__header`,children:[(0,h.jsx)("p",{children:a("general:groupByLabel",{label:""})}),l.groupBy&&(0,h.jsx)("button",{className:`${yt}__clear-button`,id:"group-by--reset",onClick:async()=>{await i({groupBy:""})},type:"button",children:a("general:clear")})]}),(0,h.jsxs)("div",{className:`${yt}__inputs`,children:[(0,h.jsx)(dK,{filterOption:(e,t)=>(e?.data?.plainTextLabel||e.label).toLowerCase().includes(t.toLowerCase()),id:"group-by--field-select",isClearable:!0,isMulti:!1,onChange:async e=>{let t=null===e?void 0:e.value;null===e&&await i({groupBy:"",page:1}),await i({groupBy:t?l.groupBy?.startsWith("-")?`-${t}`:t:void 0,page:1})},options:n.filter(e=>!e.field.admin.disableGroupBy&&"id"!==e.value&&yr.includes(e.field.type)),value:{label:s?.label||a("general:selectValue"),value:o||""}}),(0,h.jsx)(pX,{id:"group-by--sort",isClearable:!1,name:"direction",onChange:async({value:e})=>{o&&await i({groupBy:"asc"===e?o:`-${o}`,page:1})},options:[{label:a("general:ascending"),value:"asc"},{label:a("general:descending"),value:"desc"}],path:"direction",readOnly:!o,value:l.groupBy?"string"==typeof l.groupBy?`${l.groupBy.startsWith("-")?"desc":"asc"}`:"":"asc"})]})]})},yn=({className:e})=>(0,h.jsx)("svg",{className:["icon","icon--people",e].filter(Boolean).join(" "),fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{className:"stroke",d:"M14 16C14 14.5855 13.4381 13.229 12.4379 12.2288C11.4377 11.2286 10.0812 10.6667 8.66668 10.6667M8.66668 10.6667C7.25219 10.6667 5.89563 11.2286 4.89544 12.2288C3.89525 13.229 3.33334 14.5855 3.33334 16M8.66668 10.6667C10.5076 10.6667 12 9.17428 12 7.33333C12 5.49238 10.5076 4 8.66668 4C6.82573 4 5.33334 5.49238 5.33334 7.33333C5.33334 9.17428 6.82573 10.6667 8.66668 10.6667ZM16.6667 15.3333C16.6667 13.0867 15.3333 11 14 10C14.4383 9.67118 14.7888 9.23939 15.0204 8.74285C15.252 8.2463 15.3577 7.70031 15.328 7.1532C15.2984 6.60609 15.1343 6.07472 14.8503 5.60613C14.5664 5.13754 14.1713 4.74617 13.7 4.46667",strokeLinecap:"round",strokeLinejoin:"round"})}),yl="active-query-preset";function yi(e){let t=(0,v.c)(11),{activePreset:r,openPresetListDrawer:a,resetPreset:n}=e,{i18n:l,t:i}=(0,f.d)(),{getEntityConfig:o}=(0,d.b)(),s;if(t[0]!==r||t[1]!==o||t[2]!==l||t[3]!==a||t[4]!==n||t[5]!==i){let e,c=o({collectionSlug:"payload-query-presets"}),u=r&&`${yl}--active`,d;t[7]!==u?(d=[yl,u].filter(Boolean),t[7]=u,t[8]=d):d=t[8],t[9]!==a?(e=()=>{a()},t[9]=a,t[10]=e):e=t[10],s=(0,h.jsx)(o9,{className:d.join(" "),id:"select-preset",onClick:e,pillStyle:"light",size:"small",children:(0,h.jsxs)("div",{className:`${yl}__label`,children:[r?.isShared&&(0,h.jsx)(yn,{className:`${yl}__shared`}),(0,h.jsx)("div",{className:`${yl}__label-text-max-width`,children:(0,h.jsx)("div",{className:`${yl}__label-text`,children:r?.title||i("general:selectLabel",{label:m(c.labels.singular,l)})})}),r?(0,h.jsx)("div",{className:`${yl}__clear`,id:"clear-preset",onClick:async e=>{e.stopPropagation(),await n()},onKeyDown:async e=>{("Enter"===e.key||" "===e.key)&&(e.stopPropagation(),await n())},role:"button",tabIndex:0,children:(0,h.jsx)(f.a,{})}):null]})}),t[0]=r,t[1]=o,t[2]=l,t[3]=a,t[4]=n,t[5]=i,t[6]=s}else s=t[6];return s}var yo="confirm-delete-preset",ys="payload-query-presets",yc="query-preset-bar",yu=({activePreset:e,collectionSlug:t,queryPresetPermissions:r})=>{let{modified:a,query:n,refineListData:l,setModified:i}=fa(),{i18n:o,t:s}=(0,f.d)(),{openModal:u}=le(),{config:{routes:{api:p}},getEntityConfig:g}=(0,d.b)(),b=g({collectionSlug:ys}),[v,,{openDrawer:y}]=fI({id:e?.id,collectionSlug:ys}),[x,,{closeDrawer:w,openDrawer:j}]=fI({collectionSlug:ys}),[C,,{closeDrawer:S,openDrawer:$}]=p_({collectionSlugs:[ys],filterOptions:(0,c.useMemo)(()=>({"payload-query-presets":{isTemp:{not_equals:!0},relatedCollection:{equals:t}}}),[t]),selectedCollection:ys}),_=(0,c.useCallback)(async e=>{await l({columns:e.columns?t9(e.columns):void 0,preset:e.id,where:e.where},!1)},[l]),k=(0,c.useCallback)(async()=>{await l({columns:[],preset:"",where:{}},!1)},[l]),E=(0,c.useCallback)(async()=>{try{await fetch(`${p}/${ys}/${e.id}`,{method:"DELETE"}).then(async t=>{try{let r=await t.json();t.status<400?(a_.success(s("general:titleDeleted",{label:m(b?.labels?.singular,o),title:e.title})),await k()):r.errors?r.errors.forEach(e=>a_.error(e.message)):a_.error(s("error:deletingTitle",{title:e.title}))}catch{a_.error(s("error:deletingTitle",{title:e.title}))}})}catch{a_.error(s("error:deletingTitle",{title:e.title}))}},[p,e?.id,e?.title,s,b,o,k]),N=(0,c.useCallback)(async()=>{try{await fetch(`${p}/payload-query-presets/${e.id}`,{body:JSON.stringify({columns:t8(n.columns),where:n.where}),credentials:"include",headers:{"Content-Type":"application/json"},method:"PATCH"}).then(async e=>{try{let t=await e.json();e.status<400?(a_.success(s("general:updatedLabelSuccessfully",{label:m(b?.labels?.singular,o)})),i(!1)):t.errors?t.errors.forEach(e=>a_.error(e.message)):a_.error(s("error:unknown"))}catch{a_.error(s("error:unknown"))}})}catch{a_.error(s("error:unknown"))}},[p,e?.id,n.columns,n.where,s,b?.labels?.singular,o,i]),P=e&&a;return(0,h.jsxs)(c.Fragment,{children:[(0,h.jsxs)("div",{className:yc,children:[(0,h.jsxs)("div",{className:`${yc}__menu`,children:[(0,h.jsx)(yi,{activePreset:e,openPresetListDrawer:$,resetPreset:k}),(0,h.jsx)(o9,{"aria-label":s("general:newLabel",{label:b?.labels?.singular}),className:`${yc}__create-new-preset`,icon:(0,h.jsx)(aH,{}),id:"create-new-preset",onClick:()=>{j()},size:"small"})]}),(0,h.jsxs)("div",{className:`${yc}__menu-items`,children:[P&&(0,h.jsx)(b5,{id:"reset-preset",onClick:async()=>{await l({columns:t9(e.columns),where:e.where},!1)},type:"button",children:s("general:reset")},"reset"),P&&r.update&&(0,h.jsx)(b5,{id:"save-preset",onClick:async()=>{await N()},type:"button",children:e?.isShared?s("general:updateForEveryone"):s("fields:saveChanges")},"save"),e&&r?.delete&&(0,h.jsxs)(c.Fragment,{children:[(0,h.jsx)(b5,{id:"delete-preset",onClick:()=>u(yo),type:"button",children:s("general:deleteLabel",{label:b?.labels?.singular})}),(0,h.jsx)(b5,{id:"edit-preset",onClick:()=>{y()},type:"button",children:s("general:editLabel",{label:b?.labels?.singular})})]})]})]}),(0,h.jsx)(x,{initialData:{columns:t8(n.columns),relatedCollection:t,where:n.where},onSave:async({doc:e})=>{w(),await _(e)},redirectAfterCreate:!1}),(0,h.jsx)(is,{body:(0,h.jsx)(mc,{elements:{1:({children:e})=>(0,h.jsx)("strong",{children:e})},i18nKey:"general:aboutToDelete",t:s,variables:{label:b?.labels?.singular,title:e?.title}}),confirmingLabel:s("general:deleting"),heading:s("general:confirmDeletion"),modalSlug:yo,onConfirm:E}),(0,h.jsx)(v,{onDelete:()=>{},onDuplicate:async({doc:e})=>{await _(e)},onSave:async({doc:e})=>{await _(e)}}),(0,h.jsx)(C,{allowCreate:!1,disableQueryPresets:!0,onSelect:async({doc:e})=>{S(),await _(e)}})]})},yd="search-filter";function yf(e){let{handleChange:t,initialParams:r,label:a,searchQueryParam:n}=e,l=r?.search||n,[i,o]=(0,c.useState)("string"==typeof l?l:void 0),s=(0,c.useRef)(!0),u=(0,c.useRef)("string"==typeof l?l:void 0),d=fM(i,300);return(0,c.useEffect)(()=>(l!==u.current&&(s.current=!1,o(l),u.current=l),()=>{s.current=!0,u.current=void 0}),[l]),(0,c.useEffect)(()=>{d!==u.current&&s.current&&(t&&t(d),u.current=d)},[d,t]),(0,h.jsx)("div",{className:yd,children:(0,h.jsx)("input",{"aria-label":a,className:`${yd}__input`,id:"search-filter-input",onChange:e=>{s.current=!0,o(e.target.value)},placeholder:a,type:"text",value:i||""})})}var yp="search-bar";function yh({Actions:e,className:t,label:r="Search...",onSearchChange:a,searchQueryParam:n}){return(0,h.jsxs)("div",{className:[yp,t].filter(Boolean).join(" "),children:[(0,h.jsx)(sc,{}),(0,h.jsx)(yf,{handleChange:a,label:r,searchQueryParam:n}),e&&e.length>0?(0,h.jsx)("div",{className:`${yp}__actions`,children:e}):null]})}var ym=({disabled:e,field:{admin:t},onChange:r,value:a})=>{let{date:n}=t||{};return(0,h.jsx)("div",{className:"condition-value-date",children:(0,h.jsx)(sP,{...n,onChange:r,readOnly:e,value:a})})},yg=e=>{let t,r=(0,v.c)(18),{disabled:a,field:n,onChange:l,operator:i,value:o}=e,{hasMany:s}=n,{t:u}=(0,f.d)(),d;r[0]!==s||r[1]!==i?(d=["in","not_in"].includes(i)||s,r[0]=s,r[1]=i,r[2]=d):d=r[2];let p=d,m;r[3]===Symbol.for("react.memo_cache_sentinel")?(m=[],r[3]=m):m=r[3];let[g,b]=c.default.useState(m),y;r[4]!==p||r[5]!==l?(y=e=>{let t;e?p&&(t=Array.isArray(e)?e.map(yb):[Number(e.value?.value||e.value)]):t=[],l(t)},r[4]=p,r[5]=l,r[6]=y):y=r[6];let x=y,w,j;return r[7]!==o?(w=()=>{Array.isArray(o)?b(o.map(yv)):b([])},j=[o],r[7]=o,r[8]=w,r[9]=j):(w=r[8],j=r[9]),c.default.useEffect(w,j),r[10]!==a||r[11]!==p||r[12]!==l||r[13]!==x||r[14]!==u||r[15]!==o||r[16]!==g?(t=p?(0,h.jsx)(dK,{disabled:a,isClearable:!0,isCreatable:!0,isMulti:p,isSortable:!0,numberOnly:!0,onChange:x,options:[],placeholder:u("general:enterAValue"),value:g||[]}):(0,h.jsx)("input",{className:"condition-value-number",disabled:a,onChange:e=>l(e.target.value),placeholder:u("general:enterAValue"),type:"number",value:o}),r[10]=a,r[11]=p,r[12]=l,r[13]=x,r[14]=u,r[15]=o,r[16]=g,r[17]=t):t=r[17],t};function yb(e){return Number(e.value?.value||e.value)}function yv(e,t){return{id:`${e}${t}`,label:`${e}`,value:{toString:()=>`${e}${t}`,value:e?.value||e}}}var yy=e=>e.reduce((e,t)=>t.options?[...e,...yy(t.options)]:[...e,t.id],[]),yx=(e,t)=>{switch(t.type){case"ADD":{let{collection:r,data:a,hasMultipleRelations:n,i18n:l,relation:i}=t,o=r.admin.useAsTitle||"id",s=yy(e);if(!n)return[...e,...a.docs.reduce((e,t)=>-1===s.indexOf(t.id)?(s.push(t.id),[...e,{label:t[o],value:t.id}]):e,[])];let c=[...e],u=c.find(e=>e.label===m(r.labels.plural,l)),d=a.docs.reduce((e,t)=>-1===s.indexOf(t.id)?(s.push(t.id),[...e,{label:t[o],relationTo:i,value:t.id}]):e,[]);return u?u.options=[...u.options,...d]:c.push({label:m(r.labels.plural,l),options:d,value:void 0}),c}case"CLEAR":return t.required?[]:[{label:t.i18n.t("general:none"),value:"null"}];default:return e}},yw="condition-value-relationship",yj=e=>{let{disabled:t,field:{admin:{isSortable:r,placeholder:a}={},hasMany:n,relationTo:l},filterOptions:i,onChange:o,value:s}=e,{config:{routes:{api:u},serverURL:p},getEntityConfig:m}=(0,d.b)(),g=Array.isArray(l),[b,v]=(0,c.useReducer)(yx,[]),[y,x]=(0,c.useState)(""),w=fM(y,300),[j,C]=(0,c.useState)(""),[S,$]=(0,c.useState)(!1),{i18n:_,t:k}=(0,f.d)(),E=i_(),N=g?l:[l],P=c.default.useRef(new Map(N.map(e=>[e,{hasLoadedAll:!1,nextPage:1}]))),D=(0,c.useCallback)((e,t)=>{v({type:"ADD",collection:m({collectionSlug:t}),data:e,hasMultipleRelations:g,i18n:_,relation:t})},[g,_,m]),T=id(async({abortController:e,relationSlug:t})=>{let r=P.current.get(t);if(t&&!r.hasLoadedAll){let a=m({collectionSlug:t})?.admin?.useAsTitle||"id",n={depth:0,limit:10,locale:E.code,page:r.nextPage,select:{[a]:!0},where:{and:[]}};i&&i?.[t]&&n.where.and.push(i[t]),w&&n.where.and.push({[a]:{like:w}});try{let r=await fetch(`${p}${u}/${t}${tZ(n,{addQueryPrefix:!0})}`,{credentials:"include",headers:{"Accept-Language":_.language},signal:e.signal});if(r.ok){let e=await r.json();e.docs.length>0&&(D(e,t),e.nextPage?P.current.set(t,{hasLoadedAll:!1,nextPage:e.nextPage}):P.current.set(t,{hasLoadedAll:!0,nextPage:null}))}else C(k("error:unspecific"))}catch(t){e.signal.aborted||console.error(t)}}$(!0)}),O=c.default.useCallback(()=>{let e=P.current.entries().next().value;e[0]&&!e[1].hasLoadedAll&&T({abortController:new AbortController,relationSlug:e[0]})},[]),R=(0,c.useCallback)(()=>{if(s){if(n)return Array.isArray(s)?s.map(e=>{if(g){let t;return b.forEach(r=>{r.options&&r.options.some(r=>r?.value==e.value&&(t=r,!0))}),t}return b.find(t=>t.value==e)}):void 0;if(g){let e;return b.forEach(t=>{t?.options&&t.options.some(t=>t?.value==s.value&&(e=t,!0))}),e}return b.find(e=>e.value==s)}},[n,g,s,b]),A=(0,c.useCallback)(e=>{e!==y&&(v({type:"CLEAR",i18n:_,required:!1}),P.current=new Map((Array.isArray(l)?l:[l]).map(e=>[e,{hasLoadedAll:!1,nextPage:1}])),x(e))},[_,l,y]),I=(0,c.useCallback)(async(e,t)=>{if(!j&&"null"!==e&&e&&t){let r=await fetch(`${p}${u}/${t}/${e}?depth=0`,{credentials:"include",headers:{"Accept-Language":_.language}});r.ok?D({docs:[await r.json()]},t):console.error(k("error:loadingDocument",{id:e}))}},[_,D,u,j,p,k]);(0,c.useEffect)(()=>{let e=Array.isArray(l)?l:[l];P.current=new Map(e.map(e=>[e,{hasLoadedAll:!1,nextPage:1}])),v({type:"CLEAR",i18n:_,required:!1}),$(!1);let t=[];return e.forEach(e=>{let r=new AbortController;T({abortController:r,relationSlug:e}),t.push(r)}),()=>{t.forEach(e=>{if(e.signal)try{e.abort()}catch{}})}},[_,l,w,i]),(0,c.useEffect)(()=>{s&&S&&(n?(R()||[]).forEach((e,t)=>{e||(g?I(s[t].value,s[t].relationTo):I(s[t],l))}):R()||(g?I(s.value,s.relationTo):I(s,l)))},[I,R,n,g,l,s,S]);let M=["field-type",yw,j&&"error-loading"].filter(Boolean).join(" "),L=R()||s;return(0,h.jsx)("div",{className:M,children:j?(0,h.jsx)("div",{className:`${yw}__error-loading`,children:j}):(0,h.jsx)(dK,{disabled:t,isMulti:n,isSortable:r,onChange:e=>{e?n&&Array.isArray(e)?o(e?e.map(e=>g?{relationTo:e?.relationTo,value:e?.value}:e?.value):null):g&&!Array.isArray(e)?o({relationTo:e?.relationTo,value:e?.value}):Array.isArray(e)||o(e?.value):o(null)},onInputChange:A,onMenuScrollToBottom:O,options:b,placeholder:a,value:L})})},yC=e=>{let t,r,a,n,l=(0,v.c)(21),{disabled:i,field:o,isClearable:s,onChange:u,operator:d,options:p,value:g}=e,{admin:b}=o,{placeholder:y}=b,{i18n:x}=(0,f.d)(),w;l[0]!==p?(w=dW(p),l[0]=p,l[1]=w):w=l[1];let[j,C]=c.default.useState(w),S;l[2]===Symbol.for("react.memo_cache_sentinel")?(S=["in","not_in"],l[2]=S):S=l[2];let $=S.includes(d),_;if($&&Array.isArray(g)){let e;l[3]!==x||l[4]!==j?(e=e=>{let t=j.find(t=>t.value===e);return{label:t?m(t.label,x):e,value:t?.value??e}},l[3]=x,l[4]=j,l[5]=e):e=l[5],_=g.map(e)}else if(g){let e;l[6]!==g?(e=e=>e.value===g,l[6]=g,l[7]=e):e=l[7];let t=j.find(e);_={label:t?m(t.label,x):g,value:t?.value??g}}l[8]!==$||l[9]!==u?(t=e=>{u(e?$?Array.isArray(e)?e.map(yS):[]:e.value:null)},l[8]=$,l[9]=u,l[10]=t):t=l[10];let k=t,E,N;return l[11]!==p?(E=()=>{C(dW(p))},N=[p],l[11]=p,l[12]=E,l[13]=N):(E=l[12],N=l[13]),c.default.useEffect(E,N),l[14]!==$||l[15]!==u||l[16]!==g?(r=()=>{!$&&Array.isArray(g)&&u(g[0])},a=[$,u,g],l[14]=$,l[15]=u,l[16]=g,l[17]=r,l[18]=a):(r=l[17],a=l[18]),c.default.useEffect(r,a),l[19]!==x?(n=e=>({...e,label:m(e.label,x)}),l[19]=x,l[20]=n):n=l[20],(0,h.jsx)(dK,{disabled:i,isClearable:s,isMulti:$,onChange:k,options:j.map(n),placeholder:y,value:_})};function yS(e){return e.value}var y$=e=>{let t,r=(0,v.c)(18),{disabled:a,field:n,onChange:l,operator:i,value:o}=e,{hasMany:s}=n,{t:u}=(0,f.d)(),d;r[0]!==s||r[1]!==i?(d=["in","not_in"].includes(i)||s,r[0]=s,r[1]=i,r[2]=d):d=r[2];let p=d,m;r[3]===Symbol.for("react.memo_cache_sentinel")?(m=[],r[3]=m):m=r[3];let[g,b]=c.default.useState(m),y;r[4]!==p||r[5]!==l?(y=e=>{let t;e?p&&(t=Array.isArray(e)?e.map(y_):[e.value?.value||e.value]):t=[],l(t)},r[4]=p,r[5]=l,r[6]=y):y=r[6];let x=y,w,j;return r[7]!==o?(w=()=>{Array.isArray(o)?b(o.map(yk)):b([])},j=[o],r[7]=o,r[8]=w,r[9]=j):(w=r[8],j=r[9]),c.default.useEffect(w,j),r[10]!==a||r[11]!==p||r[12]!==l||r[13]!==x||r[14]!==u||r[15]!==o||r[16]!==g?(t=p?(0,h.jsx)(dK,{disabled:a,isClearable:!0,isCreatable:!0,isMulti:p,isSortable:!0,onChange:x,options:[],placeholder:u("general:enterAValue"),value:g||[]}):(0,h.jsx)("input",{className:"condition-value-text",disabled:a,onChange:e=>l(e.target.value),placeholder:u("general:enterAValue"),type:"text",value:o||""}),r[10]=a,r[11]=p,r[12]=l,r[13]=x,r[14]=u,r[15]=o,r[16]=g,r[17]=t):t=r[17],t};function y_(e){return e.value?.value||e.value}function yk(e,t){return{id:`${e}${t}`,label:`${e}`,value:{toString:()=>`${e}${t}`,value:e?.value||e}}}var yE=({booleanSelect:e,disabled:t,filterOptions:r,internalField:a,onChange:n,operator:l,options:i,value:o})=>{if(e||["radio","select"].includes(a?.field?.type))return(0,h.jsx)(yC,{disabled:t,field:a.field,isClearable:!e,onChange:n,operator:l,options:i,value:o});switch(a?.field?.type){case"date":return(0,h.jsx)(ym,{disabled:t,field:a.field,onChange:n,operator:l,value:o});case"number":return(0,h.jsx)(yg,{disabled:t,field:a.field,onChange:n,operator:l,value:o});case"relationship":return(0,h.jsx)(yj,{disabled:t,field:a.field,filterOptions:r,onChange:n,operator:l,value:o});default:return(0,h.jsx)(y$,{disabled:t,field:a?.field,onChange:n,operator:l,value:o})}},yN="condition",yP=e=>{let{addCondition:t,andIndex:r,fieldPath:a,filterOptions:n,operator:l,orIndex:i,reducedFields:o,removeCondition:s,RenderedFilter:u,updateCondition:d,value:p}=e,{t:m}=(0,f.d)(),g=o.find(e=>e.value===a),[b,v]=(0,c.useState)(p),y=fM(b,300),x=["exists"].includes(l)||g?.field?.type==="checkbox",w=[];x?w=[{label:m("general:true"),value:"true"},{label:m("general:false"),value:"false"}]:g?.field&&"options"in g.field&&(w=g.field.options);let j=id(async e=>{l&&await d({andIndex:r,field:g,operator:l,orIndex:i,value:null===e?"":e})});(0,c.useEffect)(()=>{j(y)},[y]);let C=!g?.value&&"number"!=typeof g?.value||g?.field?.admin?.disableListFilter,S=(0,c.useCallback)(async e=>{v(void 0),await d({andIndex:r,field:o.find(t=>t.value===e.value),operator:l,orIndex:i,value:void 0})},[r,l,i,o,d]),$=(0,c.useCallback)(async e=>{let t,a={all:"any",contains:"string",equals:"any",exists:"boolean",greater_than:"date"===(t=g.field.type)?"object":"string",greater_than_equal:"date"===t?"object":"string",in:"any",intersects:"any",less_than:"date"===t?"object":"string",less_than_equal:"date"===t?"object":"string",like:"string",near:"any",not_equals:"any",not_in:"any",not_like:"string",within:"any"}[e.value]||"any",n="any"===a||typeof p===a||"boolean"===a&&("true"===p||"false"===p);n||v(void 0),await d({andIndex:r,field:g,operator:e.value,orIndex:i,value:n?p:void 0})},[r,g,i,d,p]);return(0,h.jsx)("div",{className:yN,children:(0,h.jsxs)("div",{className:`${yN}__wrap`,children:[(0,h.jsxs)("div",{className:`${yN}__inputs`,children:[(0,h.jsx)("div",{className:`${yN}__field`,children:(0,h.jsx)(dK,{disabled:C,filterOption:(e,t)=>(e?.data?.plainTextLabel||e.label).toLowerCase().includes(t.toLowerCase()),isClearable:!1,onChange:S,options:o.filter(e=>!e.field.admin.disableListFilter),value:g||{value:g?.value}})}),(0,h.jsx)("div",{className:`${yN}__operator`,children:(0,h.jsx)(dK,{disabled:C,isClearable:!1,onChange:$,options:g?.operators,value:g?.operators.find(e=>l===e.value)||null})}),(0,h.jsx)("div",{className:`${yN}__value`,children:u||(0,h.jsx)(yE,{booleanSelect:x,disabled:!l||!g||g?.field?.admin?.disableListFilter,filterOptions:n,internalField:g,onChange:v,operator:l,options:w,value:b??""})})]}),(0,h.jsxs)("div",{className:`${yN}__actions`,children:[(0,h.jsx)(na,{buttonStyle:"icon-label",className:`${yN}__actions-remove`,icon:"x",iconStyle:"with-border",onClick:()=>s({andIndex:r,orIndex:i}),round:!0}),(0,h.jsx)(na,{buttonStyle:"icon-label",className:`${yN}__actions-add`,icon:"plus",iconStyle:"with-border",onClick:()=>t({andIndex:r+1,field:o.find(e=>!e.field.admin?.disableListFilter),orIndex:i,relation:"and"}),round:!0})]})]})})},yD="where-builder",yT=e=>{let{collectionPluralLabel:t,fields:r,renderedFilters:a,resolvedFilterOptions:n}=e,{i18n:l,t:i}=(0,f.d)(),o=(0,c.useMemo)(()=>ye({fields:r,i18n:l}),[r,l]),{handleWhereChange:s,query:u}=fa(),d=(0,c.useMemo)(()=>{let e=u.where;if(e){if(rM(e))return e.or;let t=e?e.or&&!e.and?{or:e.or.map(e=>e.and?e:{and:[e]})}:e.and&&!e.or?{or:[{and:e.and}]}:e.or||e.and?e:{or:[{and:[e]}]}:{};if(rM(t))return t.or;console.warn(`Invalid where query in URL: ${JSON.stringify(e)}`)}return[]},[u.where]),p=c.default.useCallback(async({andIndex:e,field:t,orIndex:r,relation:a})=>{let n=[...d],l=v7[t.field.type].operators[0].value;"and"===a?n[r].and.splice(e,0,{[String(t.value)]:{[l]:void 0}}):n.push({and:[{[String(t.value)]:{[l]:void 0}}]}),await s({or:n})},[d,s]),g=c.default.useCallback(async({andIndex:e,field:t,operator:r,orIndex:a,value:n})=>{let l=d[a].and[e],i=v7[t.field.type],o=r||i.operators[0].value;if("object"==typeof l&&t.value){let r=n??l?.[o],i=r!==l?.[String(t.value)]?.[String(o)],c=o!==Object.keys(l?.[String(t.value)]||{})?.[0];if(i||c){let n={[String(t.value)]:{[o]:r}},l=[...d];l[a].and[e]=n,await s({or:l})}}},[d,s]),b=c.default.useCallback(async({andIndex:e,orIndex:t})=>{let r=[...d];r[t].and.splice(e,1),0===r[t].and.length&&r.splice(t,1),await s({or:r})},[d,s]);return(0,h.jsxs)("div",{className:yD,children:[d.length>0&&(0,h.jsxs)(c.default.Fragment,{children:[(0,h.jsx)("p",{className:`${yD}__label`,children:i("general:filterWhere",{label:m(t,l)})}),(0,h.jsx)("ul",{className:`${yD}__or-filters`,children:d.map((e,t)=>{let r=`${t}_${Array.isArray(e?.and)?e.and.length:""}`;return(0,h.jsxs)("li",{children:[0!==t&&(0,h.jsx)("div",{className:`${yD}__label`,children:i("general:or")}),(0,h.jsx)("ul",{className:`${yD}__and-filters`,children:Array.isArray(e?.and)&&e.and.map((e,r)=>{let l=d[t].and[r],s=Object.keys(l)[0],c=Object.keys(l?.[s]||{})?.[0]||void 0,u=l?.[s]?.[c]||void 0;return(0,h.jsxs)("li",{children:[0!==r&&(0,h.jsx)("div",{className:`${yD}__label`,children:i("general:and")}),(0,h.jsx)(yP,{addCondition:p,andIndex:r,fieldPath:s,filterOptions:n?.get(s),operator:c,orIndex:t,reducedFields:o,removeCondition:b,RenderedFilter:a?.get(s),updateCondition:g,value:u})]},r)})})]},r)})}),(0,h.jsx)(na,{buttonStyle:"icon-label",className:`${yD}__add-or`,icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:async()=>{await p({andIndex:0,field:o.find(e=>!e.field.admin?.disableListFilter),orIndex:d.length,relation:"or"})},children:i("general:or")})]}),0===d.length&&(0,h.jsxs)("div",{className:`${yD}__no-filters`,children:[(0,h.jsx)("div",{className:`${yD}__label`,children:i("general:noFiltersSet")}),(0,h.jsx)(na,{buttonStyle:"icon-label",className:`${yD}__add-first-filter`,icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:async()=>{o.length>0&&await p({andIndex:0,field:o.find(e=>!e.field.admin?.disableListFilter),orIndex:d.length,relation:"or"})},children:i("general:addFilter")})]})]})},yO="list-controls",yR=e=>{let{beforeActions:t,collectionConfig:r,collectionSlug:a,disableQueryPresets:n,enableColumns:l=!0,enableFilters:i=!0,enableSort:o=!1,listMenuItems:s,queryPreset:u,queryPresetPermissions:d,renderedFilters:p,resolvedFilterOptions:g}=e,{handleSearchChange:b,query:v}=fa(),y=gZ(r),{i18n:x,t:w}=(0,f.d)(),{breakpoints:{s:j}}=a0(),C=(y&&m("label"in y&&("string"==typeof y.label||"object"==typeof y.label)?y.label:"name"in y?y.name:null,x))??"ID",S=((e,t,r)=>{if(e){let a=t2(t,{i18n:r,moveSubFieldsToTop:!0}),n=new Set(e),l=[];for(let e of a)E(e)&&n.has(e.name)&&(l.push(e),n.delete(e.name));return l}return null})(r.admin.listSearchableFields,r.fields,x),$=(0,c.useRef)(w("general:searchBy",{label:m(C,x)})),_=(0,c.useRef)(!!v?.where),k=rM(v?.where),[N,P]=(0,c.useState)(k?"where":void 0);return(0,c.useEffect)(()=>{_.current&&!v?.where?_.current=!1:v?.where&&(_.current=!0)},[P,v?.where]),(0,c.useEffect)(()=>{S?.length>0?$.current=S.reduce((e,t,r)=>{let a="label"in t&&t.label?t.label:"name"in t?t.name:null;return 0===r?`${w("general:searchBy",{label:m(a,x)})}`:r===S.length-1?`${e} ${w("general:or")} ${m(a,x)}`:`${e}, ${m(a,x)}`},""):$.current=w("general:searchBy",{label:m(C,x)})},[w,S,x,C]),(0,h.jsxs)("div",{className:yO,children:[r?.enableQueryPresets&&!n&&(0,h.jsx)(yu,{activePreset:u,collectionSlug:a,queryPresetPermissions:d}),(0,h.jsx)(yh,{Actions:[!j&&(0,h.jsx)(c.default.Fragment,{children:t&&t},"before-actions"),l&&(0,h.jsx)(o9,{"aria-controls":`${yO}-columns`,"aria-expanded":"columns"===N,className:`${yO}__toggle-columns`,icon:(0,h.jsx)(az,{direction:"columns"===N?"up":"down"}),id:"toggle-list-columns",onClick:()=>P("columns"!==N?"columns":void 0),pillStyle:"light",size:"small",children:w("general:columns")},"toggle-list-columns"),i&&(0,h.jsx)(o9,{"aria-controls":`${yO}-where`,"aria-expanded":"where"===N,className:`${yO}__toggle-where`,icon:(0,h.jsx)(az,{direction:"where"===N?"up":"down"}),id:"toggle-list-filters",onClick:()=>P("where"!==N?"where":void 0),pillStyle:"light",size:"small",children:w("general:filters")},"toggle-list-filters"),o&&(0,h.jsx)(o9,{"aria-controls":`${yO}-sort`,"aria-expanded":"sort"===N,className:`${yO}__toggle-sort`,icon:(0,h.jsx)(az,{}),id:"toggle-list-sort",onClick:()=>P("sort"!==N?"sort":void 0),pillStyle:"light",size:"small",children:w("general:sort")},"toggle-list-sort"),r.admin.groupBy&&(0,h.jsx)(o9,{"aria-controls":`${yO}-group-by`,"aria-expanded":"group-by"===N,className:`${yO}__toggle-group-by`,icon:(0,h.jsx)(az,{direction:"group-by"===N?"up":"down"}),id:"toggle-group-by",onClick:()=>P("group-by"!==N?"group-by":void 0),pillStyle:"light",size:"small",children:w("general:groupByLabel",{label:""})},"toggle-group-by"),s&&Array.isArray(s)&&s.length>0&&(0,h.jsx)(a7,{button:(0,h.jsx)(vJ,{ariaLabel:w("general:moreOptions")}),className:`${yO}__popup`,horizontalAlign:"right",id:"list-menu",size:"small",verticalAlign:"bottom",children:s.map((e,t)=>(0,h.jsx)(c.Fragment,{children:e},`list-menu-item-${t}`))},"list-menu")].filter(Boolean),label:$.current,onSearchChange:b,searchQueryParam:v?.search},a),l&&(0,h.jsx)(oJ,{className:`${yO}__columns`,height:"columns"===N?"auto":0,id:`${yO}-columns`,children:(0,h.jsx)(fm,{collectionSlug:r.slug})}),(0,h.jsx)(oJ,{className:`${yO}__where`,height:"where"===N?"auto":0,id:`${yO}-where`,children:(0,h.jsx)(yT,{collectionPluralLabel:r?.labels?.plural,collectionSlug:r.slug,fields:r?.fields,renderedFilters:p,resolvedFilterOptions:g})}),r.admin.groupBy&&(0,h.jsx)(oJ,{className:`${yO}__group-by`,height:"group-by"===N?"auto":0,id:`${yO}-group-by`,children:(0,h.jsx)(ya,{collectionSlug:r.slug,fields:r.fields})})]})};function yA(e){let{collection:t,collection:{slug:r,labels:{plural:a,singular:n}}={},drawerSlug:l,ids:i,onSuccess:o,selectAll:s,where:u}=e,{clearRouteCache:p}=h7(),{config:{routes:{api:g},serverURL:v}}=(0,d.b)(),{code:y}=i_(),x=(0,b.useRouter)(),w=(0,b.useSearchParams)(),{i18n:j,t:C}=(0,f.d)(),S=(0,c.useCallback)(()=>{a_.error(C("error:unknown"))},[C]),$=c.default.useMemo(()=>{let e=[{_status:{not_equals:"published"}}];u&&e.push(u);let r=t4({collectionConfig:t,search:w.get("search")});return r&&e.push(r),s?e.push(ft(w)?.where||{id:{not_equals:""}}):e.push({id:{in:i||[]}}),tZ({locale:y,where:rA(e)},{addQueryPrefix:!0})},[t,w,s,i,y,u]),_=(0,c.useCallback)(async()=>{await ip.patch(`${v}${g}/${r}${$}&draft=true`,{body:JSON.stringify({_status:"published"}),headers:{"Accept-Language":j.language,"Content-Type":"application/json"}}).then(async e=>{try{let t=await e.json(),r=t?.docs.length||0,l=r>1?a:n;return e.status<400||r>0?(a_.success(C("general:updatedCountSuccessfully",{count:r,label:m(l,j)})),t?.errors.length>0&&a_.error(t.message,{description:t.errors.map(e=>e.message).join(`
`)}),x.replace(tZ({...ft(w),page:s?"1":void 0},{addQueryPrefix:!0})),p(),"function"==typeof o&&o(),null):(t.errors?t.errors.forEach(e=>a_.error(e.message)):S(),!1)}catch{return S()}})},[v,g,r,$,j,a,n,C,x,w,s,p,S,o]);return(0,h.jsx)(is,{body:C("version:aboutToPublishSelection",{label:m(a,j)}),cancelLabel:C("general:cancel"),confirmingLabel:C("version:publishing"),confirmLabel:C("general:confirm"),heading:C("version:confirmPublish"),modalSlug:l,onConfirm:_})}var yI=e=>{let t=(0,v.c)(8),{count:r,selectAll:a,selectedIDs:n,toggleAll:l}=b3(),i;t[0]!==l?(i=()=>l(),t[0]=l,t[1]=i):i=t[1];let o=a===bJ.AllAvailable,s;return t[2]!==r||t[3]!==e||t[4]!==n||t[5]!==i||t[6]!==o?(s=(0,h.jsx)(yM,{...e,count:r,ids:n,onSuccess:i,selectAll:o}),t[2]=r,t[3]=e,t[4]=n,t[5]=i,t[6]=o,t[7]=s):s=t[7],s},yM=e=>{let t,r=(0,v.c)(12),{collection:a,collection:n,count:l,ids:i,modalPrefix:o,onSuccess:s,selectAll:u,where:d}=e,{slug:p,versions:m}=void 0===n?{}:n,{permissions:g}=ig(),{t:b}=(0,f.d)(),{openModal:y}=le(),x=g?.collections?.[p]?.update,w=`${o?`${o}-`:""}publish-${p}`;if(!m?.drafts||0===l||!x)return null;if(r[0]!==a||r[1]!==w||r[2]!==i||r[3]!==s||r[4]!==y||r[5]!==u||r[6]!==b||r[7]!==d){let e;r[9]!==w||r[10]!==y?(e=()=>{y(w)},r[9]=w,r[10]=y,r[11]=e):e=r[11],t=(0,h.jsxs)(c.default.Fragment,{children:[(0,h.jsx)(b5,{"aria-label":b("version:publish"),onClick:e,children:b("version:publish")}),(0,h.jsx)(yA,{collection:a,drawerSlug:w,ids:i,onSuccess:s,selectAll:u,where:d})]}),r[0]=a,r[1]=w,r[2]=i,r[3]=s,r[4]=y,r[5]=u,r[6]=b,r[7]=d,r[8]=t}else t=r[8];return t},yL="confirm-restore-many-docs",yF="restore-many",yB=e=>{let{collection:{slug:t}={},viewType:r}=e,{permissions:a}=ig(),{config:{collections:n,routes:l,serverURL:i}}=(0,d.b)(),{code:o}=i_(),s=(0,b.useRouter)(),{clearRouteCache:u}=h7(),p=(0,b.useSearchParams)(),{count:g,getSelectedIds:v,selectAll:y,toggleAll:x}=b3(),{openModal:w}=le(),{i18n:j,t:C}=(0,f.d)(),[S,$]=c.default.useState(!1),_=a?.collections?.[t]?.update;if(y===bJ.None||!_||"trash"!==r)return null;let k=y===bJ.AllAvailable,E=k?[]:v(),N=ft(p)?.where,P={and:[...Array.isArray(N?.and)?N.and:N?[N]:[],{deletedAt:{exists:!0}}]},D=async()=>{let e,r=n.find(e=>e.slug===t);if(!r)return;e=k?P:{and:[{id:{in:E}},{deletedAt:{exists:!0}}]};let a=`${i}${l.api}/${t}${tZ({limit:0,locale:o,trash:!0,where:t4({collectionConfig:r,search:ft(p)?.search,where:e})},{addQueryPrefix:!0})}`,c={deletedAt:null};r?.versions?.drafts&&(c._status=S?"published":"draft");let d=await ip.patch(a,{body:JSON.stringify(c),headers:{"Accept-Language":j.language,"Content-Type":"application/json"}});try{let{plural:e,singular:t}=r.labels,a=await d.json(),n=a?.docs?.length||0;(d.status<400||n>0)&&a_.success(C("general:restoredCountSuccessfully",{count:n,label:m(n>1?e:t,j)})),a?.errors?.length>0&&a_.error(a.message,{description:a.errors.map(e=>e.message).join(`
`)})}catch{a_.error(C("error:unknown"))}x(),s.replace(tZ({...ft(p),page:k?"1":void 0},{addQueryPrefix:!0})),u()},T=n.find(({slug:e})=>e===t),O=m(1===g?T.labels.singular:T.labels.plural,j);return(0,h.jsxs)(c.default.Fragment,{children:[(0,h.jsx)(b5,{"aria-label":C("general:restore"),className:"restore-documents__toggle",onClick:()=>{w(yL)},children:C("general:restore")}),(0,h.jsx)(is,{body:(0,h.jsxs)(c.default.Fragment,{children:[C(T?.versions?.drafts?"general:aboutToRestoreAsDraftCount":"general:aboutToRestoreCount",{count:g,label:O}),T?.versions?.drafts&&(0,h.jsx)("div",{className:`${yF}__checkbox`,children:(0,h.jsx)(oH,{checked:S,id:"restore-as-published-many",label:C("general:restoreAsPublished"),name:"restore-as-published-many",onToggle:e=>$(e.target.checked)})})]}),className:yF,confirmingLabel:C("general:restoring"),heading:C("general:confirmRestoration"),modalSlug:yL,onConfirm:D})]})};function yz(e){let{collection:t,collection:{slug:r,labels:{plural:a,singular:n}}={},drawerSlug:l,ids:i,onSuccess:o,selectAll:s,where:u}=e,{config:{routes:{api:p},serverURL:g}}=(0,d.b)(),{code:v}=i_(),{i18n:y,t:x}=(0,f.d)(),w=(0,b.useSearchParams)(),j=(0,b.useRouter)(),{clearRouteCache:C}=h7(),S=(0,c.useCallback)(()=>{a_.error(x("error:unknown"))},[x]),$=c.default.useMemo(()=>{let e=[{_status:{not_equals:"draft"}}];u&&e.push(u);let r=t4({collectionConfig:t,search:w.get("search")});return r&&e.push(r),s||e.push({id:{in:i||[]}}),tZ({locale:v,where:rA(e)},{addQueryPrefix:!0})},[t,w,s,i,v,u]),_=(0,c.useCallback)(async()=>{await ip.patch(`${g}${p}/${r}${$}`,{body:JSON.stringify({_status:"draft"}),headers:{"Accept-Language":y.language,"Content-Type":"application/json"}}).then(async e=>{try{let t=await e.json(),r=t?.docs.length||0,l=r>1?a:n;return e.status<400||r>0?(a_.success(x("general:updatedCountSuccessfully",{count:r,label:m(l,y)})),t?.errors.length>0&&a_.error(t.message,{description:t.errors.map(e=>e.message).join(`
`)}),j.replace(tZ({...ft(w),page:s?"1":void 0},{addQueryPrefix:!0})),C(),"function"==typeof o&&o(),null):(t.errors?t.errors.forEach(e=>a_.error(e.message)):S(),!1)}catch{return S()}})},[g,p,r,$,y,a,n,x,j,w,s,C,S,o]);return(0,h.jsx)(is,{body:x("version:aboutToUnpublishSelection",{label:m(a,y)}),confirmingLabel:x("version:unpublishing"),heading:x("version:confirmUnpublish"),modalSlug:l,onConfirm:_})}var yU=e=>{let t=(0,v.c)(8),{count:r,selectAll:a,selectedIDs:n,toggleAll:l}=b3(),i;t[0]!==l?(i=()=>l(),t[0]=l,t[1]=i):i=t[1];let o=a===bJ.AllAvailable,s;return t[2]!==r||t[3]!==e||t[4]!==n||t[5]!==i||t[6]!==o?(s=(0,h.jsx)(yV,{...e,count:r,ids:n,onSuccess:i,selectAll:o}),t[2]=r,t[3]=e,t[4]=n,t[5]=i,t[6]=o,t[7]=s):s=t[7],s},yV=e=>{let t,r=(0,v.c)(12),{collection:a,collection:n,count:l,ids:i,modalPrefix:o,onSuccess:s,selectAll:u,where:d}=e,{slug:p,versions:m}=void 0===n?{}:n,{t:g}=(0,f.d)(),{permissions:b}=ig(),{toggleModal:y}=le(),x=b?.collections?.[p]?.update,w=`${o?`${o}-`:""}unpublish-${p}`;if(!m?.drafts||0===l||!x)return null;if(r[0]!==a||r[1]!==w||r[2]!==i||r[3]!==s||r[4]!==u||r[5]!==g||r[6]!==y||r[7]!==d){let e;r[9]!==w||r[10]!==y?(e=()=>{y(w)},r[9]=w,r[10]=y,r[11]=e):e=r[11],t=(0,h.jsxs)(c.default.Fragment,{children:[(0,h.jsx)(b5,{"aria-label":g("version:unpublish"),onClick:e,children:g("version:unpublish")}),(0,h.jsx)(yz,{collection:a,drawerSlug:w,ids:i,onSuccess:s,selectAll:u,where:d})]}),r[0]=a,r[1]=w,r[2]=i,r[3]=s,r[4]=u,r[5]=g,r[6]=y,r[7]=d,r[8]=t}else t=r[8];return t},yH=e=>{let t=(0,v.c)(19),{collectionConfig:r,disableBulkDelete:a,disableBulkEdit:n,label:l,modalPrefix:i,showSelectAllAcrossPages:o,viewType:s,where:u}=e,d=void 0===o||o,{count:p,selectAll:m,selectedIDs:g,toggleAll:b,totalDocs:y}=b3(),{t:x}=(0,f.d)(),w;t[0]!==b?(w=()=>b(),t[0]=b,t[1]=w):w=t[1];let j=w;if(0===p)return null;let C=r?.trash&&"trash"===s,S;return t[2]!==r||t[3]!==p||t[4]!==a||t[5]!==n||t[6]!==C||t[7]!==l||t[8]!==i||t[9]!==j||t[10]!==m||t[11]!==g||t[12]!==d||t[13]!==x||t[14]!==b||t[15]!==y||t[16]!==s||t[17]!==u?(S=(0,h.jsx)(b6,{count:p,ListActions:[m!==bJ.AllAvailable&&p<y&&!1!==d?(0,h.jsx)(b5,{"aria-label":x("general:selectAll",{count:`(${y})`,label:l}),id:"select-all-across-pages",onClick:()=>b(!0),children:x("general:selectAll",{count:`(${y})`,label:""})},"select-all"):null].filter(Boolean),SelectionActions:[!n&&!C&&(0,h.jsxs)(c.Fragment,{children:[(0,h.jsx)(vK,{collection:r,count:p,ids:g,modalPrefix:i,onSuccess:j,selectAll:m===bJ.AllAvailable,where:u}),(0,h.jsx)(yM,{collection:r,count:p,ids:g,modalPrefix:i,onSuccess:j,selectAll:m===bJ.AllAvailable,where:u}),(0,h.jsx)(yV,{collection:r,count:p,ids:g,modalPrefix:i,onSuccess:j,selectAll:m===bJ.AllAvailable,where:u})]},"bulk-actions"),C&&(0,h.jsx)(yB,{collection:r,viewType:s},"bulk-restore"),!a&&(0,h.jsx)(b4,{collection:r,modalPrefix:i,viewType:s},"bulk-delete")].filter(Boolean)}),t[2]=r,t[3]=p,t[4]=a,t[5]=n,t[6]=C,t[7]=l,t[8]=i,t[9]=j,t[10]=m,t[11]=g,t[12]=d,t[13]=x,t[14]=b,t[15]=y,t[16]=s,t[17]=u,t[18]=S):S=t[18],S};function yq({slug:e,className:t}){let{closeModal:r}=le(),{t:a}=(0,f.d)();return(0,h.jsx)("button",{"aria-label":a("general:close"),className:["close-modal-button",t].filter(Boolean).join(" "),onClick:()=>{r(e)},type:"button",children:(0,h.jsx)(f.a,{})},"close-button")}var yK="default-list-view-tabs",yW=e=>{let t,r=(0,v.c)(20),{collectionConfig:a,config:n,onChange:l,viewType:i}=e,{i18n:o,t:s}=(0,f.d)(),{setPreference:c}=ix(),u=(0,b.useRouter)(),d=a.trash,p=a.folders&&n.folders;if(!d&&!p)return null;r[0]!==a.slug||r[1]!==n||r[2]!==l||r[3]!==u||r[4]!==c?(t=async e=>{l&&l(e),("list"===e||"folders"===e)&&await c(`collection-${a.slug}`,{listViewType:e});let t=`/collections/${a.slug}`;switch(e){case"folders":n.folders&&(t=`/collections/${a.slug}/${n.folders.slug}`);break;case"trash":t=`/collections/${a.slug}/trash`}let r=tE({adminRoute:n.routes.admin,path:t,serverURL:n.serverURL});u.push(r)},r[0]=a.slug,r[1]=n,r[2]=l,r[3]=u,r[4]=c,r[5]=t):t=r[5];let g=t,y=`${s("general:all")} ${m(a?.labels?.plural,o)}`,x;if(r[6]!==y||r[7]!==a.labels?.plural||r[8]!==g||r[9]!==o||r[10]!==p||r[11]!==d||r[12]!==s||r[13]!==i){let e,t;r[15]===Symbol.for("react.memo_cache_sentinel")?(e=/\s+/g,r[15]=e):e=r[15];let n=y.toLowerCase().replace(e,"-"),l="list"===i&&`${yK}__button--active`,c;r[16]!==l?(c=[`${yK}__button`,l].filter(Boolean),r[16]=l,r[17]=c):c=r[17],r[18]!==g?(t=()=>g("list"),r[18]=g,r[19]=t):t=r[19],x=(0,h.jsxs)("div",{className:yK,children:[(0,h.jsxs)(na,{buttonStyle:"tab",className:c.join(" "),disabled:"list"===i,el:"button",id:n,onClick:t,children:[s("general:all")," ",m(a?.labels?.plural,o)]}),p&&(0,h.jsx)(na,{buttonStyle:"tab",className:[`${yK}__button`,"folders"===i&&`${yK}__button--active`].filter(Boolean).join(" "),disabled:"folders"===i,el:"button",onClick:()=>g("folders"),children:s("folder:byFolder")}),d&&(0,h.jsx)(na,{buttonStyle:"tab",className:[`${yK}__button`,"trash"===i&&`${yK}__button--active`].filter(Boolean).join(" "),disabled:"trash"===i,el:"button",id:"trash-view-pill",onClick:()=>g("trash"),children:s("general:trash")})]}),r[6]=y,r[7]=a.labels?.plural,r[8]=g,r[9]=o,r[10]=p,r[11]=d,r[12]=s,r[13]=i,r[14]=x}else x=r[14];return x},yG="list-header",yY=e=>(0,h.jsxs)("header",{className:[yG,e.className].filter(Boolean).join(" "),children:[(0,h.jsxs)("div",{className:`${yG}__content`,children:[(0,h.jsxs)("div",{className:`${yG}__title-and-actions`,children:[(0,h.jsx)("h1",{className:`${yG}__title`,children:e.title}),e.TitleActions.length?(0,h.jsx)("div",{className:`${yG}__title-actions`,children:e.TitleActions}):null]}),e.Actions.length?(0,h.jsx)("div",{className:`${yG}__actions`,children:e.Actions}):null]}),e.AfterListHeaderContent?(0,h.jsx)("div",{className:`${yG}__after-header-content`,children:e.AfterListHeaderContent}):null]}),yX=()=>{let e=(0,v.c)(12),{i18n:t,t:r}=(0,f.d)(),{config:a,getEntityConfig:n}=(0,d.b)(),{collections:l}=a,{enabledCollections:i,selectedOption:o,setSelectedOption:s}=fe(),c;if(e[0]!==l||e[1]!==i||e[2]!==n||e[3]!==t||e[4]!==o||e[5]!==s||e[6]!==r){c=Symbol.for("react.early_return_sentinel");e:{let a;e[8]!==i?(a=e=>{let{slug:t}=e;return i.includes(t)},e[8]=i,e[9]=a):a=e[9];let u=l.filter(a);if(u.length>1){let a=n({collectionSlug:o.value}),l;e[10]!==t?(l=e=>({label:m(e.labels.singular,t),value:e.slug}),e[10]=t,e[11]=l):l=e[11],c=(0,h.jsxs)("div",{className:"list-drawer__select-collection-wrap",children:[(0,h.jsx)(iN,{label:r("upload:selectCollectionToBrowse")}),(0,h.jsx)(dK,{className:`${yG}__select-collection`,isClearable:!1,onChange:s,options:u.map(l),value:{label:m(a?.labels.singular,t),value:a?.slug}})]});break e}}e[0]=l,e[1]=i,e[2]=n,e[3]=t,e[4]=o,e[5]=s,e[6]=r,e[7]=c}else c=e[7];return c!==Symbol.for("react.early_return_sentinel")?c:null};function yQ(e){let t,r=(0,v.c)(3),{hasCreatePermission:a}=e,{DocumentDrawerToggler:n}=fe(),{t:l}=(0,f.d)();return a?(r[0]!==n||r[1]!==l?(t=(0,h.jsx)(n,{className:"list-header__create-new-button",children:(0,h.jsx)(o9,{size:"small",children:l("general:createNew")})},"create-new-button-toggler"),r[0]=n,r[1]=l,r[2]=t):t=r[2],t):null}function yJ(e){let t,r=(0,v.c)(12),{collectionSlug:a,hasCreatePermission:n,isBulkUploadEnabled:l,onBulkUploadSuccess:i,openBulkUpload:o}=e,{drawerSlug:s,setCollectionSlug:c,setOnSuccess:u}=gv(),{t:d}=(0,f.d)(),{openModal:p}=le(),m=(0,b.useRouter)(),g;r[0]!==s||r[1]!==a||r[2]!==i||r[3]!==o||r[4]!==p||r[5]!==m||r[6]!==c||r[7]!==u?(g=()=>{"function"==typeof o?o():(c(a),p(s),u(()=>{"function"==typeof i?i():m.refresh()}))},r[0]=s,r[1]=a,r[2]=i,r[3]=o,r[4]=p,r[5]=m,r[6]=c,r[7]=u,r[8]=g):g=r[8];let y=g;return n&&l?(r[9]!==y||r[10]!==d?(t=(0,h.jsx)(na,{"aria-label":d("upload:bulkUpload"),buttonStyle:"pill",onClick:y,size:"small",children:d("upload:bulkUpload")},"bulk-upload-button"),r[9]=y,r[10]=d,r[11]=t):t=r[11],t):null}function yZ(e){let t=(0,v.c)(5),{collectionConfig:r,hasCreatePermission:a,newDocumentURL:n}=e,{i18n:l,t:i}=(0,f.d)();if(!a)return null;let o=r?.labels?.singular,s;return t[0]!==l||t[1]!==n||t[2]!==i||t[3]!==o?(s=(0,h.jsx)(na,{"aria-label":i("general:createNewLabel",{label:m(o,l)}),buttonStyle:"pill",className:"list-create-new-doc__create-new-button",el:"link",size:"small",to:n,children:i("general:createNew")},"create-new-button"),t[0]=l,t[1]=n,t[2]=i,t[3]=o,t[4]=s):s=t[4],s}var y0="confirm-empty-trash";function y1({collectionConfig:e,hasDeletePermission:t}){let{i18n:r,t:a}=(0,f.d)(),{code:n}=i_(),{config:l}=(0,d.b)(),{openModal:i}=le(),o=(0,b.useRouter)(),s=(0,b.useSearchParams)(),{clearRouteCache:u}=h7(),[p,g]=c.default.useState(null);c.default.useEffect(()=>{(async()=>{let t=tZ({depth:0,limit:0,locale:n,trash:!0,where:{deletedAt:{exists:!0}}},{addQueryPrefix:!0});try{let a=await (await ip.get(`${l.serverURL}${l.routes.api}/${e.slug}${t}`,{headers:{"Accept-Language":r.language,"Content-Type":"application/json"}})).json();g(a?.totalDocs??0)}catch{g(0)}})()},[e.slug,l,r.language,n]);let v=c.default.useCallback(async()=>{if(!t)return;let{slug:i,labels:c}=e,d=tZ({limit:0,locale:n,trash:!0,where:{deletedAt:{exists:!0}}},{addQueryPrefix:!0}),f=await ip.delete(`${l.serverURL}${l.routes.api}/${i}${d}`,{headers:{"Accept-Language":r.language,"Content-Type":"application/json"}});try{let e=await f.json(),t=e?.docs?.length||0;f.status<400&&a_.success(a("general:permanentlyDeletedCountSuccessfully",{count:t,label:m(c?.plural,r)})),e?.errors?.length>0&&a_.error(e.message,{description:e.errors.map(e=>e.message).join(`
`)}),o.replace(tZ({...Object.fromEntries(s.entries()),page:"1"},{addQueryPrefix:!0})),u()}catch{a_.error(a("error:unknown"))}},[e,l,t,r,a,n,s,o,u]);return(0,h.jsxs)(c.default.Fragment,{children:[(0,h.jsx)(na,{"aria-label":a("general:emptyTrashLabel",{label:m(e?.labels?.plural,r)}),buttonStyle:"pill",disabled:0===p,id:"empty-trash-button",onClick:()=>{i(y0)},size:"small",children:a("general:emptyTrash")},"empty-trash-button"),(0,h.jsx)(is,{body:(0,h.jsx)(mc,{elements:{0:({children:e})=>(0,h.jsx)("strong",{children:e}),1:({children:e})=>(0,h.jsx)("strong",{children:e})},i18nKey:"general:aboutToPermanentlyDeleteTrash",t:a,variables:{count:p??0,label:m(1===p?e.labels?.singular:e.labels?.plural,r)}}),confirmingLabel:a("general:deleting"),heading:a("general:confirmDeletion"),modalSlug:y0,onConfirm:v})]})}var y3="list-drawer",y2=({className:e,collectionConfig:t,Description:r,disableBulkDelete:a,disableBulkEdit:n,hasCreatePermission:l,hasDeletePermission:i,i18n:o,isBulkUploadEnabled:s,isTrashEnabled:c,newDocumentURL:u,onBulkUploadSuccess:f,openBulkUpload:p,smallBreak:g,viewType:b})=>{let{config:v,getEntityConfig:y}=(0,d.b)(),{drawerSlug:x,isInDrawer:w,selectedOption:j}=fe(),C="trash"===b,{isGroupingBy:S}=fa();return w?(0,h.jsx)(yY,{Actions:[(0,h.jsx)(yq,{className:`${y3}__header-close`,slug:x},"close-button")],AfterListHeaderContent:(0,h.jsxs)(h.Fragment,{children:[r,(0,h.jsx)(yX,{})]}),className:`${y3}__header`,title:m(y({collectionSlug:j.value})?.labels?.plural,o),TitleActions:[(0,h.jsx)(yQ,{hasCreatePermission:l},"list-drawer-create-new-doc")].filter(Boolean)}):(0,h.jsx)(yY,{Actions:[!g&&!S&&(0,h.jsx)(yH,{collectionConfig:t,disableBulkDelete:a,disableBulkEdit:n,label:m(t?.labels?.plural,o),showSelectAllAcrossPages:!S,viewType:b},"list-selection"),(0,h.jsx)(yW,{collectionConfig:t,config:v,viewType:b},"default-list-actions")].filter(Boolean),AfterListHeaderContent:r,className:e,title:m(t?.labels?.plural,o),TitleActions:[l&&!C&&(0,h.jsx)(yZ,{collectionConfig:t,hasCreatePermission:l,newDocumentURL:u},"list-header-create-new-doc"),l&&s&&!C&&(0,h.jsx)(yJ,{collectionSlug:t.slug,hasCreatePermission:l,isBulkUploadEnabled:s,onBulkUploadSuccess:f,openBulkUpload:p},"list-header-bulk-upload"),i&&c&&"trash"===b&&(0,h.jsx)(y1,{collectionConfig:t,hasDeletePermission:i},"list-header-empty-trash")].filter(Boolean)})},y6="group-by-header",y5=({collectionConfig:e,groupByFieldPath:t,groupByValue:r,heading:a})=>(0,h.jsxs)("header",{className:y6,children:[(0,h.jsx)("h4",{className:`${y6}__heading`,"data-group-id":r,children:a}),(0,h.jsx)(yH,{collectionConfig:e,label:a,modalPrefix:r,where:{[t]:{equals:r}}})]}),y4="per-page",y8=[5,10,25,50,100],y9=e=>{let t=(0,v.c)(9),{defaultLimit:r,handleChange:a,limit:n,limits:l}=e,i=void 0===l?y8:l,{t:o}=(0,f.d)(),s=ru(n)?n:void 0===r?10:r,c;if(t[0]!==a||t[1]!==s||t[2]!==i||t[3]!==o){let e;t[5]!==a||t[6]!==s||t[7]!==i?(e=e=>{let{close:t}=e;return(0,h.jsx)(aK.ButtonGroup,{children:i.map((e,r)=>(0,h.jsxs)(aK.Button,{className:[`${y4}__button`,e===s&&`${y4}__button-active`].filter(Boolean).join(" "),onClick:()=>{t(),a&&a(e)},children:[e===s&&(0,h.jsx)("div",{className:`${y4}__chevron`,children:(0,h.jsx)(az,{direction:"right",size:"small"})}),"",(0,h.jsx)("span",{children:e})]},r))})},t[5]=a,t[6]=s,t[7]=i,t[8]=e):e=t[8],c=(0,h.jsx)("div",{className:y4,children:(0,h.jsx)(a7,{button:(0,h.jsxs)("div",{className:`${y4}__base-button`,children:[(0,h.jsx)("span",{children:o("general:perPage",{limit:s})}),"",(0,h.jsx)(az,{className:`${y4}__icon`})]}),horizontalAlign:"right",render:e,size:"small"})}),t[0]=a,t[1]=s,t[2]=i,t[3]=o,t[4]=c}else c=t[4];return c},y7="page-controls",xe=({AfterPageControls:e,collectionConfig:t,data:r,handlePageChange:a,handlePerPageChange:n,limit:l})=>{let{i18n:i}=(0,f.d)();return(0,h.jsxs)("div",{className:y7,children:[(0,h.jsx)(pl,{hasNextPage:r.hasNextPage,hasPrevPage:r.hasPrevPage,limit:r.limit,nextPage:r.nextPage,numberOfNeighbors:1,onChange:a,page:r.page,prevPage:r.prevPage,totalPages:r.totalPages}),r.totalDocs>0&&(0,h.jsxs)(c.Fragment,{children:[(0,h.jsxs)("div",{className:`${y7}__page-info`,children:[r.page*r.limit-(r.limit-1),"-",r.totalPages>1&&r.totalPages!==r.page?r.limit*r.page:r.totalDocs," ",i.t("general:of")," ",r.totalDocs]}),(0,h.jsx)(y9,{handleChange:n,limit:l,limits:t?.admin?.pagination?.limits,resetPage:r.totalDocs<=r.pagingCounter}),e]})]})},xt=({AfterPageControls:e,collectionConfig:t})=>{let{data:r,defaultLimit:a,handlePageChange:n,handlePerPageChange:l,query:i}=fa();return(0,h.jsx)(xe,{AfterPageControls:e,collectionConfig:t,data:r,handlePageChange:n,handlePerPageChange:l,limit:ru(i.limit)?i.limit:a})},xr=e=>{let t=(0,v.c)(12),{AfterPageControls:r,collectionConfig:a,data:n,groupByValue:l}=e,{refineListData:i}=fa(),o;t[0]!==l||t[1]!==i?(o=async e=>{await i({queryByGroup:{[l]:{page:e}}})},t[0]=l,t[1]=i,t[2]=o):o=t[2];let s=o,c;t[3]!==l||t[4]!==i?(c=async e=>{await i({queryByGroup:{[l]:{limit:e,page:1}}})},t[3]=l,t[4]=i,t[5]=c):c=t[5];let u=c,d;return t[6]!==r||t[7]!==a||t[8]!==n||t[9]!==s||t[10]!==u?(d=(0,h.jsx)(xe,{AfterPageControls:r,collectionConfig:a,data:n,handlePageChange:s,handlePerPageChange:u}),t[6]=r,t[7]=a,t[8]=n,t[9]=s,t[10]=u,t[11]=d):d=t[11],d},xa=()=>(0,h.jsx)("svg",{className:"icon icon--logout",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{className:"stroke",d:"M12 16H14.6667C15.0203 16 15.3594 15.8595 15.6095 15.6095C15.8595 15.3594 16 15.0203 16 14.6667V5.33333C16 4.97971 15.8595 4.64057 15.6095 4.39052C15.3594 4.14048 15.0203 4 14.6667 4H12M7.33333 13.3333L4 10M4 10L7.33333 6.66667M4 10H12",strokeLinecap:"square"})}),xn=e=>{let t=(0,v.c)(5),{tabIndex:r}=e,a=void 0===r?0:r,{t:n}=(0,f.d)(),{config:l}=(0,d.b)(),{admin:i,routes:o}=l,{routes:s}=i,{logout:c}=s,{admin:u}=o,p;return t[0]!==u||t[1]!==c||t[2]!==n||t[3]!==a?(p=(0,h.jsx)(aL,{"aria-label":n("authentication:logOut"),className:"nav__log-out",href:tE({adminRoute:u,path:c}),prefetch:!1,tabIndex:a,title:n("authentication:logOut"),children:(0,h.jsx)(xa,{})}),t[0]=u,t[1]=c,t[2]=n,t[3]=a,t[4]=p):p=t[4],p},xl="nav-group",xi=e=>{let t,r=(0,v.c)(21),{children:a,isOpen:n,label:l}=e,[i,o]=(0,c.useState)("u">typeof n&&!n),[s,u]=(0,c.useState)(!1),{setPreference:d}=ix(),{navOpen:f}=bT();if(l){let e;r[0]!==i||r[1]!==l||r[2]!==d?(e=()=>{u(!0);let e={};e?.[l]?e[l].open=!!i:e[l]={open:!!i},d("nav",{groups:e},!0),o(!i)},r[0]=i,r[1]=l,r[2]=d,r[3]=e):e=r[3];let t=e,n=`${l}`,c=i&&`${xl}--collapsed`,p;r[4]!==n||r[5]!==c?(p=[`${xl}`,n,c].filter(Boolean),r[4]=n,r[5]=c,r[6]=p):p=r[6];let m=p.join(" "),g=`nav-group-${l}`,b=`${xl}__toggle--${i?"collapsed":"open"}`,v;r[7]!==b?(v=[`${xl}__toggle`,b].filter(Boolean),r[7]=b,r[8]=v):v=r[8];let y=v.join(" "),x=f?0:-1,w;return r[9]!==s||r[10]!==a||r[11]!==i||r[12]!==l||r[13]!==x||r[14]!==m||r[15]!==g||r[16]!==y||r[17]!==t?(w=(0,h.jsxs)("div",{className:m,id:g,children:[(0,h.jsxs)("button",{className:y,onClick:t,tabIndex:x,type:"button",children:[(0,h.jsx)("div",{className:`${xl}__label`,children:l}),(0,h.jsx)("div",{className:`${xl}__indicator`,children:(0,h.jsx)(az,{className:`${xl}__indicator`,direction:i?void 0:"up"})})]}),(0,h.jsx)(oJ,{duration:200*!!s,height:i?0:"auto",children:(0,h.jsx)("div",{className:`${xl}__content`,children:a})})]}),r[9]=s,r[10]=a,r[11]=i,r[12]=l,r[13]=x,r[14]=m,r[15]=g,r[16]=y,r[17]=t,r[18]=w):w=r[18],w}return r[19]!==a?(t=(0,h.jsx)(c.default.Fragment,{children:a}),r[19]=a,r[20]=t):t=r[20],t};function xo({active:e}){let{t:t}=(0,f.d)(),{config:r}=(0,d.b)(),{admin:{routes:{browseByFolder:a}},routes:{admin:n}}=r;return(0,h.jsxs)(aL,{className:["browse-by-folder-button",e&&"active"].filter(Boolean).join(" "),href:tE({adminRoute:n,path:a}),id:"browse-by-folder",prefetch:!1,children:[(0,h.jsx)(mp,{}),t("folder:browseByFolder")]})}var xs=({options:e,...t})=>{let{field:r,field:{name:a,admin:{className:n,isClearable:l=!0,isSortable:i=!0,placeholder:o}={},hasMany:s=!1,label:u,localized:d,required:p},onChange:m,path:g,readOnly:b,validate:v}=t,{t:y}=(0,f.d)(),{folderType:x}=h4(),w=c.default.useMemo(()=>x&&0!==x.length?pQ(e.filter(e=>"object"!=typeof e||!e.value||x.includes(e.value))):pQ(e),[e,x]),{customComponents:{AfterInput:j,BeforeInput:C,Description:S,Error:$,Label:_}={},disabled:k,path:E,selectFilterOptions:N,setValue:P,showError:D,value:T}=oR({potentiallyStalePath:g,validate:c.default.useCallback((e,t)=>{if("function"==typeof v)return v(e,{...t,hasMany:s,options:w,required:p})},[v,p,s,w])}),O=c.default.useCallback(e=>{if(!b||k){let t=null;e&&s?t=Array.isArray(e)&&e.length>0?e.map(e=>e.value):null:e&&!Array.isArray(e)&&(t=e.value),"function"==typeof m&&m(t),P(t)}},[b,k,s,P,m]),R=c.default.useMemo(()=>oL(r),[r]);return(0,h.jsx)(pX,{AfterInput:j,BeforeInput:C,className:n,Description:S,description:y("folder:folderTypeDescription"),Error:$,filterOption:N?({value:e})=>N?.some(t=>("string"==typeof t?t:t.value)===e):void 0,hasMany:s,isClearable:l,isSortable:i,Label:_,label:u,localized:d,name:a,onChange:O,options:w,path:E,placeholder:o,readOnly:b||k,required:p||Array.isArray(x)&&x.length>0,showError:D,style:R,value:T})},xc=()=>(0,h.jsx)("svg",{className:"icon icon--document",fill:"none",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{clipRule:"evenodd",d:"M3.5 1C2.94772 1 2.5 1.44772 2.5 2V14C2.5 14.5523 2.94771 15 3.5 15H12.5C13.0523 15 13.5 14.5523 13.5 14V4.41421C13.5 4.149 13.3946 3.89464 13.2071 3.70711L10.7929 1.29289C10.6054 1.10536 10.351 1 10.0858 1H3.5ZM5 5.5C5 5.22386 5.22386 5 5.5 5H10.5C10.7761 5 11 5.22386 11 5.5C11 5.77614 10.7761 6 10.5 6H5.5C5.22386 6 5 5.77614 5 5.5ZM5 8.5C5 8.22386 5.22386 8 5.5 8H10.5C10.7761 8 11 8.22386 11 8.5C11 8.77614 10.7761 9 10.5 9H5.5C5.22386 9 5 8.77614 5 8.5ZM5 11.5C5 11.2239 5.22386 11 5.5 11H10.5C10.7761 11 11 11.2239 11 11.5C11 11.7761 10.7761 12 10.5 12H5.5C5.22386 12 5 11.7761 5 11.5Z",fill:"currentColor",fillRule:"evenodd"})}),xu="draggable-with-click",xd=({as:e="div",children:t,className:r,disabled:a=!1,onClick:n,onKeyDown:l,ref:i,thresholdPixels:o=3})=>{let{attributes:s,listeners:u,setNodeRef:d}=tm({id:(0,c.useId)(),disabled:a}),f=(0,c.useRef)({x:0,y:0}),p=(0,c.useRef)(!1);return(0,h.jsx)(e||"div",{role:"button",tabIndex:0,...s,className:[xu,r,a?`${xu}--disabled`:""].filter(Boolean).join(" "),onKeyDown:a?void 0:l,onPointerDown:a?void 0:n?e=>{f.current={x:e.clientX,y:e.clientY},p.current=!1;let t=r=>{let a=Math.abs(r.clientX-f.current.x),l=Math.abs(r.clientY-f.current.y);(a>o||l>o)&&(p.current=!0,u?.onPointerDown&&(u.onPointerDown(e),n(r)),window.removeEventListener("pointermove",t))},r=e=>{window.removeEventListener("pointermove",t),window.removeEventListener("pointerup",r),p.current||n(e)};window.addEventListener("pointermove",t),window.addEventListener("pointerup",r)}:void 0,ref:e=>{a||(d(e),i&&(i.current=e))},children:t})},xf="simple-table",xp=({appearance:e,className:t,headerCells:r,tableRows:a})=>(0,h.jsx)("div",{className:[t,xf,e&&`${xf}--appearance-${e}`].filter(Boolean).join(" "),children:(0,h.jsxs)("table",{cellPadding:0,cellSpacing:0,className:`${xf}__table`,children:[(0,h.jsx)(xh,{children:(0,h.jsx)(xg,{children:r})}),(0,h.jsx)(xm,{children:a})]})}),xh=({children:e,className:t,...r})=>(0,h.jsx)("thead",{className:`${xf}__thead ${t||""}`.trim(),...r,children:e}),xm=({children:e,className:t,...r})=>(0,h.jsx)("tbody",{className:`${xf}__tbody ${t||""}`.trim(),...r,children:e}),xg=({children:e,className:t,...r})=>(0,h.jsx)("tr",{className:`${xf}__tr ${t||""}`.trim(),...r,children:e}),xb=({children:e,className:t,...r})=>(0,h.jsx)("td",{className:`${xf}__td ${t||""}`.trim(),...r,children:e}),xv=({children:e,className:t,...r})=>(0,h.jsx)("th",{className:`${xf}__th ${t||""}`.trim(),...r,children:e}),xy=({children:e,className:t,...r})=>(0,h.jsx)("td",{className:`${xf}__hidden-cell ${t||""}`.trim(),...r,children:e}),xx="draggable-table-row";function xw({id:e,columns:t,disabled:r=!1,dragData:a,isDroppable:n,isFocused:l,isSelected:i,isSelecting:o,itemKey:s,onClick:u,onKeyDown:d}){let f=!r&&n&&!i,{isOver:p,setNodeRef:m}=tv({id:e,data:a,disabled:!f}),g=c.default.useRef(null);return c.default.useEffect(()=>{let e=g.current;return l&&g.current?g.current.focus():!l&&g.current&&g.current.blur(),()=>{e&&e.blur()}},[l]),(0,h.jsxs)(xd,{as:"tr",className:[xx,i&&`${xx}--selected`,o&&`${xx}--selecting`,r&&`${xx}--disabled`,l&&`${xx}--focused`,p&&`${xx}--over`].filter(Boolean).join(" "),onClick:u,onKeyDown:d,ref:g,children:[t.map((e,r)=>(0,h.jsx)(xb,{className:[`${xx}__cell-content`,0===r&&`${xx}__first-td`,r===t.length-1&&`${xx}__last-td`].filter(Boolean).join(" "),children:e},`${s}-${r}`)),f?(0,h.jsx)(xy,{children:(0,h.jsx)("div",{className:`${xx}__drop-area`,ref:m})}):null]},s)}var xj="folder-file-table";function xC(e){let t=(0,v.c)(39),{showRelationCell:r}=e,a=void 0===r||r,{checkIfItemIsDisabled:n,documents:l,focusedRowIndex:i,onItemClick:o,onItemKeyPress:s,selectedItemKeys:u,subfolders:p}=h4(),{config:g}=(0,d.b)(),{i18n:b,t:y}=(0,f.d)(),x;t[0]!==g||t[1]!==b?(x=()=>{let e={};return g.collections.forEach(t=>{e[t.slug]={plural:m(t.labels?.plural,b),singular:m(t.labels?.singular,b)}}),e},t[0]=g,t[1]=b,t[2]=x):x=t[2];let[w]=c.default.useState(x),j;t[3]!==a||t[4]!==y?(j=()=>{let e=[{name:"name",label:y("general:name")},{name:"createdAt",label:y("general:createdAt")},{name:"updatedAt",label:y("general:updatedAt")}];return a&&e.push({name:"type",label:y("version:type")}),e},t[3]=a,t[4]=y,t[5]=j):j=t[5];let[C]=c.default.useState(j),S;if(t[6]!==n||t[7]!==C||t[8]!==g||t[9]!==l||t[10]!==i||t[11]!==b||t[12]!==o||t[13]!==s||t[14]!==w||t[15]!==u||t[16]!==p){let e,r;t[18]!==n||t[19]!==C||t[20]!==g||t[21]!==i||t[22]!==b||t[23]!==o||t[24]!==s||t[25]!==w||t[26]!==u?(e=(e,t)=>{let{itemKey:r,relationTo:a,value:l}=e,c=rw(l);return(0,h.jsx)(xw,{columns:C.map((t,n)=>{let{name:i}=t,o="";return"name"===i&&void 0!==l._folderOrDocumentTitle&&(o=l._folderOrDocumentTitle),("createdAt"===i||"updatedAt"===i)&&l[i]&&(o=of({date:l[i],i18n:b,pattern:g.admin.dateFormat})),"type"===i&&(o=(0,h.jsxs)(h.Fragment,{children:[w[a]?.singular||a,Array.isArray(e.value?.folderType)?e.value?.folderType.reduce((e,t,r)=>0===r?` \u2014 ${w[t]?.plural||t}`:r>0?`${e}, ${w[t]?.plural||t}`:e,""):""]})),0===n?(0,h.jsxs)("span",{className:`${xj}__cell-with-icon`,children:[(0,h.jsx)(mp,{}),o]},`${r}-${i}`):o}),disabled:n(e),dragData:{id:c,type:"folder"},id:c,isDroppable:!0,isFocused:i===t,isSelected:u.has(r),isSelecting:u.size>0,itemKey:r,onClick:r=>{o({event:r,index:t,item:e})},onKeyDown:r=>{s({event:r,index:t,item:e})}},`${t}-${r}`)},t[18]=n,t[19]=C,t[20]=g,t[21]=i,t[22]=b,t[23]=o,t[24]=s,t[25]=w,t[26]=u,t[27]=e):e=t[27],t[28]!==n||t[29]!==C||t[30]!==g||t[31]!==i||t[32]!==b||t[33]!==o||t[34]!==s||t[35]!==w||t[36]!==u||t[37]!==p.length?(r=(e,t)=>{let{itemKey:r,relationTo:a,value:l}=e,c=rw(l),d=t+p.length;return(0,h.jsx)(xw,{columns:C.map((e,t)=>{let{name:n}=e,i="";return"name"===n&&void 0!==l._folderOrDocumentTitle&&(i=l._folderOrDocumentTitle),("createdAt"===n||"updatedAt"===n)&&l[n]&&(i=of({date:l[n],i18n:b,pattern:g.admin.dateFormat})),"type"===n&&(i=w[a]?.singular||a),0===t?(0,h.jsxs)("span",{className:`${xj}__cell-with-icon`,children:[(0,h.jsx)(xc,{}),i]},`${r}-${n}`):i}),disabled:n(e),dragData:{id:c,type:"document"},id:c,isFocused:i===d,isSelected:u.has(r),isSelecting:u.size>0,itemKey:r,onClick:t=>{o({event:t,index:d,item:e})},onKeyDown:t=>{s({event:t,index:d,item:e})}},`${d}-${r}`)},t[28]=n,t[29]=C,t[30]=g,t[31]=i,t[32]=b,t[33]=o,t[34]=s,t[35]=w,t[36]=u,t[37]=p.length,t[38]=r):r=t[38],S=(0,h.jsx)(xp,{headerCells:C.map(xS),tableRows:[...p.map(e),...l.map(r)]}),t[6]=n,t[7]=C,t[8]=g,t[9]=l,t[10]=i,t[11]=b,t[12]=o,t[13]=s,t[14]=w,t[15]=u,t[16]=p,t[17]=S}else S=t[17];return S}function xS(e){let{name:t,label:r}=e;return(0,h.jsx)(xv,{children:r},t)}function x$({className:e=""}){return(0,h.jsxs)("div",{className:`icon icon--dots ${e}`.trim(),children:[(0,h.jsx)("div",{}),(0,h.jsx)("div",{}),(0,h.jsx)("div",{})]})}var x_="folder-file-card";function xk({id:e,type:t,className:r="",disabled:a=!1,folderType:n,isDeleting:l=!1,isFocused:i=!1,isSelected:o=!1,itemKey:s,onClick:u,onKeyDown:d,PopupActions:f,previewUrl:p,selectedCount:m=0,title:g}){let b=!e||a||"folder"!==t,{isOver:v,setNodeRef:y}=tv({id:s,data:{id:e,type:t,folderType:n},disabled:b}),x=c.default.useRef(null);return c.default.useEffect(()=>{let e=x.current;return i&&x.current?x.current.focus():!i&&x.current&&x.current.blur(),()=>{e&&e.blur()}},[i]),(0,h.jsxs)(xd,{className:[x_,r,o&&`${x_}--selected`,a&&`${x_}--disabled`,l&&`${x_}--deleting`,i&&`${x_}--focused`,v&&`${x_}--over`,`${x_}--${t}`].filter(Boolean).join(" "),disabled:a||!u&&!d,onClick:u,onKeyDown:d,ref:x,children:[b?null:(0,h.jsx)("div",{className:`${x_}__drop-area`,ref:y}),"file"===t?(0,h.jsx)("div",{className:`${x_}__preview-area`,children:p?(0,h.jsx)(fQ,{fileSrc:p}):(0,h.jsx)(xc,{})}):null,(0,h.jsxs)("div",{className:`${x_}__titlebar-area`,children:[(0,h.jsx)("div",{className:`${x_}__icon-wrap`,children:"file"===t?(0,h.jsx)(xc,{}):(0,h.jsx)(mp,{})}),(0,h.jsxs)("div",{className:`${x_}__titlebar-labels`,children:[(0,h.jsx)("p",{className:`${x_}__name`,title:g,children:(0,h.jsx)("span",{children:g})}),n&&n.length>0?(0,h.jsx)(xE,{folderType:n}):null]}),f?(0,h.jsx)(a7,{button:(0,h.jsx)(x$,{}),disabled:m>1||1===m&&!o,horizontalAlign:"right",size:"large",verticalAlign:"bottom",children:f}):null]})]},s)}function xE({folderType:e}){let{config:t}=(0,d.b)(),{i18n:r}=(0,f.d)(),a=c.default.useMemo(()=>e.reduce((e,a)=>{let n=t.collections?.find(e=>e.slug===a);return n?[...e,m(n.labels.plural,r)]:e},[]),[e,t.collections,r]);return(0,h.jsx)("p",{className:`${x_}__assigned-collections`,children:a.map((t,r)=>(0,h.jsxs)("span",{children:[t,r<e.length-1?", ":""]},t))})}function xN(e){let t=(0,v.c)(18),{type:r,className:a,index:n,item:l}=e,{checkIfItemIsDisabled:i,focusedRowIndex:o,onItemClick:s,onItemKeyPress:c,selectedItemKeys:u}=h4(),d;if(t[0]!==i||t[1]!==a||t[2]!==o||t[3]!==n||t[4]!==l||t[5]!==s||t[6]!==c||t[7]!==u||t[8]!==r){let e,f=u.has(l.itemKey),p=i(l),m;t[10]!==n||t[11]!==l||t[12]!==s?(m=e=>{s({event:e,index:n,item:l})},t[10]=n,t[11]=l,t[12]=s,t[13]=m):m=t[13],t[14]!==n||t[15]!==l||t[16]!==c?(e=e=>{c({event:e,index:n,item:l})},t[14]=n,t[15]=l,t[16]=c,t[17]=e):e=t[17],d=(0,h.jsx)(xk,{className:a,disabled:p,folderType:l.value.folderType||[],id:l.value.id,isFocused:o===n,isSelected:f,itemKey:l.itemKey,onClick:m,onKeyDown:e,previewUrl:l.value.url,title:l.value._folderOrDocumentTitle,type:r}),t[0]=i,t[1]=a,t[2]=o,t[3]=n,t[4]=l,t[5]=s,t[6]=c,t[7]=u,t[8]=r,t[9]=d}else d=t[9];return d}var xP="item-card-grid";function xD({type:e,items:t,subfolderCount:r,title:a}){return(0,h.jsxs)(h.Fragment,{children:[a&&(0,h.jsx)("p",{className:`${xP}__title`,children:a}),(0,h.jsx)("div",{className:xP,children:t&&t?.length!==0?t.map((t,a)=>{let{itemKey:n}=t;return(0,h.jsx)(xN,{index:a+(r||0),item:t,type:e},n)}):null})]})}function xT(e){return void 0===e||"number"==typeof e?e:decodeURIComponent(e)}var xO=e=>{let t=(0,v.c)(9),{id:r,className:a,prefix:n}=e,l=void 0===n?"ID:":n,{config:i}=(0,d.b)(),{routes:o}=i,{admin:s}=o,{collectionSlug:c,globalSlug:u}=o$(),f=ii(),p=`/${c?`collections/${c}`:`globals/${u}`}/${r}`,m;if(t[0]!==s||t[1]!==a||t[2]!==f||t[3]!==r||t[4]!==l||t[5]!==p){let e=tE({adminRoute:s,path:p}),n;t[7]!==a?(n=["id-label",a].filter(Boolean),t[7]=a,t[8]=n):n=t[8],m=(0,h.jsxs)("div",{className:n.join(" "),title:r,children:[l,"",f>1?(0,h.jsx)(aL,{href:e,children:xT(r)}):xT(r)]}),t[0]=s,t[1]=a,t[2]=f,t[3]=r,t[4]=l,t[5]=p,t[6]=m}else m=t[6];return m},xR="render-title",xA=e=>{let t=(0,v.c)(10),{className:r,element:a,fallback:n,title:l}=e,{id:i,isInitializing:o}=o$(),{title:s}=ov(),u=l||s||n,d=u===i,f=void 0===a?"h1":a,p;if(t[0]!==f||t[1]!==r||t[2]!==i||t[3]!==d||t[4]!==o||t[5]!==u){let e=(0,h.jsx)(c.Fragment,{children:""}),a=d&&`${xR}--has-id`,n;t[7]!==r||t[8]!==a?(n=[r,xR,a].filter(Boolean),t[7]=r,t[8]=a,t[9]=n):n=t[9],p=(0,h.jsx)(f,{className:n.join(" "),"data-doc-id":i,title:u,children:o?e:(0,h.jsx)(c.Fragment,{children:d?(0,h.jsx)(xO,{className:`${xR}__id`,id:i}):u||e})}),t[0]=f,t[1]=r,t[2]=i,t[3]=d,t[4]=o,t[5]=u,t[6]=p}else p=t[6];return p},xI="sort-column",xM=e=>{let t,r=(0,v.c)(19),{name:a,appearance:n,disable:l,Label:i,label:o}=e,s=void 0!==l&&l,{handleSortChange:c,query:u}=fa(),{t:d}=(0,f.d)(),{sort:p}=u,m=`-${a}`,g;r[0]!==a||r[1]!==p?(g=[`${xI}__asc`],p===a&&g.push(`${xI}--active`),r[0]=a,r[1]=p,r[2]=g):g=r[2],r[3]!==m||r[4]!==p?(t=[`${xI}__desc`],p===m&&t.push(`${xI}--active`),r[3]=m,r[4]=p,r[5]=t):t=r[5];let b=n&&`${xI}--appearance-${n}`,y;r[6]!==b?(y=[xI,b].filter(Boolean),r[6]=b,r[7]=y):y=r[7];let x=y.join(" "),w;return r[8]!==i||r[9]!==a||r[10]!==g||r[11]!==m||r[12]!==t||r[13]!==s||r[14]!==c||r[15]!==o||r[16]!==d||r[17]!==x?(w=(0,h.jsxs)("div",{className:x,children:[(0,h.jsx)("span",{className:`${xI}__label`,children:i??(0,h.jsx)(iN,{hideLocale:!0,label:o,unstyled:!0})}),!s&&(0,h.jsxs)("div",{className:`${xI}__buttons`,children:[(0,h.jsx)("button",{"aria-label":d("general:sortByLabelDirection",{direction:d("general:ascending"),label:o}),className:[...g,`${xI}__button`].filter(Boolean).join(" "),onClick:()=>void c(a),type:"button",children:(0,h.jsx)(az,{direction:"up"})}),(0,h.jsx)("button",{"aria-label":d("general:sortByLabelDirection",{direction:d("general:descending"),label:o}),className:[...t,`${xI}__button`].filter(Boolean).join(" "),onClick:()=>void c(m),type:"button",children:(0,h.jsx)(az,{})})]})]}),r[8]=i,r[9]=a,r[10]=g,r[11]=m,r[12]=t,r[13]=s,r[14]=c,r[15]=o,r[16]=d,r[17]=x,r[18]=w):w=r[18],w},xL=e=>{let t=(0,v.c)(18),{field:r,fieldToUse:a,path:n,readOnly:l}=e,{label:i}=r,o=n||r.name,s;t[0]!==o?(s={path:o},t[0]=o,t[1]=s):s=t[1];let{setValue:u,value:d}=oR(s),{getDataByPath:f}=ar(),[p,m]=(0,c.useState)(!0),g;t[2]!==a||t[3]!==f||t[4]!==u||t[5]!==d?(g=e=>{e.preventDefault();let t=f(a);if(t){let e=t?.replace(/ /g,"-").replace(/[^\w-]+/g,"").toLowerCase();d!==e&&u(e)}else""!==d&&u("")},t[2]=a,t[3]=f,t[4]=u,t[5]=d,t[6]=g):g=t[6];let b=g,y;t[7]===Symbol.for("react.memo_cache_sentinel")?(y=e=>{e.preventDefault(),m(xF)},t[7]=y):y=t[7];let x=y,w=`field-${n}`,j;return t[8]!==r.name||t[9]!==b||t[10]!==p||t[11]!==i||t[12]!==n||t[13]!==l||t[14]!==u||t[15]!==w||t[16]!==d?(j=(0,h.jsxs)("div",{className:"field-type slug-field-component",children:[(0,h.jsxs)("div",{className:"label-wrapper",children:[(0,h.jsx)(iN,{htmlFor:w,label:i}),!p&&(0,h.jsx)(na,{buttonStyle:"none",className:"lock-button",onClick:b,children:"Generate"}),(0,h.jsx)(na,{buttonStyle:"none",className:"lock-button",onClick:x,children:p?"Unlock":"Lock"})]}),(0,h.jsx)(hh,{onChange:u,path:n||r.name,readOnly:!!(l||p),value:d})]}),t[8]=r.name,t[9]=b,t[10]=p,t[11]=i,t[12]=n,t[13]=l,t[14]=u,t[15]=w,t[16]=d,t[17]=j):j=t[17],j};function xF(e){return!e}var xB=()=>(0,h.jsx)("svg",{"aria-hidden":"true",className:"graphic code-block-icon",focusable:"false",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{className:"stroke",d:"M14 12.6667L16.6667 9.99999L14 7.33332M5.99999 7.33332L3.33333 9.99999L5.99999 12.6667M11.6667 4.66666L8.33333 15.3333",strokeLinecap:"square"})}),xz="minimize-maximize",xU=({className:e,isMinimized:t})=>{let r=[xz,t?`${xz}--minimized`:`${xz}--maximized`,e].filter(Boolean).join(" ");return(0,h.jsx)("svg",{className:r,height:"20",stroke:"currentColor",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:t?(0,h.jsx)("path",{d:"M7.33333 4H5.33333C4.97971 4 4.64057 4.14048 4.39052 4.39052C4.14048 4.64057 4 4.97971 4 5.33333V7.33333M16 7.33333V5.33333C16 4.97971 15.8595 4.64057 15.6095 4.39052C15.3594 4.14048 15.0203 4 14.6667 4H12.6667M4 12.6667V14.6667C4 15.0203 4.14048 15.3594 4.39052 15.6095C4.64057 15.8595 4.97971 16 5.33333 16H7.33333M12.6667 16H14.6667C15.0203 16 15.3594 15.8595 15.6095 15.6095C15.8595 15.3594 16 15.0203 16 14.6667V12.6667"}):(0,h.jsx)("path",{d:"M7.33333 4V6C7.33333 6.35362 7.19286 6.69276 6.94281 6.94281C6.69276 7.19286 6.35362 7.33333 6 7.33333H4M16 7.33333H14C13.6464 7.33333 13.3072 7.19286 13.0572 6.94281C12.8071 6.69276 12.6667 6.35362 12.6667 6V4M4 12.6667H6C6.35362 12.6667 6.69276 12.8071 6.94281 13.0572C7.19286 13.3072 7.33333 13.6464 7.33333 14V16M12.6667 16V14C12.6667 13.6464 12.8071 13.3072 13.0572 13.0572C13.3072 12.8071 13.6464 12.6667 14 12.6667H16"})})};function xV(){return(0,h.jsxs)("svg",{className:"icon icon--move-folder",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("g",{filter:"url(#filter0_d_278_1086)",children:(0,h.jsx)("path",{d:"M5.33334 10V7.33334C5.33334 6.97971 5.47382 6.64058 5.72387 6.39053C5.97392 6.14048 6.31305 6 6.66668 6H9.26668C9.48967 5.99782 9.70965 6.0516 9.90648 6.15642C10.1033 6.26124 10.2707 6.41375 10.3933 6.6L10.9333 7.4C11.0547 7.58436 11.22 7.73568 11.4143 7.84041C11.6087 7.94513 11.8259 7.99997 12.0467 8H17.3333C17.687 8 18.0261 8.14048 18.2762 8.39053C18.5262 8.64058 18.6667 8.97971 18.6667 9.33334V16C18.6667 16.3536 18.5262 16.6928 18.2762 16.9428C18.0261 17.1929 17.687 17.3333 17.3333 17.3333H6.66668C6.31305 17.3333 5.97392 17.1929 5.72387 16.9428C5.47382 16.6928 5.33334 16.3536 5.33334 16V15.3333M5.33334 12.6667H12M12 12.6667L10 14.6667M12 12.6667L10 10.6667",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,h.jsx)("defs",{children:(0,h.jsx)("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"26",id:"filter0_d_278_1086",width:"26",x:"-1",y:"-1",children:(0,h.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_278_1086",mode:"normal",result:"shape"})})})]})}var xH=()=>(0,h.jsxs)("svg",{className:"icon icon--grid-view",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{d:"M8 4H4.66667C4.29848 4 4 4.29848 4 4.66667V8C4 8.36819 4.29848 8.66667 4.66667 8.66667H8C8.36819 8.66667 8.66667 8.36819 8.66667 8V4.66667C8.66667 4.29848 8.36819 4 8 4Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,h.jsx)("path",{d:"M15.3333 4H12C11.6318 4 11.3333 4.29848 11.3333 4.66667V8C11.3333 8.36819 11.6318 8.66667 12 8.66667H15.3333C15.7015 8.66667 16 8.36819 16 8V4.66667C16 4.29848 15.7015 4 15.3333 4Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,h.jsx)("path",{d:"M15.3333 11.3333H12C11.6318 11.3333 11.3333 11.6318 11.3333 12V15.3333C11.3333 15.7015 11.6318 16 12 16H15.3333C15.7015 16 16 15.7015 16 15.3333V12C16 11.6318 15.7015 11.3333 15.3333 11.3333Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,h.jsx)("path",{d:"M8 11.3333H4.66667C4.29848 11.3333 4 11.6318 4 12V15.3333C4 15.7015 4.29848 16 4.66667 16H8C8.36819 16 8.66667 15.7015 8.66667 15.3333V12C8.66667 11.6318 8.36819 11.3333 8 11.3333Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]}),xq=()=>(0,h.jsx)("svg",{className:"icon icon--list-view",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{d:"M4 10H16M4 14H16M4 6H16",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})}),xK=()=>(0,h.jsxs)("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-error-500)"}),(0,h.jsx)("path",{d:"M15.4001 10.5996L10.6001 15.3996M10.6001 10.5996L15.4001 15.3996",stroke:"var(--theme-error-50)",strokeLinecap:"round",strokeLinejoin:"round"})]}),xW=()=>(0,h.jsxs)("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-elevation-500)"}),(0,h.jsx)("path",{d:"M13 16.1998V12.9998M13 9.7998H13.0077",stroke:"var(--theme-elevation-50)",strokeLinecap:"round",strokeLinejoin:"round"})]}),xG=()=>(0,h.jsxs)("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-success-500)"}),(0,h.jsx)("path",{d:"M10.6001 13.0004L12.2001 14.6004L15.4001 11.4004",stroke:"var(--theme-success-50)",strokeLinecap:"round",strokeLinejoin:"round"})]}),xY=()=>(0,h.jsxs)("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-warning-500)"}),(0,h.jsx)("path",{d:"M13 10V13.2M13 16.4H13.008",stroke:"var(--theme-warning-50)",strokeLinecap:"round",strokeLinejoin:"round"})]}),xX=c.default.createContext({addClientFunction:()=>null,removeClientFunction:()=>null}),xQ=c.default.createContext({}),xJ=e=>{let t=(0,v.c)(6),{children:r}=e,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={},t[0]=a):a=t[0];let[n,l]=c.default.useState(a),i;t[1]===Symbol.for("react.memo_cache_sentinel")?(i=e=>{l(t=>{let r={...t};return r[e.key]=e.func,r})},t[1]=i):i=t[1];let o=i,s;t[2]===Symbol.for("react.memo_cache_sentinel")?(s=e=>{l(t=>{let r={...t};return delete r[e.key],r})},t[2]=s):s=t[2];let u=s,d;return t[3]!==r||t[4]!==n?(d=(0,h.jsx)(xX,{value:{addClientFunction:o,removeClientFunction:u},children:(0,h.jsx)(xQ,{value:n,children:r})}),t[3]=r,t[4]=n,t[5]=d):d=t[5],d},xZ=(e,t)=>{let r=(0,v.c)(6),{addClientFunction:a,removeClientFunction:n}=c.default.use(xX),l,i;r[0]!==a||r[1]!==t||r[2]!==e||r[3]!==n?(l=()=>(a({func:t,key:e}),()=>{n({func:t,key:e})}),i=[t,e,a,n],r[0]=a,r[1]=t,r[2]=e,r[3]=n,r[4]=l,r[5]=i):(l=r[4],i=r[5]),c.default.useEffect(l,i)},x0=()=>c.default.use(xQ),x1=e=>e?.startsWith("http://")||e?.startsWith("https://")?e:(e=>{try{return new URL(e,window.location.origin).href}catch{return e}})(e),x3=({collisionRect:e,droppableContainers:t,...r})=>{let a=t.find(({id:e})=>"live-preview-area"===e),n=ey({...r,collisionRect:e,droppableContainers:[a]});if(0===n.length)return n;let l=a?.rect?.current;if(e.top>=l.top&&e.left>=l.left&&e.bottom<=l.bottom&&e.right<=l.right)return n},x2=(e,t)=>{switch(t.type){case"height":return{...e,height:t.value};case"width":return{...e,width:t.value};default:return{...e,...t?.value||{}}}},x6=({breakpoints:e,children:t,isLivePreviewEnabled:r,isLivePreviewing:a,typeofLivePreviewURL:n,url:l})=>{let[i,o]=(0,c.useState)("iframe"),[s,u]=(0,c.useState)(a),f=(0,c.useMemo)(()=>[...e||[],{name:"responsive",height:"100%",label:"Responsive",width:"100%"}],[e]),[p,m]=(0,c.useState)(""),{isPopupOpen:g,openPopupWindow:b,popupRef:y}=(e=>{let t,r,a=(0,v.c)(15),{eventType:n,onMessage:l,url:i}=e,o=(0,c.useRef)(!1),[s,u]=(0,c.useState)(!1),{config:f}=(0,d.b)(),{serverURL:p}=f,h=(0,c.useRef)(null),m,g;a[0]!==n||a[1]!==s||a[2]!==l||a[3]!==p||a[4]!==i?(m=()=>{let e=async e=>{e.origin!==window.location.origin||e.origin!==i||e.origin!==p||"function"!=typeof l||e.data?.type!==n||o.current||(o.current=!0,await l(e.data?.searchParams),o.current=!1)};return s&&h.current&&window.addEventListener("message",e,!1),()=>{window.removeEventListener("message",e)}},g=[l,n,i,p,s],a[0]=n,a[1]=s,a[2]=l,a[3]=p,a[4]=i,a[5]=m,a[6]=g):(m=a[5],g=a[6]),(0,c.useEffect)(m,g),a[7]!==i?(t=e=>{e&&e.preventDefault();let t={height:700,left:"auto",menubar:"no",popup:"yes",toolbar:"no",top:"auto",width:800},r=Object.entries(t).reduce((e,r)=>{let[a,n]=r,l=e;if("auto"===n){if("top"===a){let e=Math.round(window.innerHeight/2-t.height/2);l+=`top=${e},`}else if("left"===a){let e=Math.round(window.innerWidth/2-t.width/2);l+=`left=${e},`}return l}return l+`${a}=${n},`},"").slice(0,-1);h.current=window.open(i,"_blank",r),u(!0)},a[7]=i,a[8]=t):t=a[8];let b=t,y,x;return a[9]!==s?(y=()=>{let e;return s?e=setInterval(function(){h.current.closed&&(clearInterval(e),u(!1))},1e3):clearInterval(e),()=>{e&&clearInterval(e)}},x=[s,h],a[9]=s,a[10]=y,a[11]=x):(y=a[10],x=a[11]),(0,c.useEffect)(y,x),a[12]!==s||a[13]!==b?(r={isPopupOpen:s,openPopupWindow:b,popupRef:h},a[12]=s,a[13]=b,a[14]=r):r=a[14],r})({eventType:"payload-live-preview",url:p}),[x,w]=(0,c.useState)(!1),[j,C]=(0,c.useState)(!1),{collectionSlug:S,globalSlug:$}=o$(),_=(0,c.useRef)(!0),{setPreference:k}=ix(),E=c.default.useRef(null),[N,P]=(0,c.useState)(),[D,T]=(0,c.useState)(1),[O,R]=(0,c.useState)({x:0,y:0}),[A,I]=c.default.useReducer(x2,{height:0,width:0}),[M,L]=(0,c.useState)({height:0,width:0}),[F,B]=c.default.useState("responsive"),z=(0,c.useCallback)(e=>{let t;"string"==typeof e&&(t=x1(e)),t||u(!1),t!==p&&(w(!1),m(t))},[p]);(0,c.useEffect)(()=>{"string"==typeof l&&m(x1(l))},[l]);let U=(0,c.useCallback)(e=>{I({type:"width",value:e})},[I]),V=(0,c.useCallback)(e=>{I({type:"height",value:e})},[I]);(0,c.useEffect)(()=>{let e=f?.find(e=>e.name===F);e&&"responsive"!==F&&"custom"!==F&&"number"==typeof e?.width&&"number"==typeof e?.height&&I({type:"reset",value:{height:e.height,width:e.width}})},[F,f]),(0,c.useEffect)(()=>{let e=e=>{p?.startsWith(e.origin)&&e.data&&"object"==typeof e.data&&"payload-live-preview"===e.data.type&&e.data.ready&&w(!0)};return window.addEventListener("message",e),C(!0),()=>{window.removeEventListener("message",e)}},[p,j]);let H=(0,c.useCallback)(e=>{w(!1),o(e),"popup"===e&&b()},[b]);return(0,c.useEffect)(()=>{(g?"popup":"iframe")!==i&&H("iframe")},[i,g,H]),(0,c.useEffect)(()=>{if(_.current){_.current=!1;return}k(S?`collection-${S}`:`global-${$}`,{editViewType:s?"live-preview":"default"},!0)},[s,k,S,$]),(0,h.jsx)(b9,{value:{appIsReady:x,breakpoint:F,breakpoints:f,iframeRef:E,isLivePreviewEnabled:r,isLivePreviewing:s,isPopupOpen:g,listeningForMessages:j,loadedURL:N,measuredDeviceSize:M,openPopupWindow:b,popupRef:y,previewWindowType:i,setAppIsReady:w,setBreakpoint:B,setHeight:V,setIsLivePreviewing:u,setLoadedURL:P,setMeasuredDeviceSize:L,setPreviewWindowType:H,setSize:I,setToolbarPosition:R,setURL:z,setWidth:U,setZoom:T,size:A,toolbarPosition:O,typeofLivePreviewURL:n,url:p,zoom:D},children:(0,h.jsx)(tf,{collisionDetection:x3,onDragEnd:e=>{e.over&&"live-preview-area"===e.over.id&&R({x:O.x+e.delta.x,y:O.y+e.delta.y})},children:t})})},x5="progress-bar",x4=()=>{let e=(0,v.c)(9),{isTransitioning:t,transitionProgress:r}=aR(),[a,n]=c.default.useState(null),l=(0,c.useRef)(!0),i,o;if(e[0]!==t||e[1]!==r?(i=()=>{let e,a;return t?l.current?a=setTimeout(()=>{n(r),l.current=!1},150):n(r):(l.current=!0,n(1),e=setTimeout(()=>{n(null)},400)),()=>{clearTimeout(e),clearTimeout(a)}},o=[t,r],e[0]=t,e[1]=r,e[2]=i,e[3]=o):(i=e[2],o=e[3]),(0,c.useEffect)(i,o),"number"==typeof a){let t=1===a&&`${x5}--fade-out`,r;e[4]!==t?(r=[x5,t].filter(Boolean),e[4]=t,e[5]=r):r=e[5];let n=r.join(" "),l;return e[6]!==a||e[7]!==n?(l=(0,h.jsx)("div",{className:n,style:{"--transition-duration":"200ms"},children:(0,h.jsx)("div",{className:`${x5}__progress`,style:{width:`${100*(a||0)}%`}})}),e[6]=a,e[7]=n,e[8]=l):l=e[8],l}return null},x8=(0,c.createContext)({}),x9=e=>{let t=(0,v.c)(6),{children:r,visibleEntities:a}=e,n;t[0]!==a?(n=e=>{let{collectionSlug:t,globalSlug:r}=e;return t?a.collections.includes(t):!!r&&a.globals.includes(r)},t[0]=a,t[1]=n):n=t[1];let l=n,i;return t[2]!==r||t[3]!==l||t[4]!==a?(i=(0,h.jsx)(x8,{value:{isEntityVisible:l,visibleEntities:a},children:r}),t[2]=r,t[3]=l,t[4]=a,t[5]=i):i=t[5],i},x7=()=>(0,c.use)(x8),we=(0,c.createContext)({}),wt=e=>{let t=(0,v.c)(3),{children:r}=e,a=(0,b.useParams)(),n;return t[0]!==r||t[1]!==a?(n=(0,h.jsx)(we,{value:a,children:r}),t[0]=r,t[1]=a,t[2]=n):n=t[2],n},wr=()=>(0,c.use)(we),wa=(0,c.createContext)({}),wn=()=>(0,c.useContext)(wa),wl=(e,t)=>{let{timestamp:r,animationRef:a}=t;a.current=null;let{x:n,y:l,xDirection:i,yDirection:o,eventsFired:s,hasScrolled:c}=e,u=c||!!r,d=u?window.pageXOffset:0,f=u?window.pageYOffset:0,p=d-n,h=f-l,m=d/(document.body.scrollWidth-window.innerWidth)*100,g=f/(document.body.scrollHeight-window.innerHeight)*100;return{x:d,y:f,xDifference:p,yDifference:h,xDirection:p>0?"right":p<0?"left":i,yDirection:h>0?"down":h<0?"up":o,xPercentage:m,yPercentage:g,totalPercentage:(m+g)/2,eventsFired:u?s+1:s,hasScrolled:u}},wi=e=>{let{children:t}=e,r=(0,c.useRef)(null),[a,n]=(0,c.useReducer)(wl,{x:0,y:0,xDifference:0,yDifference:0,xDirection:void 0,yDirection:void 0,xPercentage:0,yPercentage:0,totalPercentage:0,eventsFired:0,hasScrolled:!1}),l=(0,c.useCallback)(e=>{r.current&&cancelAnimationFrame(r.current),r.current=requestAnimationFrame(t=>{n({e:e,timestamp:t,animationRef:r})})},[]);return(0,c.useEffect)(()=>(window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l)}),[l]),c.default.createElement(wa.Provider,{value:Object.assign({},a)},t&&t)},{WindowInfoProvider:wo}=aJ&&"WindowInfoProvider"in aJ?aJ:{WindowInfoProvider:void 0},{useWindowInfo:ws}=aJ&&"useWindowInfo"in aJ?aJ:{useWindowInfo:void 0},wc=(0,c.createContext)({searchParams:{},stringifyParams:()=>""}),wu=({children:e})=>{let t=(0,b.useSearchParams)().toString(),r=c.default.useMemo(()=>ro(t,{depth:10,ignoreQueryPrefix:!0}),[t]),a=c.default.useCallback(({params:e,replace:t=!1})=>tZ({...t?{}:r,...e},{addQueryPrefix:!0}),[r]);return(0,h.jsx)(wc,{value:{searchParams:r,stringifyParams:a},children:e})},wd=()=>(0,c.use)(wc),wf=({config:e})=>{let{admin:{toast:{duration:t,expand:r,limit:a}={}}={}}=e;return(0,h.jsx)(aD,{className:"payload-toast-container",closeButton:!0,dir:"undefined",duration:t??4e3,expand:r??!1,gap:8,icons:{error:(0,h.jsx)(xK,{}),info:(0,h.jsx)(xW,{}),success:(0,h.jsx)(xG,{}),warning:(0,h.jsx)(xY,{})},offset:"calc(var(--gutter-h) / 2)",toastOptions:{classNames:{closeButton:"payload-toast-close-button",content:"toast-content",error:"toast-error",icon:"toast-icon",info:"toast-info",success:"toast-success",title:"toast-title",toast:"payload-toast-item",warning:"toast-warning"},unstyled:!0},visibleToasts:a??5})},wp=e=>{let t=(0,v.c)(16),{children:r,config:a,dateFNSKey:n,fallbackLang:l,isNavOpen:i,languageCode:s,languageOptions:u,locale:p,permissions:m,serverFunction:g,switchLanguageServerAction:b,theme:y,translations:x,user:w}=e,j=c.default.useId(),C;return t[0]!==r||t[1]!==a||t[2]!==n||t[3]!==j||t[4]!==l||t[5]!==i||t[6]!==s||t[7]!==u||t[8]!==p||t[9]!==m||t[10]!==g||t[11]!==b||t[12]!==y||t[13]!==x||t[14]!==w?(C=(0,h.jsxs)(vM,{children:[(0,h.jsx)(fc,{serverFunction:g,children:(0,h.jsx)(aT,{children:(0,h.jsx)(h9,{cachingEnabled:"true"===o.default.env.NEXT_PUBLIC_ENABLE_ROUTER_CACHE_REFRESH,children:(0,h.jsx)(d.a,{config:a,children:(0,h.jsx)(xJ,{children:(0,h.jsx)(f.c,{dateFNSKey:n,fallbackLang:l,language:s,languageOptions:u,switchLanguageServerAction:b,translations:x,children:(0,h.jsx)(wo,{breakpoints:{l:"(max-width: 1440px)",m:"(max-width: 1024px)",s:"(max-width: 768px)",xs:"(max-width: 400px)"},children:(0,h.jsx)(wi,{children:(0,h.jsx)(wu,{children:(0,h.jsx)(l5,{classPrefix:"payload",transTime:0,zIndex:"var(--z-modal)",children:(0,h.jsxs)(im,{permissions:m,user:w,children:[(0,h.jsx)(iy,{children:(0,h.jsx)(d.h,{theme:y,children:(0,h.jsx)(wt,{children:(0,h.jsx)(iS,{locale:p,children:(0,h.jsx)(bB,{children:(0,h.jsx)(fw,{children:(0,h.jsx)(hQ,{children:(0,h.jsx)(bR,{initialIsOpen:i,children:(0,h.jsx)(p6,{children:(0,h.jsx)(tf,{collisionDetection:ex,id:j,children:r})})})})})})})})})}),(0,h.jsx)(lx,{}),(0,h.jsx)(iu,{})]})})})})})})})})})})}),(0,h.jsx)(wf,{config:a})]}),t[0]=r,t[1]=a,t[2]=n,t[3]=j,t[4]=l,t[5]=i,t[6]=s,t[7]=u,t[8]=p,t[9]=m,t[10]=g,t[11]=b,t[12]=y,t[13]=x,t[14]=w,t[15]=C):C=t[15],C};function wh(e){let{className:t,loginWithUsername:r,operation:a,permissions:n,readOnly:l,t:i}=e;function o(e,t){return t3({field:{name:e,type:"text"},operation:"create"===a?"create":t,parentName:"",permissions:n}).operation}let s="object"==typeof n&&"email"in n&&n.email,c="object"==typeof n&&"username"in n&&n.username,u=s?{read:o("email","read"),update:o("email","update")}:{read:!0,update:!0},d=c?{read:o("username","read"),update:o("username","update")}:{read:!0,update:!0},f=(!r||r?.requireEmail||r?.allowEmailLogin)&&u.read,p=!!r&&d.read;if(f||p)return(0,h.jsxs)("div",{className:["login-fields",t&&t].filter(Boolean).join(" "),children:[f?(0,h.jsx)(oD,{value:"email",children:(0,h.jsx)(dQ,{field:{name:"email",admin:{autoComplete:"off"},label:i("general:email"),required:!r||r&&r.requireEmail},path:"email",readOnly:l||!u.update,schemaPath:"email",validate:rN})}):null,p&&(0,h.jsx)(oD,{value:"username",children:(0,h.jsx)(hb,{field:{name:"username",admin:{autoComplete:"off"},label:i("authentication:username"),required:r&&r.requireUsername},path:"username",readOnly:l||!d.update,schemaPath:"username",validate:rP})})]})}var wm="select-all",wg=()=>{let e=(0,v.c)(7),{selectAll:t,toggleAll:r}=b3(),{i18n:a}=(0,f.d)(),n;if(e[0]!==a||e[1]!==t||e[2]!==r){let l,i;e[4]===Symbol.for("react.memo_cache_sentinel")?(l=[wm,`${wm}__checkbox`],e[4]=l):l=e[4],e[5]!==r?(i=()=>r(),e[5]=r,e[6]=i):i=e[6],n=(0,h.jsx)(oH,{"aria-label":t===bJ.None?a.t("general:selectAllRows"):a.t("general:deselectAllRows"),checked:t===bJ.AllInPage||t===bJ.AllAvailable,className:l.join(" "),id:"select-all",name:"select-all",onToggle:i,partialChecked:t===bJ.Some}),e[0]=a,e[1]=t,e[2]=r,e[3]=n}else n=e[3];return n},wb="select-row",wv=e=>{let t,r,a,n=(0,v.c)(13),{rowData:l}=e,{user:i}=ig(),{selected:o,setSelection:s}=b3(),c;if(n[0]!==l||n[1]!==i?.id){c=Symbol.for("react.early_return_sentinel");e:{let{_isLocked:e,_userEditing:t}=l||{};if(e&&t&&t.id!==i?.id){c=(0,h.jsx)(vc,{user:t});break e}}n[0]=l,n[1]=i?.id,n[2]=c}else c=n[2];if(c!==Symbol.for("react.early_return_sentinel"))return c;n[3]!==l.id||n[4]!==o?(t=o.get(l.id),n[3]=l.id,n[4]=o,n[5]=t):t=n[5];let u=!!t,d;return n[6]===Symbol.for("react.memo_cache_sentinel")?(d=[wb,`${wb}__checkbox`],n[6]=d):d=n[6],n[7]!==l.id||n[8]!==s?(r=()=>s(l.id),n[7]=l.id,n[8]=s,n[9]=r):r=n[9],n[10]!==u||n[11]!==r?(a=(0,h.jsx)(oH,{checked:u,className:d.join(" "),onToggle:r}),n[10]=u,n[11]=r,n[12]=a):a=n[12],a},wy=e=>{let{onClick:t}=e,{count:r,selected:a}=b3();return a&&r?(0,h.jsx)(o9,{onClick:()=>{"function"==typeof t&&t(a)},pillStyle:"white",size:"small",children:`Select ${r}`}):null},wx=({children:e})=>(0,h.jsx)("div",{className:"sticky-toolbar",children:e}),ww="collection-list";function wj(e){let{AfterList:t,AfterListTable:r,beforeActions:a,BeforeList:n,BeforeListTable:l,collectionSlug:i,columnState:o,Description:s,disableBulkDelete:u,disableBulkEdit:p,disableQueryPresets:g,enableRowSelections:v,hasCreatePermission:y,hasDeletePermission:x,listMenuItems:w,newDocumentURL:j,queryPreset:C,queryPresetPermissions:S,renderedFilters:$,resolvedFilterOptions:_,Table:k,viewType:E}=e,[N]=iO(k),{allowCreate:P,createNewDrawerSlug:D,isInDrawer:T,onBulkSelect:O}=fe(),R=void 0!==P?P&&y:y,{config:{routes:{admin:A}},getEntityConfig:I}=(0,d.b)(),M=(0,b.useRouter)(),{data:L,isGroupingBy:F}=fa(),{openModal:B}=le(),{drawerSlug:z,setCollectionSlug:U,setOnSuccess:V}=gv(),H=I({collectionSlug:i}),{labels:q,upload:K}=H,W=!!K,G=W&&H.upload.bulkUpload,Y=!!H.trash,{i18n:X}=(0,f.d)(),{setStepNav:Q}=bL(),{breakpoints:{s:J}}=ws(),Z=c.default.useMemo(()=>W?L.docs.map(e=>({...e,filesize:rj(e.filesize)})):L?.docs,[L?.docs,W]),ee=c.default.useCallback(()=>{U(i),B(z),V(()=>M.refresh())},[M,i,z,B,U,V]);return(0,c.useEffect)(()=>{if(!T){let e={label:m(q?.plural,X),url:Y&&"trash"===E?tE({adminRoute:A,path:`/collections/${i}`}):void 0},t={label:X.t("general:trash")};Q(Y&&"trash"===E?[e,t]:[e])}},[A,Q,q,T,Y,E,X,i]),(0,h.jsxs)(c.Fragment,{children:[(0,h.jsx)(ff,{collectionSlug:i,columnState:o,children:(0,h.jsx)("div",{className:`${ww} ${ww}--${i}`,children:(0,h.jsxs)(b1,{docs:Z,totalDocs:L?.totalDocs,children:[n,(0,h.jsxs)(l8,{className:`${ww}__wrap`,children:[(0,h.jsx)(y2,{collectionConfig:H,Description:(0,h.jsx)("div",{className:`${ww}__sub-header`,children:(0,h.jsx)(rY,{CustomComponent:s,Fallback:(0,h.jsx)(bh,{collectionSlug:i,description:H?.admin?.description})})}),disableBulkDelete:u,disableBulkEdit:p,hasCreatePermission:R,hasDeletePermission:x,i18n:X,isBulkUploadEnabled:G&&!K.hideFileInputOnCreate,isTrashEnabled:Y,newDocumentURL:j,openBulkUpload:ee,smallBreak:J,viewType:E}),(0,h.jsx)(yR,{beforeActions:v&&"function"==typeof O?a?[...a,(0,h.jsx)(wy,{onClick:O},"select-many")]:[(0,h.jsx)(wy,{onClick:O},"select-many")]:a,collectionConfig:H,collectionSlug:i,disableQueryPresets:H?.enableQueryPresets!==!0||g,listMenuItems:w,queryPreset:C,queryPresetPermissions:S,renderedFilters:$,resolvedFilterOptions:_}),l,Z?.length>0&&(0,h.jsx)("div",{className:`${ww}__tables`,children:(0,h.jsx)(fB,{children:N})}),Z?.length===0&&(0,h.jsxs)("div",{className:`${ww}__no-results`,children:[(0,h.jsx)("p",{children:X.t("trash"===E?"general:noTrashResults":"general:noResults",{label:m(q?.plural,X)})}),R&&j&&"trash"!==E&&(0,h.jsx)(c.Fragment,{children:T?(0,h.jsx)(na,{el:"button",onClick:()=>B(D),children:X.t("general:createNewLabel",{label:m(q?.singular,X)})}):(0,h.jsx)(na,{el:"link",to:j,children:X.t("general:createNewLabel",{label:m(q?.singular,X)})})})]}),r,Z?.length>0&&!F&&(0,h.jsx)(xt,{AfterPageControls:J?(0,h.jsxs)("div",{className:`${ww}__list-selection`,children:[(0,h.jsx)(yH,{collectionConfig:H,disableBulkDelete:u,disableBulkEdit:p,label:m(H.labels.plural,X),showSelectAllAcrossPages:!F}),(0,h.jsx)("div",{className:`${ww}__list-selection-actions`,children:v&&"function"==typeof O?a?[...a,(0,h.jsx)(wy,{onClick:O},"select-many")]:[(0,h.jsx)(wy,{onClick:O},"select-many")]:a})]}):null,collectionConfig:H})]}),t]})})}),Z?.length>0&&F&&L.totalPages>1&&(0,h.jsx)(wx,{children:(0,h.jsx)(xt,{collectionConfig:H})})]})}var wC="move-to-folder--current-folder",wS="confirm-many-delete";function w$({className:e}){let t=(0,b.useRouter)(),{startRouteTransition:r}=aR(),{breadcrumbs:a,currentFolder:n,folderCollectionConfig:l,folderCollectionSlug:i,folderFieldName:o,folderID:s,getFolderRoute:u,moveToFolder:p}=h4(),[g,,{closeDrawer:v,openDrawer:y}]=fI({id:s,collectionSlug:i}),{clearRouteCache:x}=h7(),{config:w}=(0,d.b)(),{routes:j,serverURL:C}=w,{closeModal:S,openModal:$}=le(),{i18n:_,t:k}=(0,f.d)(),E=c.default.useCallback(async()=>{await fetch(`${C}${j.api}/${i}/${s}?depth=0`,{credentials:"include",method:"DELETE"}),r(()=>{t.push(u(a[a.length-2]?.id||null))})},[a,i,s,u,t,C,j.api,r]);return s?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(a7,{button:(0,h.jsx)(vJ,{}),className:["current-folder-actions",e].filter(Boolean).join(" "),render:()=>(0,h.jsxs)(aK.ButtonGroup,{children:[(0,h.jsx)(aK.Button,{onClick:()=>{y()},children:k("general:editLabel",{label:m(l.labels.singular,_)})}),(0,h.jsx)(aK.Button,{onClick:()=>{$(wC)},children:k("folder:moveFolder")}),(0,h.jsx)(aK.Button,{onClick:()=>{$(wS)},children:k("folder:deleteFolder")})]})}),(0,h.jsx)(mg,{action:"moveItemToFolder",drawerSlug:wC,folderAssignedCollections:n?.value.folderType,folderCollectionSlug:i,folderFieldName:o,fromFolderID:n?.value.id,fromFolderName:n?.value._folderOrDocumentTitle,itemsToMove:[n],onConfirm:async({id:e,name:t})=>{await p({itemsToMove:[n],toFolderID:e}),e?a_.success(k("folder:itemHasBeenMoved",{folderName:`"${t}"`,title:n.value._folderOrDocumentTitle})):a_.success(k("folder:itemHasBeenMovedToRoot",{title:n.value._folderOrDocumentTitle})),S(wC)},title:n.value._folderOrDocumentTitle}),(0,h.jsx)(is,{body:(0,h.jsx)(mc,{elements:{1:({children:e})=>(0,h.jsx)("strong",{children:e})},i18nKey:"general:aboutToDelete",t:k,variables:{label:m(l.labels.singular,_),title:n.value._folderOrDocumentTitle}}),confirmingLabel:k("general:deleting"),heading:k("general:confirmDeletion"),modalSlug:wS,onConfirm:E}),(0,h.jsx)(g,{onSave:()=>{v(),x()}})]}):null}var w_="drag-overlay-selection";function wk({item:e,selectedCount:t}){return(0,h.jsx)(tk,{dropAnimation:null,modifiers:[wE],style:{height:"unset",maxWidth:"220px"},children:(0,h.jsxs)("div",{className:`${w_}__cards`,children:[Array.from({length:t>1?2:1}).map((t,r)=>(0,h.jsx)("div",{className:`${w_}__card`,style:{right:`${3*r}px`,top:`-${3*r}px`},children:(0,h.jsx)(xk,{id:null,isSelected:!0,itemKey:"overlay-card",title:e.value._folderOrDocumentTitle,type:"folder"})},r)),t>1?(0,h.jsx)("span",{className:`${w_}__card-count`,children:t}):null]})})}var wE=({activatorEvent:e,draggingNodeRect:t,transform:r})=>{if(t&&e){let a=function(e){if(function(e){if(!e)return!1;let{TouchEvent:t}=nh(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return"clientX"in e&&"clientY"in e?{x:e.clientX,y:e.clientY}:null}(e);if(!a)return r;let n=a.x-t.left,l=a.y-t.top;return{...r,x:r.x+n+5,y:r.y+l+5}}return r},wN="sort-by-pill",wP=[{label:e=>e("general:name"),value:"name"},{label:e=>e("general:createdAt"),value:"createdAt"},{label:e=>e("general:updatedAt"),value:"updatedAt"}],wD=[{label:e=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(g1,{}),e("general:ascending")]}),value:"asc"},{label:e=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(g0,{}),e("general:descending")]}),value:"desc"}];function wT(){let{refineFolderData:e,sort:t}=h4(),{t:r}=(0,f.d)(),a=t.startsWith("-")?"desc":"asc",[n]=wP.filter(({value:e})=>e===(t.startsWith("-")?t.slice(1):t))||wP,[l]=wD.filter(({value:e})=>e===a);return(0,h.jsx)(a7,{button:(0,h.jsxs)(o9,{className:`${wN}__trigger`,icon:(0,h.jsx)(az,{}),size:"small",children:["asc"===a?(0,h.jsx)(g1,{className:`${wN}__sort-icon`}):(0,h.jsx)(g0,{className:`${wN}__sort-icon`}),n?.label(r)]}),className:wN,horizontalAlign:"right",render:({close:t})=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(aK.GroupLabel,{label:"Sort by"}),(0,h.jsx)(aK.ButtonGroup,{children:wP.map(({label:l,value:i})=>(0,h.jsx)(aK.Button,{active:n?.value===i,onClick:()=>{e({query:{page:"1",sort:"desc"===a?`-${i}`:i},updateURL:!0}),t()},children:l(r)},i))}),(0,h.jsx)(aK.Divider,{}),(0,h.jsx)(aK.GroupLabel,{label:"Order"}),(0,h.jsx)(aK.ButtonGroup,{children:wD.map(({label:i,value:o})=>(0,h.jsx)(aK.Button,{active:l?.value===o,className:`${wN}__order-option`,onClick:()=>{a!==o&&(e({query:{page:"1",sort:"desc"===o?`-${n?.value}`:n?.value},updateURL:!0}),t())},children:i(r)},o))})]}),showScrollbar:!0,verticalAlign:"bottom"})}var wO="folder-view-toggle-button";function wR({activeView:e,setActiveView:t}){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(na,{buttonStyle:"pill",className:[wO,"grid"===e&&`${wO}--active`].filter(Boolean).join(" "),icon:(0,h.jsx)(xH,{}),margin:!1,onClick:()=>{t("grid")}}),(0,h.jsx)(na,{buttonStyle:"pill",className:[wO,"list"===e&&`${wO}--active`].filter(Boolean).join(" "),icon:(0,h.jsx)(xq,{}),margin:!1,onClick:()=>{t("list")}})]})}var wA=({id:e,folderCollectionSlug:t})=>{let{clearRouteCache:r}=h7(),{t:a}=(0,f.d)(),[n,,{closeDrawer:l,openDrawer:i}]=fI({id:e,collectionSlug:t});return e?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(b5,{onClick:i,type:"button",children:a("general:edit")}),(0,h.jsx)(n,{onSave:()=>{l(),r()}})]}):null},wI="move-to-folder--list",wM=e=>{let t=(0,v.c)(17),{disableBulkDelete:r,disableBulkEdit:a,folderAssignedCollections:n}=e,{clearSelections:l,currentFolder:i,folderCollectionSlug:o,folderFieldName:s,folderID:u,getSelectedItems:p,moveToFolder:m}=h4(),{clearRouteCache:g}=h7(),{config:b}=(0,d.b)(),{t:y}=(0,f.d)(),{closeModal:x,openModal:w}=le(),j,C;if(t[0]!==g||t[1]!==l||t[2]!==x||t[3]!==b||t[4]!==i?.value?._folderOrDocumentTitle||t[5]!==r||t[6]!==a||t[7]!==n||t[8]!==o||t[9]!==s||t[10]!==u||t[11]!==p||t[12]!==m||t[13]!==w||t[14]!==y){C=Symbol.for("react.early_return_sentinel");e:{let e=p(),t=e.reduce(wL,{}),d=e.length,f=1===Object.keys(t).length&&Object.keys(t)[0]!==o,v=f?b.collections.find(e=>e.slug===Object.keys(t)[0]):null;if(0===d){C=null;break e}let S=f&&t[Object.keys(t)[0]]?.ids||[];j=(0,h.jsx)(b6,{count:d,ListActions:[d>0&&(0,h.jsx)(b5,{onClick:()=>l(),children:y("general:clearAll")},"clear-all")].filter(Boolean),SelectionActions:[!a&&S.length&&(0,h.jsxs)(c.Fragment,{children:[(0,h.jsx)(vK,{collection:v,count:d,ids:S,selectAll:!1}),(0,h.jsx)(yM,{collection:v,count:d,ids:S,selectAll:!1}),(0,h.jsx)(yV,{collection:v,count:d,ids:S,selectAll:!1})]},"bulk-actions"),1===d&&!f&&(0,h.jsx)(wA,{folderCollectionSlug:o,id:t[o].ids[0]},"edit-folder-action"),d>0?(0,h.jsxs)(c.default.Fragment,{children:[(0,h.jsx)(b5,{onClick:()=>{w(wI)},type:"button",children:y("general:move")}),(0,h.jsx)(mg,{action:"moveItemsToFolder",drawerSlug:wI,folderAssignedCollections:n,folderCollectionSlug:o,folderFieldName:s,fromFolderID:u,fromFolderName:i?.value?._folderOrDocumentTitle,itemsToMove:p(),onConfirm:async e=>{let{id:t,name:r}=e;await m({itemsToMove:p(),toFolderID:t}),t?a_.success(y("folder:itemsMovedToFolder",{folderName:`"${r}"`,title:`${d} ${d>1?y("general:items"):y("general:item")}`})):a_.success(y("folder:itemsMovedToRoot",{title:`${d} ${d>1?y("general:items"):y("general:item")}`})),g(),x(wI)}})]},wI):null,!r&&(0,h.jsx)(b8,{afterDelete:()=>{g(),l()},selections:t},"bulk-delete")].filter(Boolean)})}t[0]=g,t[1]=l,t[2]=x,t[3]=b,t[4]=i?.value?._folderOrDocumentTitle,t[5]=r,t[6]=a,t[7]=n,t[8]=o,t[9]=s,t[10]=u,t[11]=p,t[12]=m,t[13]=w,t[14]=y,t[15]=j,t[16]=C}else j=t[15],C=t[16];return C!==Symbol.for("react.early_return_sentinel")?C:j};function wL(e,t){return t&&(e[t.relationTo]?(e[t.relationTo].ids.push(rw(t.value)),e[t.relationTo].totalCount=e[t.relationTo].totalCount+1):e[t.relationTo]={ids:[rw(t.value)],totalCount:1}),e}var wF="collection-folder-list";function wB({allCollectionFolderSlugs:e,allowCreateCollectionSlugs:t,baseFolderPath:r,breadcrumbs:a,documents:n,folderFieldName:l,folderID:i,FolderResultsComponent:o,search:s,sort:c,subfolders:u,...d}){return(0,h.jsx)(h5,{allCollectionFolderSlugs:e,allowCreateCollectionSlugs:t,baseFolderPath:r,breadcrumbs:a,documents:n,folderFieldName:l,folderID:i,FolderResultsComponent:o,search:s,sort:c,subfolders:u,children:(0,h.jsx)(wz,{...d})})}function wz(e){let t=(0,v.c)(6),{AfterFolderList:r,AfterFolderListTable:a,BeforeFolderList:n,BeforeFolderListTable:l,collectionSlug:i,Description:o,disableBulkDelete:s,disableBulkEdit:u,search:p,viewPreference:g}=e,{config:y,getEntityConfig:x}=(0,d.b)(),{i18n:w,t:j}=(0,f.d)(),C=nq(),{setStepNav:S}=bL(),{setPreference:$}=ix(),{allowCreateCollectionSlugs:_,breadcrumbs:k,documents:E,dragOverlayItem:N,folderCollectionConfig:P,folderCollectionSlug:D,FolderResultsComponent:T,folderType:O,getSelectedItems:R,moveToFolder:A,refineFolderData:I,selectedItemKeys:M,setIsDragging:L,subfolders:F}=h4(),B=(0,b.useRouter)(),{startRouteTransition:z}=aR(),{clearRouteCache:U}=h7(),V=x({collectionSlug:i}),{labels:H,upload:q}=V,K=!!q&&V.upload.bulkUpload,{breakpoints:W}=ws(),{s:G}=W,Y;t[0]!==U||t[1]!==R||t[2]!==A?(Y=async e=>{if(e.over&&"folder"===e.over.data.current.type&&"id"in e.over.data.current){try{await A({itemsToMove:R(),toFolderID:e.over.data.current.id})}catch(e){console.error("Error moving items:",e)}U()}},t[0]=U,t[1]=R,t[2]=A,t[3]=Y):Y=t[3];let X=Y,Q=async e=>{await $(`${i}-collection-folder`,{viewPreference:e}),U()};c.default.useEffect(()=>{C||S([k.length?{label:(0,h.jsxs)(mf,{className:[`${wF}__step-nav-droppable`,`${wF}__step-nav-icon-label`].filter(Boolean).join(" "),id:null,onClick:()=>{z(()=>{y.folders&&B.push(tE({adminRoute:y.routes.admin,path:`/collections/${i}/${y.folders.slug}`}))})},children:[(0,h.jsx)(mp,{}),m(H?.plural,w)]},"root")}:{label:(0,h.jsxs)("div",{className:`${wF}__step-nav-icon-label`,children:[(0,h.jsx)(mp,{}),m(H?.plural,w)]},"root")},...k.map((e,t)=>({label:t===k.length-1?e.name:(0,h.jsx)(mf,{className:`${wF}__step-nav-droppable`,id:e.id,onClick:()=>{z(()=>{y.folders&&B.push(tE({adminRoute:y.routes.admin,path:`/collections/${i}/${y.folders.slug}/${e.id}`}))})},children:e.name},e.id)}))])},[k,i,y.folders,y.routes.admin,C,w,H?.plural,B,S,z]);let J=E.length+F.length,Z;return t[4]!==I?(Z=e=>I({query:{search:e},updateURL:!0}),t[4]=I,t[5]=Z):Z=t[5],(0,h.jsxs)(c.Fragment,{children:[(0,h.jsx)(wU,{onDragEnd:X,setIsDragging:L}),(0,h.jsxs)("div",{className:`${wF} ${wF}--${i}`,children:[n,(0,h.jsxs)(l8,{className:`${wF}__wrap`,children:[(0,h.jsx)(yY,{Actions:[!G&&(0,h.jsx)(wM,{disableBulkDelete:s,disableBulkEdit:V.disableBulkEdit??u,folderAssignedCollections:Array.isArray(O)?O:[i]},"list-selection"),(0,h.jsx)(yW,{collectionConfig:V,config:y,viewType:"folders"},"default-list-actions")].filter(Boolean),AfterListHeaderContent:o,title:m(H?.plural,w),TitleActions:[_.length&&(0,h.jsx)(ml,{buttonLabel:_.length>1?j("general:createNew"):`${j("general:create")} ${m(P.labels?.singular,w).toLowerCase()}`,collectionSlugs:_,folderAssignedCollections:Array.isArray(O)?O:[i],onCreateSuccess:U,slugPrefix:"create-document--header-pill"},"create-new-button"),(0,h.jsx)(yJ,{collectionSlug:i,hasCreatePermission:_.includes(i),isBulkUploadEnabled:K},"bulk-upload-button")].filter(Boolean)}),(0,h.jsx)(yh,{Actions:[(0,h.jsx)(wT,{},"sort-by-pill"),(0,h.jsx)(wR,{activeView:g,setActiveView:Q},"toggle-view-buttons"),(0,h.jsx)(w$,{},"current-folder-actions")].filter(Boolean),label:j("general:searchBy",{label:j("general:name")}),onSearchChange:Z,searchQueryParam:p}),l,J>0&&T,0===J&&(0,h.jsx)(mo,{Actions:[_.includes(D)&&(0,h.jsx)(ml,{buttonLabel:`${j("general:create")} ${m(P.labels?.singular,w).toLowerCase()}`,collectionSlugs:[P.slug],folderAssignedCollections:Array.isArray(O)?O:[i],onCreateSuccess:U,slugPrefix:"create-folder--no-results"},"create-folder"),_.includes(i)&&(0,h.jsx)(ml,{buttonLabel:`${j("general:create")} ${j("general:document").toLowerCase()}`,collectionSlugs:[i],folderAssignedCollections:Array.isArray(O)?O:[i],onCreateSuccess:U,slugPrefix:"create-document--no-results"},"create-document")].filter(Boolean),Message:(0,h.jsx)("p",{children:w.t("general:noResults",{label:`${m(H?.plural,w)} ${j("general:or").toLowerCase()} ${m(P.labels?.plural,w)}`})})}),a]}),r]}),M.size>0&&N&&(0,h.jsx)(wk,{item:N,selectedCount:M.size})]})}function wU(e){let t=(0,v.c)(3),{onDragEnd:r,setIsDragging:a}=e,n;return t[0]!==r||t[1]!==a?(n={onDragCancel(){a(!1)},onDragEnd(e){a(!1),r(e)},onDragStart(){a(!0)}},t[0]=r,t[1]=a,t[2]=n):n=t[2],el(n),null}var wV="checkbox-popup";function wH({Button:e,className:t,onChange:r,options:a,selectedValues:n,...l}){return(0,h.jsx)(a7,{button:e,className:[wV,t].filter(Boolean).join(" "),horizontalAlign:"right",render:({close:e})=>(0,h.jsx)("div",{className:`${wV}__options`,children:a.map(({label:t,value:a})=>(0,h.jsx)(oH,{checked:n?.includes(a),label:t,onToggle:()=>{r({close:e,selectedValues:n?.includes(a)?n.filter(e=>e!==a):[...n,a]})}},a))}),showScrollbar:!0,verticalAlign:"bottom",...l})}function wq(){let e=(0,v.c)(13),{activeCollectionFolderSlugs:t,allCollectionFolderSlugs:r,folderCollectionSlug:a,refineFolderData:n}=h4(),{i18n:l,t:i}=(0,f.d)(),{config:o,getEntityConfig:s}=(0,d.b)(),u;e[0]!==o||e[1]!==a||e[2]!==r||e[3]!==s||e[4]!==l?(u=()=>o.collections.reduce((e,t)=>(t.folders&&r.includes(t.slug)&&e.push({label:m(t.labels?.plural,l),value:t.slug}),e),[{label:m(s({collectionSlug:a}).labels?.plural,l),value:a}]),e[0]=o,e[1]=a,e[2]=r,e[3]=s,e[4]=l,e[5]=u):u=e[5];let[p]=c.default.useState(u),g;if(e[6]!==p||e[7]!==n||e[8]!==i||e[9]!==t){let r;e[11]!==n?(r=e=>{let{selectedValues:t}=e;n({query:{relationTo:t},updateURL:!0})},e[11]=n,e[12]=r):r=e[12],g=(0,h.jsx)(wH,{Button:(0,h.jsxs)(na,{buttonStyle:"pill",el:"div",icon:"chevron",margin:!1,size:"small",children:[t.length?(0,h.jsx)("span",{className:"collection-type__count",children:t.length}):null,i("version:type")]}),onChange:r,options:p,selectedValues:t},"relation-to-selection-popup"),e[6]=p,e[7]=n,e[8]=i,e[9]=t,e[10]=g}else g=e[10];return g}var wK="folder-list";function wW({activeCollectionFolderSlugs:e,allCollectionFolderSlugs:t,allowCreateCollectionSlugs:r,baseFolderPath:a,breadcrumbs:n,documents:l,folderFieldName:i,folderID:o,FolderResultsComponent:s,search:c,subfolders:u,...d}){return(0,h.jsx)(h5,{activeCollectionFolderSlugs:e,allCollectionFolderSlugs:t,allowCreateCollectionSlugs:r,baseFolderPath:a,breadcrumbs:n,documents:l,folderFieldName:i,folderID:o,FolderResultsComponent:s,search:c,subfolders:u,children:(0,h.jsx)(wG,{...d})})}function wG(e){let t=(0,v.c)(24),{AfterFolderList:r,AfterFolderListTable:a,BeforeFolderList:n,BeforeFolderListTable:l,Description:i,disableBulkDelete:o,disableBulkEdit:s,folderAssignedCollections:u,viewPreference:p}=e,g=(0,b.useRouter)(),{getEntityConfig:y}=(0,d.b)(),{i18n:x,t:w}=(0,f.d)(),j=nq(),{setStepNav:C}=bL(),{startRouteTransition:S}=aR(),{clearRouteCache:$}=h7(),{breakpoints:_}=ws(),{s:k}=_,{setPreference:E}=ix(),{activeCollectionFolderSlugs:N,allowCreateCollectionSlugs:P,breadcrumbs:D,documents:T,dragOverlayItem:O,folderCollectionConfig:R,folderID:A,folderType:I,getFolderRoute:M,getSelectedItems:L,moveToFolder:F,refineFolderData:B,search:z,selectedItemKeys:U,setIsDragging:V,subfolders:H}=h4(),[q,K]=c.default.useState(p||"grid"),W;t[0]!==D||t[1]!==R||t[2]!==x||t[3]!==w?(W=()=>w("folder:searchByNameInFolder",{folderName:0===D.length?m(R.labels?.plural,x):D[D.length-1].name}),t[0]=D,t[1]=R,t[2]=x,t[3]=w,t[4]=W):W=t[4];let[G]=c.default.useState(W),Y;t[5]!==$||t[6]!==L||t[7]!==F?(Y=async e=>{e.over&&"folder"===e.over.data.current.type&&"id"in e.over.data.current&&(await F({itemsToMove:L(),toFolderID:e.over.data.current.id||null}),$())},t[5]=$,t[6]=L,t[7]=F,t[8]=Y):Y=t[8];let X=Y,Q=T.length+H.length,J=D.length?D[D.length-1].name:w("folder:browseByFolder"),Z;t[9]!==y||t[10]!==x||t[11]!==w?(Z=(e,t,r,a)=>{let n=y({collectionSlug:t});return 0===r?m(n.labels?.plural,x):r===a.length-1?`${e} ${w("general:or").toLowerCase()} ${m(n.labels?.plural,x)}`:`${e}, ${m(n.labels?.plural,x)}`},t[9]=y,t[10]=x,t[11]=w,t[12]=Z):Z=t[12];let ee=N.reduce(Z,""),et,er;t[13]!==D||t[14]!==j||t[15]!==M||t[16]!==g||t[17]!==C||t[18]!==S||t[19]!==w?(et=()=>{j||C([D.length?{label:(0,h.jsxs)(mf,{className:[`${wK}__step-nav-droppable`,`${wK}__step-nav-icon-label`].filter(Boolean).join(" "),id:null,onClick:()=>{S(()=>{g.push(M(null))})},children:[(0,h.jsx)(mp,{}),w("folder:browseByFolder")]},"root")}:{label:(0,h.jsxs)("div",{className:`${wK}__step-nav-icon-label`,children:[(0,h.jsx)(mp,{}),w("folder:browseByFolder")]},"root")},...D.map((e,t)=>({label:t===D.length-1?e.name:(0,h.jsx)(mf,{className:`${wK}__step-nav-droppable`,id:e.id,onClick:()=>{S(()=>{g.push(M(e.id))})},children:e.name},e.id)}))])},er=[D,j,M,g,C,S,w],t[13]=D,t[14]=j,t[15]=M,t[16]=g,t[17]=C,t[18]=S,t[19]=w,t[20]=et,t[21]=er):(et=t[20],er=t[21]),c.default.useEffect(et,er);let ea=P.filter(e=>e!==R.slug),en;return t[22]!==B?(en=e=>B({query:{search:e},updateURL:!0}),t[22]=B,t[23]=en):en=t[23],(0,h.jsxs)(c.Fragment,{children:[(0,h.jsx)(wY,{onDragEnd:X,setIsDragging:V}),(0,h.jsxs)("div",{className:`${wK} ${wK}--folders`,children:[n,(0,h.jsxs)(l8,{className:`${wK}__wrap`,children:[(0,h.jsx)(yY,{Actions:[!k&&(0,h.jsx)(wM,{disableBulkDelete:o,disableBulkEdit:s,folderAssignedCollections:u},"list-selection")].filter(Boolean),AfterListHeaderContent:i,title:J,TitleActions:[P.length&&(0,h.jsx)(ml,{buttonLabel:P.length>1?w("general:createNew"):`${w("general:create")} ${m(R.labels?.singular,x).toLowerCase()}`,collectionSlugs:P,folderAssignedCollections:Array.isArray(I)?I:[],onCreateSuccess:$,slugPrefix:"create-document--header-pill"},"create-new-button")].filter(Boolean)}),(0,h.jsx)(yh,{Actions:[(0,h.jsx)(wT,{},"sort-by-pill"),A&&(0,h.jsx)(wq,{},"collection-type"),(0,h.jsx)(wR,{activeView:q,setActiveView:e=>{E("browse-by-folder",{viewPreference:e}),K(e)}},"toggle-view-buttons"),(0,h.jsx)(w$,{},"current-folder-actions")].filter(Boolean),label:G,onSearchChange:en,searchQueryParam:z}),l,Q>0&&(0,h.jsx)(h.Fragment,{children:"grid"===q?(0,h.jsxs)("div",{children:[H.length?(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(xD,{items:H,title:"Folders",type:"folder"})}):null,T.length?(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(xD,{items:T,subfolderCount:H.length,title:"Documents",type:"file"})}):null]}):(0,h.jsx)(xC,{})}),0===Q&&(0,h.jsx)(mo,{Actions:[P.includes(R.slug)&&(0,h.jsx)(ml,{buttonLabel:`${w("general:create")} ${m(R.labels?.singular,x).toLowerCase()}`,collectionSlugs:[R.slug],folderAssignedCollections:Array.isArray(I)?I:[],onCreateSuccess:$,slugPrefix:"create-folder--no-results"},"create-folder"),A&&ea.length>0&&(0,h.jsx)(ml,{buttonLabel:`${w("general:create")} ${w("general:document").toLowerCase()}`,collectionSlugs:ea,folderAssignedCollections:Array.isArray(I)?I:[],onCreateSuccess:$,slugPrefix:"create-document--no-results"},"create-document")].filter(Boolean),Message:(0,h.jsx)("p",{children:x.t("general:noResults",{label:ee})})}),a]}),r]}),U.size>0&&O&&(0,h.jsx)(wk,{item:O,selectedCount:U.size})]})}function wY(e){let t=(0,v.c)(3),{onDragEnd:r,setIsDragging:a}=e,n;return t[0]!==r||t[1]!==a?(n={onDragCancel(){a(!1)},onDragEnd(e){a(!1),r(e)},onDragStart(){a(!0)}},t[0]=r,t[1]=a,t[2]=n):n=t[2],el(n),null}var wX=e=>{let t=(0,v.c)(9),{AfterHeader:r,drawerSlug:a,showDocumentID:n}=e,l=void 0===n||n,{closeModal:i}=le(),{t:o}=(0,f.d)(),s;if(t[0]!==r||t[1]!==i||t[2]!==a||t[3]!==l||t[4]!==o){let e;t[6]!==i||t[7]!==a?(e=()=>i(a),t[6]=i,t[7]=a,t[8]=e):e=t[8],s=(0,h.jsxs)(l8,{className:`${fO}__header`,children:[(0,h.jsxs)("div",{className:`${fO}__header-content`,children:[(0,h.jsx)("h2",{className:`${fO}__header-text`,children:(0,h.jsx)(xA,{element:"span"})}),(0,h.jsx)("button",{"aria-label":o("general:close"),className:`${fO}__header-close`,onClick:e,type:"button",children:(0,h.jsx)(f.a,{})})]}),l&&(0,h.jsx)(wQ,{}),r?(0,h.jsx)("div",{className:`${fO}__after-header`,children:r}):null]}),t[0]=r,t[1]=i,t[2]=a,t[3]=l,t[4]=o,t[5]=s}else s=t[5];return s},wQ=()=>{let e=(0,v.c)(3),{id:t}=o$(),{title:r}=ov(),a;return e[0]!==t||e[1]!==r?(a=t&&t!==r?(0,h.jsx)(xO,{id:t.toString()}):null,e[0]=t,e[1]=r,e[2]=a):a=e[2],a},wJ=e=>{let{children:t}=e,r=c.default.useRef(null),a=c.default.useRef(null),{breakpoint:n,setMeasuredDeviceSize:l,size:i,zoom:o}=b7(),{size:s}=gJ(r.current),{size:u}=gJ(a.current);(0,c.useEffect)(()=>{s&&l(s)},[s,l]);let d="0",f="0";if(n&&"responsive"!==n&&(d="-50%",i&&s&&"number"==typeof o&&"number"==typeof i.width&&"number"==typeof i.height&&"number"==typeof s.width&&"number"==typeof s.height)){f="0 auto";let e=i.width/o,t=s.width*o,r=e-i.width;if(t>u.width)if(o>1){let e=s.width-u.width;d=e<0?`${e/2}px`:"0"}else d="0";else o>=1?d=`${r/2}px`:(d=`${(u.width-t)/2}px`,f="0")}let p=o?`${100/o}%`:"100%",m=o?`${100/o}%`:"100%";return"responsive"!==n&&(p=`${i?.width/("number"==typeof o?o:1)}px`,m=`${i?.height/("number"==typeof o?o:1)}px`),(0,h.jsx)("div",{ref:a,style:{height:"100%",width:"100%"},children:(0,h.jsx)("div",{ref:r,style:{height:m,margin:f,transform:`translate3d(${d}, 0, 0)`,width:p},children:t})})},wZ=()=>{let e=(0,v.c)(8),{iframeRef:t,setLoadedURL:r,url:a,zoom:n}=b7(),l;e[0]!==r||e[1]!==a?(l=()=>{r(a)},e[0]=r,e[1]=a,e[2]=l):l=e[2];let i="number"==typeof n?`scale(${n}) `:void 0,o;return e[3]!==t||e[4]!==l||e[5]!==i||e[6]!==a?(o=(0,h.jsx)("iframe",{className:"live-preview-iframe",onLoad:l,ref:t,src:a,style:{transform:i},title:a},a),e[3]=t,e[4]=l,e[5]=i,e[6]=a,e[7]=o):o=e[7],o},w0=e=>{let t=(0,v.c)(18),{axis:r}=e,{breakpoint:a,measuredDeviceSize:n,setBreakpoint:l,setSize:i,size:o,zoom:s}=b7(),[u,d]=c.default.useState(("x"===r?n?.width:n?.height)||0),f;t[0]!==r||t[1]!==n?.height||t[2]!==n?.width||t[3]!==l||t[4]!==i||t[5]!==s?(f=e=>{let t=Number(e.target.value);t<0&&(t=0),d(t),l("custom"),i({type:"reset",value:{height:"y"===r?t:Number(n?.height.toFixed(0))*s,width:"x"===r?t:Number(n?.width.toFixed(0))*s}})},t[0]=r,t[1]=n?.height,t[2]=n?.width,t[3]=l,t[4]=i,t[5]=s,t[6]=f):f=t[6];let p=f,m,g;t[7]!==r||t[8]!==a||t[9]!==n||t[10]!==o||t[11]!==s?(m=()=>{"responsive"===a&&n&&d("x"===r?Number(n.width.toFixed(0))*s:Number(n.height.toFixed(0))*s),"responsive"!==a&&o&&d("x"===r?o.width:o.height)},g=[a,r,n,o,s],t[7]=r,t[8]=a,t[9]=n,t[10]=o,t[11]=s,t[12]=m,t[13]=g):(m=t[12],g=t[13]),(0,c.useEffect)(m,g);let b="x"===r?"live-preview-width":"live-preview-height",y=u||0,x;return t[14]!==p||t[15]!==b||t[16]!==y?(x=(0,h.jsx)("input",{className:"toolbar-input",min:0,name:b,onChange:p,step:1,type:"number",value:y}),t[14]=p,t[15]=b,t[16]=y,t[17]=x):x=t[17],x},w1="live-preview-toolbar-controls",w3=[50,75,100,125,150,200],w2=()=>{let e=(0,v.c)(14),{breakpoint:t,breakpoints:r,setBreakpoint:a,setPreviewWindowType:n,setZoom:l,url:i,zoom:o}=b7(),{t:s}=(0,f.d)(),u;if(e[0]!==t||e[1]!==r||e[2]!==a||e[3]!==n||e[4]!==l||e[5]!==s||e[6]!==i||e[7]!==o){let d,p={label:s("general:custom"),value:"custom"},m;e[9]!==l||e[10]!==o?(m=e=>{let{close:t}=e;return(0,h.jsx)(aK.ButtonGroup,{children:(0,h.jsx)(c.default.Fragment,{children:w3.map(e=>(0,h.jsxs)(aK.Button,{active:100*o==e,onClick:()=>{l(e/100),t()},children:[e,"%"]},e))})})},e[9]=l,e[10]=o,e[11]=m):m=e[11],e[12]!==n?(d=e=>{e.preventDefault(),n("popup")},e[12]=n,e[13]=d):d=e[13],u=(0,h.jsxs)("div",{className:w1,children:[r?.length>0&&(0,h.jsx)(a7,{button:(0,h.jsxs)(c.default.Fragment,{children:[(0,h.jsx)("span",{children:r.find(e=>e.name==t)?.label??p.label}),(0,h.jsx)(az,{className:`${w1}__chevron`})]}),className:`${w1}__breakpoint`,horizontalAlign:"right",render:e=>{let{close:n}=e;return(0,h.jsx)(aK.ButtonGroup,{children:(0,h.jsxs)(c.default.Fragment,{children:[r.map(e=>(0,h.jsx)(aK.Button,{active:e.name==t,onClick:()=>{a(e.name),n()},children:e.label},e.name)),"custom"===t&&(0,h.jsx)(aK.Button,{active:t==p.value,onClick:()=>{a(p.value),n()},children:p.label})]})})},showScrollbar:!0,verticalAlign:"bottom"}),(0,h.jsxs)("div",{className:`${w1}__device-size`,children:[(0,h.jsx)(w0,{axis:"x"}),(0,h.jsx)("span",{className:`${w1}__size-divider`,children:(0,h.jsx)(f.a,{})}),(0,h.jsx)(w0,{axis:"y"})]}),(0,h.jsx)(a7,{button:(0,h.jsxs)(c.default.Fragment,{children:[(0,h.jsxs)("span",{children:[100*o,"%"]}),(0,h.jsx)(az,{className:`${w1}__chevron`})]}),className:`${w1}__zoom`,horizontalAlign:"right",render:m,showScrollbar:!0,verticalAlign:"bottom"}),(0,h.jsx)("a",{className:`${w1}__external`,href:i,onClick:d,target:"_blank",title:"Open in new window",type:"button",children:(0,h.jsx)(vd,{})})]}),e[0]=t,e[1]=r,e[2]=a,e[3]=n,e[4]=l,e[5]=s,e[6]=i,e[7]=o,e[8]=u}else u=e[8];return u},w6="live-preview-toolbar",w5=e=>{let t=(0,v.c)(10),{toolbarPosition:r}=b7(),a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={id:"live-preview-toolbar"},t[0]=a):a=t[0];let{attributes:n,listeners:l,setNodeRef:i,transform:o}=tm(a),s;t[1]===Symbol.for("react.memo_cache_sentinel")?(s=[w6,`${w6}--draggable`],t[1]=s):s=t[1];let c=`${r.x}px`,u=`${r.y}px`,d;return t[2]!==n||t[3]!==l||t[4]!==e||t[5]!==i||t[6]!==c||t[7]!==u||t[8]!==o?(d=(0,h.jsxs)("div",{className:s.join(" "),style:{left:c,top:u,...o?{transform:o?`translate3d(${o?.x||0}px, ${o?.y||0}px, 0)`:void 0}:{}},children:[(0,h.jsx)("button",{...l,...n,className:`${w6}__drag-handle`,ref:i,type:"button",children:(0,h.jsx)(oQ,{})}),(0,h.jsx)(w2,{...e})]}),t[2]=n,t[3]=l,t[4]=e,t[5]=i,t[6]=c,t[7]=u,t[8]=o,t[9]=d):d=t[9],d},w4=e=>(0,h.jsx)("div",{className:[w6,`${w6}--static`].join(" "),children:(0,h.jsx)(w2,{...e})}),w8=e=>{let{draggable:t}=e;return t?(0,h.jsx)(w5,{...e}):(0,h.jsx)(w4,{...e})},w9="live-preview-window",w7=e=>{let t,r,a,n=(0,v.c)(49),{appIsReady:l,breakpoint:i,iframeRef:o,isLivePreviewing:s,loadedURL:u,popupRef:f,previewWindowType:p,url:m}=b7(),g=i_(),{mostRecentUpdate:b}=hJ(),[y]=ad(),{id:x,collectionSlug:w,globalSlug:j}=o$(),C;if(n[0]!==l||n[1]!==w||n[2]!==y||n[3]!==j||n[4]!==x||n[5]!==o||n[6]!==s||n[7]!==g||n[8]!==b||n[9]!==f||n[10]!==p||n[11]!==m?(C=()=>{if(!(!s||!l)&&y){let e=rv(y,!0);e.id||(e.id=x);let t={type:"payload-live-preview",collectionSlug:w,data:e,externallyUpdatedRelationship:b,globalSlug:j,locale:g.code};"popup"===p&&f.current&&f.current.postMessage(t,m),"iframe"===p&&o.current&&o.current.contentWindow?.postMessage(t,m)}},n[0]=l,n[1]=w,n[2]=y,n[3]=j,n[4]=x,n[5]=o,n[6]=s,n[7]=g,n[8]=b,n[9]=f,n[10]=p,n[11]=m,n[12]=C):C=n[12],n[13]!==l||n[14]!==w||n[15]!==y||n[16]!==j||n[17]!==x||n[18]!==o||n[19]!==s||n[20]!==u||n[21]!==g||n[22]!==b||n[23]!==f||n[24]!==p||n[25]!==m?(t=[y,m,w,j,x,p,f,l,o,b,g,s,u],n[13]=l,n[14]=w,n[15]=y,n[16]=j,n[17]=x,n[18]=o,n[19]=s,n[20]=u,n[21]=g,n[22]=b,n[23]=f,n[24]=p,n[25]=m,n[26]=t):t=n[26],(0,c.useEffect)(C,t),n[27]!==l||n[28]!==o||n[29]!==s||n[30]!==f||n[31]!==p||n[32]!==m?(r=()=>{if(!s||!l)return;let e={type:"payload-document-event"};"popup"===p&&f.current&&f.current.postMessage(e,m),"iframe"===p&&o.current&&o.current.contentWindow?.postMessage(e,m)},n[27]=l,n[28]=o,n[29]=s,n[30]=f,n[31]=p,n[32]=m,n[33]=r):r=n[33],n[34]!==l||n[35]!==o||n[36]!==s||n[37]!==b||n[38]!==f||n[39]!==p||n[40]!==m?(a=[b,o,f,p,m,s,l],n[34]=l,n[35]=o,n[36]=s,n[37]=b,n[38]=f,n[39]=p,n[40]=m,n[41]=a):a=n[41],(0,c.useEffect)(r,a),"iframe"!==p)return null;let S=s&&`${w9}--is-live-previewing`,$=i&&"responsive"!==i&&`${w9}--has-breakpoint`,_;n[42]!==S||n[43]!==$?(_=[w9,S,$].filter(Boolean),n[42]=S,n[43]=$,n[44]=_):_=n[44];let k=_.join(" "),E;return n[45]!==e||n[46]!==k||n[47]!==m?(E=(0,h.jsx)("div",{className:k,children:(0,h.jsxs)("div",{className:`${w9}__wrapper`,children:[(0,h.jsx)(w8,{...e}),(0,h.jsx)("div",{className:`${w9}__main`,children:(0,h.jsx)(wJ,{children:m?(0,h.jsx)(wZ,{}):(0,h.jsx)(d.e,{height:"100%"})})})]})}),n[45]=e,n[46]=k,n[47]=m,n[48]=E):E=n[48],E},je=async({id:e,clearRouteCache:t,collectionSlug:r,documentLockStateRef:a,globalSlug:n,isLockingEnabled:l,isWithinDoc:i,setCurrentEditor:o,setIsReadOnlyForIncomingUser:s,updateDocumentEditor:c,user:u})=>{if(l)try{await c(e,r??n,u),i||(a.current.hasShownLockedModal=!0),a.current={hasShownLockedModal:a.current?.hasShownLockedModal,isLocked:!0,user:u},o(u),i&&s&&s(!1),t&&t()}catch(e){console.error("Error during document takeover:",e)}},jt="api-key",jr=({enabled:e,readOnly:t})=>{let[r]=(0,c.useState)(so()),[a,n]=(0,c.useState)(!1),[l,i]=(0,c.useState)(!1),{i18n:o,t:s}=(0,f.d)(),{config:u,getEntityConfig:p}=(0,d.b)(),{collectionSlug:g}=o$(),b=au(([e])=>e&&e.apiKey||null),v=p({collectionSlug:g})?.fields?.find(e=>"name"in e&&"apiKey"===e.name),y=b?.value,x=(0,c.useMemo)(()=>{let e="API Key";return v?.label&&(e=v.label),m(e,o)},[v,o]),w=(0,c.useMemo)(()=>(0,h.jsxs)("label",{className:`${jt}__label field-label`,htmlFor:"apiKey",children:[(0,h.jsx)("span",{children:x}),(0,h.jsx)(mq,{value:y})]}),[x,y]),{setValue:j,value:C}=oR({path:"apiKey",validate:e=>r_(e,{name:"apiKey",type:"text",blockData:{},data:{},event:"onChange",maxLength:48,minLength:24,path:["apiKey"],preferences:{fields:{}},req:{payload:{config:u},t:s},siblingData:{}})});return(0,c.useEffect)(()=>{!y&&e&&j(r),!e&&y&&j(null)},[y,e,j,r]),(0,c.useEffect)(()=>{a&&setTimeout(()=>{n(!1)},1e4)},[a]),e?(0,h.jsxs)(c.default.Fragment,{children:[(0,h.jsxs)("div",{className:["field-type","api-key","read-only"].filter(Boolean).join(" "),children:[w,(0,h.jsxs)("div",{className:`${jt}__input-wrap`,children:[(0,h.jsx)("input",{"aria-label":x,className:a?"highlight":void 0,disabled:!0,id:"apiKey",name:"apiKey",type:l?"text":"password",value:C||""}),(0,h.jsx)("div",{className:`${jt}__toggle-button-wrap`,children:(0,h.jsx)(na,{buttonStyle:"none",className:`${jt}__toggle-button`,icon:(0,h.jsx)(vn,{active:l}),onClick:()=>i(e=>!e)})})]})]}),!t&&(0,h.jsx)(vG,{highlightField:()=>{a&&n(!1),setTimeout(()=>{n(!0)},1)},setKey:()=>j(so())})]}):null},ja="auth-fields",jn=e=>{let t,r=(0,v.c)(22),{className:a,collectionSlug:n,disableLocalStrategy:l,email:i,loginWithUsername:o,operation:s,readOnly:u,requirePassword:p,setValidateBeforeSubmit:m,useAPIKey:g,username:b,verify:y}=e,{permissions:x}=ig(),[w,j]=(0,c.useState)(p),C=au(jl),S=au(ji),$=as(),{i18n:_,t:k}=(0,f.d)(),{docPermissions:E,isEditing:N,isInitializing:P,isTrashed:D}=o$(),{config:T}=(0,d.b)(),{routes:O,serverURL:R}=T,{api:A}=O,I=!0,M=!0,L="object"==typeof E.fields&&"password"in E.fields,F="object"==typeof E.fields&&("username"in E.fields||"email"in E.fields);if(L){let{permissions:e}=t3({field:{name:"password",type:"text"},operation:s,parentName:"",permissions:E?.fields});I="create"===s?!0===e||"object"==typeof e&&e.create:!0===e||"object"==typeof e&&e.update}if(F){let e=o&&(o.requireEmail||o.allowEmailLogin),t;r[0]!==E.fields?(t=t3({field:{name:"email",type:"text"},operation:"read",parentName:"",permissions:E?.fields}),r[0]=E.fields,r[1]=t):t=r[1];let{operation:a}=t,n;r[2]!==E.fields?(n=t3({field:{name:"username",type:"text"},operation:"read",parentName:"",permissions:E?.fields}),r[2]=E.fields,r[3]=n):n=r[3];let{operation:l}=n;M=e?l||a:o&&!e?l:a}let B=(!l||"object"==typeof l&&!0===l.enableFields)&&(M||I),z=u||P||D,U=E?.fields===!0||E?.fields?.enableAPIKey,V=u||!0===U||U&&"object"==typeof U&&!U?.update,H=u||!0!==U&&!U?.update,q=!0===U||U?.read,K;e:{let e=x?.collections?.[n];if(e){K=!!("unlock"in e&&e.unlock);break e}K=!1}let W=K,G;r[4]!==S||r[5]!==m||r[6]!==k?(G=e=>{e?(m(!0),S({type:"UPDATE",errorMessage:k("validation:required"),path:"password",valid:!1}),S({type:"UPDATE",errorMessage:k("validation:required"),path:"confirm-password",valid:!1})):(m(!1),S({type:"REMOVE",path:"password"}),S({type:"REMOVE",path:"confirm-password"})),j(e)},r[4]=S,r[5]=m,r[6]=k,r[7]=G):G=r[7];let Y=G,X;r[8]!==A||r[9]!==n||r[10]!==i||r[11]!==_||r[12]!==o||r[13]!==R||r[14]!==k||r[15]!==b?(X=async()=>{let e=`${R}${A}/${n}/unlock`;200===(await fetch(e,{body:JSON.stringify(o&&b?{username:b}:{email:i}),credentials:"include",headers:{"Accept-Language":_.language,"Content-Type":"application/json"},method:"post"})).status?a_.success(k("authentication:successfullyUnlocked")):a_.error(k("authentication:failedToUnlock"))},r[8]=A,r[9]=n,r[10]=i,r[11]=_,r[12]=o,r[13]=R,r[14]=k,r[15]=b,r[16]=X):X=r[16];let Q=X,J,Z;return(r[17]!==$?(J=()=>{$||j(!1)},Z=[$],r[17]=$,r[18]=J,r[19]=Z):(J=r[18],Z=r[19]),(0,c.useEffect)(J,Z),B||g&&q||y&&N)?(r[20]!==a?(t=[ja,a].filter(Boolean),r[20]=a,r[21]=t):t=r[21],(0,h.jsxs)("div",{className:t.join(" "),children:[B&&(0,h.jsxs)(c.default.Fragment,{children:[(0,h.jsx)(wh,{loginWithUsername:o,operation:s,permissions:E?.fields,readOnly:u||D,t:k}),(w||p)&&(!l||!B)&&(0,h.jsxs)("div",{className:`${ja}__changing-password`,children:[(0,h.jsx)(gz,{autoComplete:"new-password",field:{name:"password",label:k("authentication:newPassword"),required:!0},indexPath:"",parentPath:"",parentSchemaPath:"",path:"password",schemaPath:"password"}),(0,h.jsx)(gL,{disabled:u||D})]}),(0,h.jsxs)("div",{className:`${ja}__controls`,children:[w&&!p&&(0,h.jsx)(na,{buttonStyle:"secondary",disabled:z,onClick:()=>Y(!1),size:"medium",children:k("general:cancel")}),!w&&!p&&!l&&I&&(0,h.jsx)(na,{buttonStyle:"secondary",disabled:z,id:"change-password",onClick:()=>Y(!0),size:"medium",children:k("authentication:changePassword")}),"update"===s&&W&&(0,h.jsx)(na,{buttonStyle:"secondary",disabled:z||!M,onClick:()=>void Q(),size:"medium",children:k("authentication:forceUnlock")})]})]}),g&&(0,h.jsx)("div",{className:`${ja}__api-key`,children:q&&(0,h.jsxs)(c.Fragment,{children:[(0,h.jsx)(oK,{field:{name:"enableAPIKey",admin:{disabled:z,readOnly:H},label:k("authentication:enableAPIKey")},path:"enableAPIKey",schemaPath:`${n}.enableAPIKey`}),(0,h.jsx)(jr,{enabled:!!C?.value,readOnly:V})]})}),y&&N&&(0,h.jsx)(oK,{field:{name:"_verified",admin:{disabled:z,readOnly:u},label:k("authentication:verified")},path:"_verified",schemaPath:`${n}._verified`})]})):null};function jl(e){let[t]=e;return t&&t?.enableAPIKey||null}function ji(e){return e[1]}var jo=e=>{let t=(0,v.c)(21),{id:r,collectionSlug:a,globalSlug:n,isTrashed:l,pluralLabel:i,useAsTitle:o}=e,s=e?.view||void 0,{isEditing:u,isInitializing:p}=o$(),{title:h}=ov(),{isEntityVisible:g}=x7(),b;t[0]!==a||t[1]!==n||t[2]!==g?(b=g({collectionSlug:a,globalSlug:n}),t[0]=a,t[1]=n,t[2]=g,t[3]=b):b=t[3];let y=b,{setStepNav:x}=bL(),{i18n:w,t:j}=(0,f.d)(),{config:C}=(0,d.b)(),{routes:S}=C,{admin:$}=S,_,k;return t[4]!==$||t[5]!==a||t[6]!==n||t[7]!==w||t[8]!==r||t[9]!==u||t[10]!==p||t[11]!==l||t[12]!==y||t[13]!==i||t[14]!==x||t[15]!==j||t[16]!==h||t[17]!==o||t[18]!==s?(_=()=>{let e=[];p||(a?(e.push({label:m(i,w),url:y?tE({adminRoute:$,path:`/collections/${a}`}):void 0}),l&&e.push({label:j("general:trash"),url:y?tE({adminRoute:$,path:`/collections/${a}/trash`}):void 0}),u?e.push({label:o&&"id"!==o&&h||`${r}`,url:y?tE({adminRoute:$,path:l?`/collections/${a}/trash/${r}`:`/collections/${a}/${r}`}):void 0}):e.push({label:j("general:createNew")})):n&&e.push({label:h,url:y?tE({adminRoute:$,path:`/globals/${n}`}):void 0}),s&&e.push({label:s}),x(e))},k=[x,p,u,i,r,l,o,$,j,w,h,a,n,s,y],t[4]=$,t[5]=a,t[6]=n,t[7]=w,t[8]=r,t[9]=u,t[10]=p,t[11]=l,t[12]=y,t[13]=i,t[14]=x,t[15]=j,t[16]=h,t[17]=o,t[18]=s,t[19]=_,t[20]=k):(_=t[19],k=t[20]),(0,c.useEffect)(_,k),null},js=e=>{let t=(0,v.c)(14),{collectionConfig:r,config:a,fallback:n,globalConfig:l}=e,i=r?.admin?.useAsTitle,o;t[0]!==i?(o=e=>{let[t]=e;return i&&t&&t?.[i]||null},t[0]=i,t[1]=o):o=t[1];let s=au(o),u=(0,c.useRef)(!1),{i18n:d}=(0,f.d)(),{setDocumentTitle:p}=ov(),h=a?.admin?.dateFormat,m=s?.value||"",g;t[2]!==r||t[3]!==h||t[4]!==n||t[5]!==l||t[6]!==d||t[7]!==m||t[8]!==i?(g=og({collectionConfig:r,data:{id:"",[i]:m},dateFormat:h,fallback:n,globalConfig:l,i18n:d}),t[2]=r,t[3]=h,t[4]=n,t[5]=l,t[6]=d,t[7]=m,t[8]=i,t[9]=g):g=t[9];let b=g,y,x;return t[10]!==p||t[11]!==b?(y=()=>{if(!u.current){u.current=!0;return}p(b)},x=[p,b],t[10]=p,t[11]=b,t[12]=y,t[13]=x):(y=t[12],x=t[13]),(0,c.useEffect)(y,x),null},jc="collection-edit";function ju({BeforeDocumentControls:e,Description:t,EditMenuItems:r,LivePreview:a,PreviewButton:n,PublishButton:l,SaveButton:i,SaveDraftButton:o,Upload:s,UploadControls:u}){let{id:f,action:p,AfterDocument:m,AfterFields:g,apiURL:v,BeforeFields:y,collectionSlug:x,currentEditor:w,data:j,disableActions:C,disableCreate:S,disableLeaveWithoutSaving:$,docPermissions:_,documentIsLocked:k,documentLockState:E,getDocPermissions:N,getDocPreferences:P,globalSlug:D,hasPublishPermission:T,hasSavePermission:O,incrementVersionCount:R,initialState:A,isEditing:I,isInitializing:M,isLocked:L,isTrashed:F,lastUpdateTime:B,redirectAfterCreate:z,redirectAfterDelete:U,redirectAfterDuplicate:V,redirectAfterRestore:H,setCurrentEditor:q,setData:K,setDocumentIsLocked:W,setLastUpdateTime:G,unlockDocument:Y,updateDocumentEditor:X}=o$(),{clearDoc:Q,drawerSlug:J,onDelete:Z,onDuplicate:ee,onRestore:et,onSave:er}=fD(),ea=!!J,{refreshCookieAsync:en,user:el}=ig(),{config:ei,config:{admin:{user:eo},routes:{admin:es}},getEntityConfig:ec}=(0,d.b)(),eu=ec({collectionSlug:x}),ed=ec({globalSlug:D}),ef=nq(),ep=(0,b.useRouter)(),eh=(0,b.useSearchParams)(),{reportUpdate:em}=hJ(),{resetUploadEdits:eg}=oj(),{getFormState:eb}=fs(),{startRouteTransition:ev}=aR(),{clearRouteCache:ey}=h7(),{isLivePreviewEnabled:ex,isLivePreviewing:ew,previewWindowType:ej,setURL:eC,typeofLivePreviewURL:eS,url:e$}=b7(),e_=(0,c.useRef)(null),ek=(0,c.useRef)(null),eE=eh.get("locale"),eN=eu?.slug||ed?.slug,eP=x&&!f?"create":"update",eD=eu?eu.auth:void 0,eT=eu?eu.upload:void 0,eO=eu||ed,eR=eO?.lockDocuments===void 0||eO?.lockDocuments,eA=!1!==eR,eI=("object"==typeof eR?eR.duration:300)*1e3,eM=!!(eu?.versions?.drafts&&eu?.versions?.drafts?.autosave||ed?.versions?.drafts&&ed?.versions?.drafts?.autosave),[eL,eF]=(0,c.useState)(!1),[eB,ez]=(0,c.useState)(!1),[eU,eV]=(0,c.useState)(Date.now()),eH=B+eI,eq=Date.now()>eH,eK=(0,c.useMemo)(()=>[eN],[eN]),[eW,eG]=(0,c.useState)(()=>!!("create"===eP&&eD&&!eD.disableLocalStrategy)),eY=c.default.useRef(null),eX=(0,c.useCallback)(e=>{W(!0);let t="object"==typeof E.current?.user?E.current?.user?.id:E.current?.user;if(e){let r="string"==typeof e.user||"number"==typeof e.user?e.user:e.user.id;E.current&&r===t||(t===el.id&&r!==el.id&&(ez(!0),E.current.hasShownLockedModal=!0),E.current={hasShownLockedModal:E.current?.hasShownLockedModal||!1,isLocked:!0,user:e.user},q(e.user)),e.lastEditedAt&&G(new Date(e.lastEditedAt).getTime())}},[E,q,W,G,el?.id]),eQ=(0,c.useCallback)(e=>{eY.current=e},[]),eJ=(0,c.useCallback)(async()=>{let e=E.current?.user,t="object"==typeof e?e?.id===el?.id:e===el?.id;if(eA&&k&&(f||D)){let e=eY.current?new URL(eY.current).pathname:"";if(!["/preview","/api","/versions"].some(t=>e.includes(t))&&t)try{await Y(f,x??D),W(!1),q(null)}catch(e){console.error("Failed to unlock before leave",e)}}},[x,k,E,D,f,eA,q,W,Y,el?.id]),eZ=(0,c.useCallback)(async(e,t)=>{let{context:r,formState:a}=t||{},n=fE(ek),l=e?.doc||e?.result,i=l?.updatedAt||new Date().toISOString();if(el&&x===eo&&f===el.id&&en(),G(i),r?.incrementVersionCount!==!1&&R(),"function"==typeof K&&K(l||{}),"function"==typeof er){let t=f?"update":"create";er({...e,context:r,operation:t,updatedAt:"update"===t?new Date().toISOString():l?.updatedAt||new Date().toISOString()})}if(!I&&ef<2&&!1!==z){let e=tE({adminRoute:es,path:`/collections/${x}/${l?.id}${eE?`?locale=${eE}`:""}`});ev(()=>ep.push(e))}else eg();if(r?.getDocPermissions!==!1&&await N(e),f||D){let e=await P(),{livePreviewURL:t,state:r}=await eb({id:f,collectionSlug:x,data:l,docPermissions:_,docPreferences:e,formState:a,globalSlug:D,operation:eP,renderAllFields:!1,returnLivePreviewURL:ex&&"function"===eS,returnLockStatus:!1,schemaPath:eK.join("."),signal:n.signal,skipValidation:!0});return eA&&W(!1),ex&&"function"===eS&&eC(t),em({id:f,entitySlug:eN,updatedAt:i}),ek.current=null,r}},[em,f,eN,el,x,eo,G,K,er,I,ef,z,eC,D,en,R,es,eE,ev,ep,eg,N,P,eb,_,eP,ex,eS,eK,eA,W]),e0=(0,c.useCallback)(async({formState:e,submitted:t})=>{let r=fE(e_),a=Date.now(),n=a-eU,l=eA&&n>=1e4;l&&eV(a);let i=await P(),o=await eb({id:f,collectionSlug:x,docPermissions:_,docPreferences:i,formState:e,globalSlug:D,operation:eP,renderAllFields:!1,returnLockStatus:eA,schemaPath:eK.join("."),signal:r.signal,skipValidation:!t,updateLastEdited:l});if(!o)return;let{lockedState:s,state:c}=o;return eA&&eX(s),e_.current=null,c},[eU,eA,P,eb,f,x,_,D,eP,eK,eX]);(0,c.useEffect)(()=>()=>{ez(!1)},[]),(0,c.useEffect)(()=>{let e=e_.current,t=ek.current;return()=>{fk(e),fk(t)}},[]);let e1=k&&w&&("object"==typeof w?w.id!==el?.id:w!==el?.id)&&!eL&&!eB&&!E.current?.hasShownLockedModal&&!eq,e3=ei.folders&&x===ei.folders?.slug;return(0,h.jsx)("main",{className:[jc,(f||D)&&`${jc}--is-editing`,D&&`global-edit--${D}`,x&&`collection-edit--${x}`,ew&&"iframe"===ej&&`${jc}--is-live-previewing`].filter(Boolean).join(" "),children:(0,h.jsx)(oN,{operation:eP,children:(0,h.jsxs)(hn,{action:p,className:`${jc}__form`,disabled:eL||M||!O||F,disableValidationOnSubmit:!eW,initialState:!M&&A,isDocumentForm:!0,isInitializing:M,method:f?"PATCH":"POST",onChange:[e0],onSuccess:eZ,children:[ea&&(0,h.jsx)(wX,{AfterHeader:t,drawerSlug:J,showDocumentID:!e3}),eA&&e1&&(0,h.jsx)(bp,{handleGoBack:()=>(({adminRoute:e,collectionSlug:t,router:r})=>{let a=tE({adminRoute:e,path:t?`/collections/${t}`:"/"});r.push(a)})({adminRoute:es,collectionSlug:x,router:ep}),isActive:e1,onReadOnly:()=>{eF(!0),ez(!1)},onTakeOver:()=>je({id:f,clearRouteCache:ey,collectionSlug:x,documentLockStateRef:E,globalSlug:D,isLockingEnabled:eA,isWithinDoc:!1,setCurrentEditor:q,updateDocumentEditor:X,user:el}),updatedAt:B,user:w}),eA&&eB&&(0,h.jsx)(bu,{handleBackToDashboard:()=>(({adminRoute:e,router:t})=>{let r=tE({adminRoute:e,path:"/"});t.push(r)})({adminRoute:es,router:ep}),isActive:eB,onReadOnly:()=>{eF(!0),ez(!1)}}),!eL&&("u">typeof $?!$:!eM)&&(0,h.jsx)(bo,{onConfirm:eJ,onPrevent:eQ}),!ea&&(0,h.jsx)(jo,{collectionSlug:eu?.slug,globalSlug:ed?.slug,id:f,isTrashed:F,pluralLabel:eu?.labels?.plural,useAsTitle:eu?.admin?.useAsTitle}),(0,h.jsx)(js,{collectionConfig:eu,config:ei,fallback:ef<=1?f?.toString():void 0,globalConfig:ed}),(0,h.jsx)(vk,{apiURL:v,BeforeDocumentControls:e,customComponents:{PreviewButton:n,PublishButton:l,SaveButton:i,SaveDraftButton:o},data:j,disableActions:C||e3||F,disableCreate:S,EditMenuItems:r,hasPublishPermission:T,hasSavePermission:O,id:f,isEditing:I,isInDrawer:ea,isTrashed:F,onDelete:Z,onDrawerCreateNew:Q,onDuplicate:ee,onRestore:et,onSave:eZ,onTakeOver:()=>je({id:f,clearRouteCache:ey,collectionSlug:x,documentLockStateRef:E,globalSlug:D,isLockingEnabled:eA,isWithinDoc:!0,setCurrentEditor:q,setIsReadOnlyForIncomingUser:eF,updateDocumentEditor:X,user:el}),permissions:_,readOnlyForIncomingUser:eL,redirectAfterDelete:U,redirectAfterDuplicate:V,redirectAfterRestore:H,slug:eu?.slug||ed?.slug,user:w}),(0,h.jsxs)("div",{className:[`${jc}__main-wrapper`,"popup"===ej&&`${jc}--detached`].filter(Boolean).join(" "),children:[(0,h.jsxs)("div",{className:[`${jc}__main`,"popup"===ej&&`${jc}__main--popup-open`].filter(Boolean).join(" "),children:[(0,h.jsx)(h3,{AfterFields:g,BeforeFields:y||(0,h.jsxs)(c.Fragment,{children:[eD&&(0,h.jsx)(jn,{className:`${jc}__auth`,collectionSlug:eu.slug,disableLocalStrategy:eu.auth?.disableLocalStrategy,email:j?.email,loginWithUsername:eD?.loginWithUsername,operation:eP,readOnly:!O,requirePassword:!f,setValidateBeforeSubmit:eG,useAPIKey:eD.useAPIKey,username:j?.username,verify:eD.verify}),eT&&(0,h.jsx)(c.default.Fragment,{children:(0,h.jsx)(hj,{children:s||(0,h.jsx)(m4,{collectionSlug:eu.slug,initialState:A,uploadConfig:eT,UploadControls:u})})})]}),Description:t,docPermissions:_,fields:eO.fields,forceSidebarWrap:ew,isTrashed:F,readOnly:eL||!O||F,schemaPathSegments:eK}),m]}),ex&&!ea&&e$&&(0,h.jsx)(h.Fragment,{children:a||(0,h.jsx)(w7,{collectionSlug:x,globalSlug:D})})]})]},`${L}`)})})}var jd=({children:e})=>(0,h.jsx)("div",{className:"field-diff-label",children:e}),jf="field-diff",jp=e=>{let{className:t,From:r,i18n:a,label:{label:n,locale:l},nestingLevel:i=0,To:o}=e;return(0,h.jsxs)("div",{className:`${jf}-container${t?` ${t}`:""} nested-level-${i}`,style:i?{"--left-offset":`calc(50%  - (${i} * calc( calc(var(--base)* 0.5) - 2.5px  )))`}:{"--left-offset":"50%"},children:[(0,h.jsxs)(jd,{children:[l&&(0,h.jsx)("span",{className:`${jf}__locale-label`,children:l}),"function"!=typeof n&&m(n||"",a)]}),(0,h.jsxs)("div",{className:`${jf}-content`,style:i?{gridTemplateColumns:"calc(var(--left-offset) - calc(var(--base)*0.5) )     calc(50% - calc(var(--base)*0.5) + calc(50% - var(--left-offset)))"}:void 0,children:[r,o]})]})};e.s(["Account",()=>by,"ActionsProvider",()=>bj,"AnimateHeight",()=>oJ,"AppHeader",()=>bq,"ArrayField",()=>gM,"AuthProvider",()=>im,"Banner",()=>aB,"BlocksDrawer",()=>sp,"BlocksField",()=>sx,"BrowseByFolderButton",()=>xo,"BulkUploadDrawer",()=>gd,"BulkUploadProvider",()=>gb,"Button",()=>na,"Card",()=>bW,"CheckIcon",()=>oz,"CheckboxField",()=>oK,"CheckboxInput",()=>oH,"ChevronIcon",()=>az,"ClientFunctionProvider",()=>xJ,"CloseMenuIcon",()=>bC,"CodeBlockIcon",()=>xB,"CodeEditorLazy",()=>sj,"CodeField",()=>sS,"Collapsible",()=>o2,"CollapsibleField",()=>sE,"ConfirmPasswordField",()=>gL,"ConfirmationModal",()=>is,"CopyIcon",()=>nc,"CopyLocaleData",()=>bX,"CopyToClipboard",()=>mq,"DateCell",()=>fG,"DateCondition",()=>ym,"DateTimeField",()=>dX,"DefaultBlockImage",()=>ss,"DefaultBrowseByFolderView",()=>wW,"DefaultCell",()=>f5,"DefaultCollectionFolderView",()=>wB,"DefaultEditView",()=>ju,"DefaultListView",()=>wj,"DeleteMany",()=>b4,"DocumentControls",()=>vk,"DocumentEventsProvider",()=>hQ,"DocumentFields",()=>h3,"DocumentIcon",()=>xc,"DocumentInfoProvider",()=>ok,"DocumentLocked",()=>bp,"DocumentTakeOver",()=>bu,"DragHandleIcon",()=>oQ,"Drawer",()=>ir,"DrawerContentContainer",()=>ma,"DrawerToggler",()=>it,"Dropzone",()=>h$,"EditDepthProvider",()=>nH,"EditIcon",()=>aU,"EditMany",()=>vq,"EditUpload",()=>mz,"EmailAndUsernameFields",()=>wh,"EmailField",()=>dQ,"EntityVisibilityProvider",()=>x9,"ErrorIcon",()=>xK,"ErrorPill",()=>nF,"ExternalLinkIcon",()=>vd,"FieldContext",()=>oO,"FieldDescription",()=>nz,"FieldDiffContainer",()=>jp,"FieldDiffLabel",()=>jd,"FieldError",()=>nU,"FieldLabel",()=>iN,"FieldPathContext",()=>oD,"File",()=>fY,"FileDetails",()=>mX,"FolderFileTable",()=>xC,"FolderIcon",()=>h2,"FolderProvider",()=>h5,"FolderTypeField",()=>xs,"Form",()=>hn,"FormLoadingOverlayToggle",()=>f_,"FormSubmit",()=>me,"FullscreenModal",()=>vW,"GenerateConfirmation",()=>vG,"GridViewIcon",()=>xH,"GroupByHeader",()=>y5,"GroupByPageControls",()=>xr,"GroupField",()=>d5,"Gutter",()=>l8,"Hamburger",()=>b_,"HiddenField",()=>d4,"HydrateAuthProvider",()=>vX,"InfoIcon",()=>xW,"ItemCardGrid",()=>xD,"JSONField",()=>pf,"JoinField",()=>pd,"LeaveWithoutSaving",()=>bo,"LineIcon",()=>oU,"Link",()=>aL,"LinkIcon",()=>aV,"ListControls",()=>yR,"ListDrawerContextProvider",()=>d7,"ListHeader",()=>y2,"ListQueryProvider",()=>fi,"ListSelection",()=>yH,"ListViewIcon",()=>xq,"LivePreviewProvider",()=>x6,"LivePreviewWindow",()=>w7,"LoadingOverlay",()=>fS,"LoadingOverlayToggle",()=>f$,"LocaleProvider",()=>iS,"Locked",()=>vc,"LogOutIcon",()=>xa,"Logout",()=>xn,"MenuIcon",()=>bS,"MinimizeMaximizeIcon",()=>xU,"Modal",()=>lb,"MoreIcon",()=>ns,"MoveDocToFolder",()=>mk,"MoveDocToFolderButton",()=>mN,"MoveFolderIcon",()=>xV,"NavGroup",()=>xi,"NavToggler",()=>bI,"NullifyLocaleField",()=>oW,"NumberCondition",()=>yg,"NumberField",()=>pp,"OperationProvider",()=>oN,"OrderableTable",()=>g7,"Pagination",()=>pl,"ParamsProvider",()=>wt,"PasswordField",()=>gz,"PayloadIcon",()=>bM,"PerPage",()=>y9,"Pill",()=>o9,"PillSelector",()=>fh,"PlusIcon",()=>aH,"PointField",()=>pm,"Popup",()=>a7,"PopupList",()=>aK,"PreferencesProvider",()=>iy,"PreviewButton",()=>vf,"PreviewSizes",()=>m0,"ProgressBar",()=>x4,"PublishButton",()=>vy,"PublishMany",()=>yI,"QueryPresetsAccessCell",()=>br,"QueryPresetsColumnField",()=>ba,"QueryPresetsColumnsCell",()=>be,"QueryPresetsWhereCell",()=>bt,"QueryPresetsWhereField",()=>bl,"RadioGroupField",()=>py,"ReactSelect",()=>dK,"RelationshipCondition",()=>yj,"RelationshipField",()=>pW,"RelationshipInput",()=>pK,"RelationshipProvider",()=>fB,"RelationshipTable",()=>ps,"RenderCustomComponent",()=>rY,"RenderDefaultCell",()=>f7,"RenderFields",()=>gO,"RenderTitle",()=>xA,"RichTextField",()=>pG,"RootProvider",()=>wp,"RouteCacheProvider",()=>h9,"RouteTransitionProvider",()=>aT,"RowField",()=>pY,"RowLabel",()=>am,"RowLabelProvider",()=>ap,"SaveButton",()=>vj,"SaveDraftButton",()=>vC,"ScrollInfoProvider",()=>wi,"SearchFilter",()=>yf,"SearchIcon",()=>sc,"SearchParamsProvider",()=>wu,"SectionTitle",()=>sg,"Select",()=>dK,"SelectAll",()=>wg,"SelectCondition",()=>yC,"SelectField",()=>pJ,"SelectInput",()=>pX,"SelectMany",()=>wy,"SelectRow",()=>wv,"SelectionProvider",()=>b1,"ServerFunctionsContext",()=>fo,"ServerFunctionsProvider",()=>fc,"SetDocumentStepNav",()=>jo,"SetDocumentTitle",()=>js,"SetStepNav",()=>bz,"SlugField",()=>xL,"SortColumn",()=>xM,"SortHeader",()=>g2,"SortRow",()=>g5,"SuccessIcon",()=>xG,"SwapIcon",()=>aq,"TabComponent",()=>hi,"Table",()=>vm,"TableColumnsProvider",()=>ff,"TabsField",()=>hc,"TabsProvider",()=>d1,"TextCondition",()=>y$,"TextField",()=>hb,"TextInput",()=>hh,"TextareaField",()=>hy,"TextareaInput",()=>hv,"Thumbnail",()=>fQ,"TimezonePicker",()=>dG,"Tooltip",()=>ne,"Translation",()=>mc,"UIField",()=>hx,"UnpublishMany",()=>yU,"Upload",()=>m4,"UploadEditsProvider",()=>ow,"UploadField",()=>gP,"UploadHandlersProvider",()=>p6,"UploadInput",()=>gN,"ViewDescription",()=>bh,"WarningIcon",()=>xY,"WatchChildErrors",()=>s_,"WatchCondition",()=>oI,"WindowInfoProvider",()=>wo,"allFieldComponents",()=>gV,"documentDrawerBaseClass",()=>fO,"fieldBaseClass",()=>oF,"fieldComponents",()=>gU,"fieldReducer",()=>hr,"formatDrawerSlug",()=>ie,"formatTimeToNow",()=>op,"getHTMLDiffComponents",()=>vA,"parseSearchParams",()=>ft,"toast",()=>a_,"useActions",()=>bw,"useAddClientFunction",()=>xZ,"useAllFormFields",()=>ad,"useAuth",()=>ig,"useBulkUpload",()=>gv,"useBulkUploadDrawerSlug",()=>gy,"useCellProps",()=>f9,"useClickOutside",()=>vF,"useClickOutsideContext",()=>vL,"useClientFunctions",()=>x0,"useCollapsible",()=>o1,"useDebounce",()=>fM,"useDebouncedCallback",()=>pE,"useDebouncedEffect",()=>p3,"useDelayedRender",()=>fb,"useDocumentDrawer",()=>fI,"useDocumentDrawerContext",()=>fD,"useDocumentEvents",()=>hJ,"useDocumentForm",()=>aa,"useDocumentInfo",()=>o$,"useDocumentTitle",()=>ov,"useDrawerSlug",()=>l9,"useEditDepth",()=>nq,"useEffectEvent",()=>id,"useEntityVisibility",()=>x7,"useField",()=>oR,"useFieldPath",()=>oT,"useFolder",()=>h4,"useForm",()=>ar,"useFormBackgroundProcessing",()=>ao,"useFormFields",()=>au,"useFormInitializing",()=>ac,"useFormModified",()=>as,"useFormProcessing",()=>ai,"useFormSubmitted",()=>al,"useHotkey",()=>gW,"useIntersect",()=>a5,"useListDrawer",()=>p_,"useListDrawerContext",()=>fe,"useListQuery",()=>fa,"useListRelationships",()=>fz,"useLivePreviewContext",()=>b7,"useLocale",()=>i_,"useModal",()=>le,"useNav",()=>bT,"useOperation",()=>oP,"useParams",()=>wr,"usePayloadAPI",()=>gQ,"usePreferences",()=>ix,"useResize",()=>gJ,"useRouteCache",()=>h7,"useRouteTransition",()=>aR,"useRowLabel",()=>ah,"useScrollInfo",()=>wn,"useSearchParams",()=>wd,"useSelection",()=>b3,"useServerFunctions",()=>fs,"useStepNav",()=>bL,"useTableColumns",()=>fd,"useThrottledEffect",()=>iT,"useUploadControls",()=>hC,"useUploadEdits",()=>oj,"useUploadHandlers",()=>p5,"useUseTitleField",()=>gZ,"useWatchForm",()=>an,"useWindowInfo",()=>ws,"withCondition",()=>oM],847008)}]);